var GU=Object.defineProperty;var zU=(i,e,n)=>e in i?GU(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var Qe=(i,e,n)=>zU(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();var NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function sm(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var t=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(n,r,t.get?t:{enumerable:!0,get:function(){return i[r]}})}),n}var i0={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function KU(){if(xA)return Lu;xA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,t,o){var a=null;if(o!==void 0&&(a=""+o),t.key!==void 0&&(a=""+t.key),"key"in t){o={};for(var l in t)l!=="key"&&(o[l]=t[l])}else o=t;return t=o.ref,{$$typeof:i,type:r,key:a,ref:t!==void 0?t:null,props:o}}return Lu.Fragment=e,Lu.jsx=n,Lu.jsxs=n,Lu}var OA;function WU(){return OA||(OA=1,i0.exports=KU()),i0.exports}var k=WU(),o0={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function $U(){if(DA)return Tt;DA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),t=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function S(V,H,P){this.props=V,this.context=H,this.refs=C,this.updater=P||E}S.prototype.isReactComponent={},S.prototype.setState=function(V,H){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,H,"setState")},S.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function b(){}b.prototype=S.prototype;function I(V,H,P){this.props=V,this.context=H,this.refs=C,this.updater=P||E}var N=I.prototype=new b;N.constructor=I,T(N,S.prototype),N.isPureReactComponent=!0;var x=Array.isArray;function L(){}var F={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Q(V,H,P){var ue=P.ref;return{$$typeof:i,type:V,key:H,ref:ue!==void 0?ue:null,props:P}}function j(V,H){return Q(V.type,H,V.props)}function Z(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function ie(V){var H={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(P){return H[P]})}var J=/\/+/g;function Re(V,H){return typeof V=="object"&&V!==null&&V.key!=null?ie(""+V.key):H.toString(36)}function Fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(H){V.status==="pending"&&(V.status="fulfilled",V.value=H)},function(H){V.status==="pending"&&(V.status="rejected",V.reason=H)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,H,P,ue,_e){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(Oe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case i:case e:ce=!0;break;case f:return ce=V._init,ee(ce(V._payload),H,P,ue,_e)}}if(ce)return _e=_e(V),ce=ue===""?"."+Re(V,0):ue,x(_e)?(P="",ce!=null&&(P=ce.replace(J,"$&/")+"/"),ee(_e,H,P,"",function(xe){return xe})):_e!=null&&(Z(_e)&&(_e=j(_e,P+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(J,"$&/")+"/")+ce)),H.push(_e)),1;ce=0;var le=ue===""?".":ue+":";if(x(V))for(var he=0;he<V.length;he++)ue=V[he],Oe=le+Re(ue,he),ce+=ee(ue,H,P,Oe,_e);else if(he=y(V),typeof he=="function")for(V=he.call(V),he=0;!(ue=V.next()).done;)ue=ue.value,Oe=le+Re(ue,he++),ce+=ee(ue,H,P,Oe,_e);else if(Oe==="object"){if(typeof V.then=="function")return ee(Fe(V),H,P,ue,_e);throw H=String(V),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Ee(V,H,P){if(V==null)return V;var ue=[],_e=0;return ee(V,ue,"","",function(Oe){return H.call(P,Oe,_e++)}),ue}function ye(V){if(V._status===-1){var H=V._result;H=H(),H.then(function(P){(V._status===0||V._status===-1)&&(V._status=1,V._result=P)},function(P){(V._status===0||V._status===-1)&&(V._status=2,V._result=P)}),V._status===-1&&(V._status=0,V._result=H)}if(V._status===1)return V._result.default;throw V._result}var Pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},$={map:Ee,forEach:function(V,H,P){Ee(V,function(){H.apply(this,arguments)},P)},count:function(V){var H=0;return Ee(V,function(){H++}),H},toArray:function(V){return Ee(V,function(H){return H})||[]},only:function(V){if(!Z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=p,Tt.Children=$,Tt.Component=S,Tt.Fragment=n,Tt.Profiler=t,Tt.PureComponent=I,Tt.StrictMode=r,Tt.Suspense=c,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return F.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,H,P){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=T({},V.props),_e=V.key;if(H!=null)for(Oe in H.key!==void 0&&(_e=""+H.key),H)!G.call(H,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&H.ref===void 0||(ue[Oe]=H[Oe]);var Oe=arguments.length-2;if(Oe===1)ue.children=P;else if(1<Oe){for(var ce=Array(Oe),le=0;le<Oe;le++)ce[le]=arguments[le+2];ue.children=ce}return Q(V.type,_e,ue)},Tt.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Tt.createElement=function(V,H,P){var ue,_e={},Oe=null;if(H!=null)for(ue in H.key!==void 0&&(Oe=""+H.key),H)G.call(H,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=H[ue]);var ce=arguments.length-2;if(ce===1)_e.children=P;else if(1<ce){for(var le=Array(ce),he=0;he<ce;he++)le[he]=arguments[he+2];_e.children=le}if(V&&V.defaultProps)for(ue in ce=V.defaultProps,ce)_e[ue]===void 0&&(_e[ue]=ce[ue]);return Q(V,Oe,_e)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:l,render:V}},Tt.isValidElement=Z,Tt.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:ye}},Tt.memo=function(V,H){return{$$typeof:d,type:V,compare:H===void 0?null:H}},Tt.startTransition=function(V){var H=F.T,P={};F.T=P;try{var ue=V(),_e=F.S;_e!==null&&_e(P,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(L,Pe)}catch(Oe){Pe(Oe)}finally{H!==null&&P.types!==null&&(H.types=P.types),F.T=H}},Tt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Tt.use=function(V){return F.H.use(V)},Tt.useActionState=function(V,H,P){return F.H.useActionState(V,H,P)},Tt.useCallback=function(V,H){return F.H.useCallback(V,H)},Tt.useContext=function(V){return F.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,H){return F.H.useDeferredValue(V,H)},Tt.useEffect=function(V,H){return F.H.useEffect(V,H)},Tt.useEffectEvent=function(V){return F.H.useEffectEvent(V)},Tt.useId=function(){return F.H.useId()},Tt.useImperativeHandle=function(V,H,P){return F.H.useImperativeHandle(V,H,P)},Tt.useInsertionEffect=function(V,H){return F.H.useInsertionEffect(V,H)},Tt.useLayoutEffect=function(V,H){return F.H.useLayoutEffect(V,H)},Tt.useMemo=function(V,H){return F.H.useMemo(V,H)},Tt.useOptimistic=function(V,H){return F.H.useOptimistic(V,H)},Tt.useReducer=function(V,H,P){return F.H.useReducer(V,H,P)},Tt.useRef=function(V){return F.H.useRef(V)},Tt.useState=function(V){return F.H.useState(V)},Tt.useSyncExternalStore=function(V,H,P){return F.H.useSyncExternalStore(V,H,P)},Tt.useTransition=function(){return F.H.useTransition()},Tt.version="19.2.3",Tt}var MA;function Fv(){return MA||(MA=1,o0.exports=$U()),o0.exports}var Ie=Fv();const jU=Uv(Ie);var s0={exports:{}},Uu={},a0={exports:{}},l0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function JU(){return kA||(kA=1,(function(i){function e(ee,Ee){var ye=ee.length;ee.push(Ee);e:for(;0<ye;){var Pe=ye-1>>>1,$=ee[Pe];if(0<t($,Ee))ee[Pe]=Ee,ee[ye]=$,ye=Pe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Ee=ee[0],ye=ee.pop();if(ye!==Ee){ee[0]=ye;e:for(var Pe=0,$=ee.length,V=$>>>1;Pe<V;){var H=2*(Pe+1)-1,P=ee[H],ue=H+1,_e=ee[ue];if(0>t(P,ye))ue<$&&0>t(_e,P)?(ee[Pe]=_e,ee[ue]=ye,Pe=ue):(ee[Pe]=P,ee[H]=ye,Pe=H);else if(ue<$&&0>t(_e,ye))ee[Pe]=_e,ee[ue]=ye,Pe=ue;else break e}}return Ee}function t(ee,Ee){var ye=ee.sortIndex-Ee.sortIndex;return ye!==0?ye:ee.id-Ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,m=3,y=!1,E=!1,T=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(ee){for(var Ee=n(d);Ee!==null;){if(Ee.callback===null)r(d);else if(Ee.startTime<=ee)r(d),Ee.sortIndex=Ee.expirationTime,e(c,Ee);else break;Ee=n(d)}}function x(ee){if(T=!1,N(ee),!E)if(n(c)!==null)E=!0,L||(L=!0,ie());else{var Ee=n(d);Ee!==null&&Fe(x,Ee.startTime-ee)}}var L=!1,F=-1,G=5,Q=-1;function j(){return C?!0:!(i.unstable_now()-Q<G)}function Z(){if(C=!1,L){var ee=i.unstable_now();Q=ee;var Ee=!0;try{e:{E=!1,T&&(T=!1,b(F),F=-1),y=!0;var ye=m;try{t:{for(N(ee),p=n(c);p!==null&&!(p.expirationTime>ee&&j());){var Pe=p.callback;if(typeof Pe=="function"){p.callback=null,m=p.priorityLevel;var $=Pe(p.expirationTime<=ee);if(ee=i.unstable_now(),typeof $=="function"){p.callback=$,N(ee),Ee=!0;break t}p===n(c)&&r(c),N(ee)}else r(c);p=n(c)}if(p!==null)Ee=!0;else{var V=n(d);V!==null&&Fe(x,V.startTime-ee),Ee=!1}}break e}finally{p=null,m=ye,y=!1}Ee=void 0}}finally{Ee?ie():L=!1}}}var ie;if(typeof I=="function")ie=function(){I(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Re=J.port2;J.port1.onmessage=Z,ie=function(){Re.postMessage(null)}}else ie=function(){S(Z,0)};function Fe(ee,Ee){F=S(function(){ee(i.unstable_now())},Ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var Ee=3;break;default:Ee=m}var ye=m;m=Ee;try{return ee()}finally{m=ye}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(ee,Ee){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=m;m=ee;try{return Ee()}finally{m=ye}},i.unstable_scheduleCallback=function(ee,Ee,ye){var Pe=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Pe+ye:Pe):ye=Pe,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ye+$,ee={id:f++,callback:Ee,priorityLevel:ee,startTime:ye,expirationTime:$,sortIndex:-1},ye>Pe?(ee.sortIndex=ye,e(d,ee),n(c)===null&&ee===n(d)&&(T?(b(F),F=-1):T=!0,Fe(x,ye-Pe))):(ee.sortIndex=$,e(c,ee),E||y||(E=!0,L||(L=!0,ie()))),ee},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(ee){var Ee=m;return function(){var ye=m;m=Ee;try{return ee.apply(this,arguments)}finally{m=ye}}}})(l0)),l0}var PA;function QU(){return PA||(PA=1,a0.exports=JU()),a0.exports}var u0={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function XU(){if(LA)return Jn;LA=1;var i=Fv();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},t=Symbol.for("react.portal");function o(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jn.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,f)},Jn.flushSync=function(c){var d=a.T,f=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=f,r.d.f()}},Jn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Jn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Jn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Jn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Jn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Jn.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Jn.requestFormReset=function(c){r.d.r(c)},Jn.unstable_batchedUpdates=function(c,d){return c(d)},Jn.useFormState=function(c,d,f){return a.H.useFormState(c,d,f)},Jn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Jn.version="19.2.3",Jn}var UA;function ZU(){if(UA)return u0.exports;UA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),u0.exports=XU(),u0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function e8(){if(FA)return Uu;FA=1;var i=QU(),e=Fv(),n=ZU();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var u=s,h=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(h=u.return),s=u.return;while(s)}return u.tag===3?h:null}function a(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function d(s){var u=s.alternate;if(!u){if(u=o(s),u===null)throw Error(r(188));return u!==s?null:s}for(var h=s,g=u;;){var w=h.return;if(w===null)break;var A=w.alternate;if(A===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===h)return c(w),s;if(A===g)return c(w),u;A=A.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=A;else{for(var U=!1,Y=w.child;Y;){if(Y===h){U=!0,h=w,g=A;break}if(Y===g){U=!0,g=w,h=A;break}Y=Y.sibling}if(!U){for(Y=A.child;Y;){if(Y===h){U=!0,h=A,g=w;break}if(Y===g){U=!0,g=A,h=w;break}Y=Y.sibling}if(!U)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:u}function f(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=f(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function Re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case I:return s.displayName||"Context";case b:return(s._context.displayName||"Context")+".Consumer";case N:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return u=s.displayName||null,u!==null?u:Re(s.type)||"Memo";case G:u=s._payload,s=s._init;try{return Re(s(u))}catch{}}return null}var Fe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Pe=[],$=-1;function V(s){return{current:s}}function H(s){0>$||(s.current=Pe[$],Pe[$]=null,$--)}function P(s,u){$++,Pe[$]=s.current,s.current=u}var ue=V(null),_e=V(null),Oe=V(null),ce=V(null);function le(s,u){switch(P(Oe,u),P(_e,s),P(ue,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?ZC(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=ZC(u),s=eA(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ue),P(ue,s)}function he(){H(ue),H(_e),H(Oe)}function xe(s){s.memoizedState!==null&&P(ce,s);var u=ue.current,h=eA(u,s.type);u!==h&&(P(_e,s),P(ue,h))}function Ye(s){_e.current===s&&(H(ue),H(_e)),ce.current===s&&(H(ce),Du._currentValue=ye)}var Ge,re;function fe(s){if(Ge===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Ge=u&&u[1]||"",re=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+s+re}var Ae=!1;function ze(s,u){if(!s||Ae)return"";Ae=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Ne){var be=Ne}Reflect.construct(s,[],Be)}else{try{Be.call()}catch(Ne){be=Ne}s.call(Be.prototype)}}else{try{throw Error()}catch(Ne){be=Ne}(Be=s())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Ne){if(Ne&&be&&typeof Ne.stack=="string")return[Ne.stack,be.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),U=A[0],Y=A[1];if(U&&Y){var oe=U.split(`
`),Ce=Y.split(`
`);for(w=g=0;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;for(;w<Ce.length&&!Ce[w].includes("DetermineComponentFrameRoot");)w++;if(g===oe.length||w===Ce.length)for(g=oe.length-1,w=Ce.length-1;1<=g&&0<=w&&oe[g]!==Ce[w];)w--;for(;1<=g&&0<=w;g--,w--)if(oe[g]!==Ce[w]){if(g!==1||w!==1)do if(g--,w--,0>w||oe[g]!==Ce[w]){var De=`
`+oe[g].replace(" at new "," at ");return s.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",s.displayName)),De}while(1<=g&&0<=w);break}}}finally{Ae=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?fe(h):""}function Ke(s,u){switch(s.tag){case 26:case 27:case 5:return fe(s.type);case 16:return fe("Lazy");case 13:return s.child!==u&&u!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ze(s.type,!1);case 11:return ze(s.type.render,!1);case 1:return ze(s.type,!0);case 31:return fe("Activity");default:return""}}function $e(s){try{var u="",h=null;do u+=Ke(s,h),h=s,s=s.return;while(s);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var se=Object.prototype.hasOwnProperty,D=i.unstable_scheduleCallback,ae=i.unstable_cancelCallback,ne=i.unstable_shouldYield,de=i.unstable_requestPaint,Ve=i.unstable_now,Ue=i.unstable_getCurrentPriorityLevel,tt=i.unstable_ImmediatePriority,q=i.unstable_UserBlockingPriority,R=i.unstable_NormalPriority,M=i.unstable_LowPriority,z=i.unstable_IdlePriority,pe=i.log,we=i.unstable_setDisableYieldValue,ke=null,ct=null;function Ut(s){if(typeof pe=="function"&&we(s),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(ke,s)}catch{}}var bt=Math.clz32?Math.clz32:Yc,fn=Math.log,Vt=Math.LN2;function Yc(s){return s>>>=0,s===0?32:31-(fn(s)/Vt|0)|0}var fa=256,As=262144,Lo=4194304;function ji(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ha(s,u,h){var g=s.pendingLanes;if(g===0)return 0;var w=0,A=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var Y=g&134217727;return Y!==0?(g=Y&~A,g!==0?w=ji(g):(U&=Y,U!==0?w=ji(U):h||(h=Y&~s,h!==0&&(w=ji(h))))):(Y=g&~A,Y!==0?w=ji(Y):U!==0?w=ji(U):h||(h=g&~s,h!==0&&(w=ji(h)))),w===0?0:u!==0&&u!==w&&(u&A)===0&&(A=w&-w,h=u&-u,A>=h||A===32&&(h&4194048)!==0)?u:w}function Ji(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function Gc(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K(){var s=Lo;return Lo<<=1,(Lo&62914560)===0&&(Lo=4194304),s}function te(s){for(var u=[],h=0;31>h;h++)u.push(s);return u}function je(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Je(s,u,h,g,w,A){var U=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var Y=s.entanglements,oe=s.expirationTimes,Ce=s.hiddenUpdates;for(h=U&~h;0<h;){var De=31-bt(h),Be=1<<De;Y[De]=0,oe[De]=-1;var be=Ce[De];if(be!==null)for(Ce[De]=null,De=0;De<be.length;De++){var Ne=be[De];Ne!==null&&(Ne.lane&=-536870913)}h&=~Be}g!==0&&rt(s,g,0),A!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=A&~(U&~u))}function rt(s,u,h){s.pendingLanes|=u,s.suspendedLanes&=~u;var g=31-bt(u);s.entangledLanes|=u,s.entanglements[g]=s.entanglements[g]|1073741824|h&261930}function Mn(s,u){var h=s.entangledLanes|=u;for(s=s.entanglements;h;){var g=31-bt(h),w=1<<g;w&u|s[g]&u&&(s[g]|=u),h&=~w}}function nr(s,u){var h=u&-u;return h=(h&42)!==0?1:pa(h),(h&(s.suspendedLanes|u))!==0?0:h}function pa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function li(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Kl(){var s=Ee.p;return s!==0?s:(s=window.event,s===void 0?32:SA(s.type))}function zc(s,u){var h=Ee.p;try{return Ee.p=s,u()}finally{Ee.p=h}}var ui=Math.random().toString(36).slice(2),bn="__reactFiber$"+ui,Un="__reactProps$"+ui,Oi="__reactContainer$"+ui,bs="__reactEvents$"+ui,Is="__reactListeners$"+ui,Qi="__reactHandles$"+ui,Fr="__reactResources$"+ui,Wl="__reactMarker$"+ui;function Jm(s){delete s[bn],delete s[Un],delete s[bs],delete s[Is],delete s[Qi]}function ma(s){var u=s[bn];if(u)return u;for(var h=s.parentNode;h;){if(u=h[Oi]||h[bn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(s=aA(s);s!==null;){if(h=s[bn])return h;s=aA(s)}return u}s=h,h=s.parentNode}return null}function ga(s){if(s=s[bn]||s[Oi]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function $l(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function ya(s){var u=s[Fr];return u||(u=s[Fr]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Fn(s){s[Wl]=!0}var qT=new Set,VT={};function Ns(s,u){_a(s,u),_a(s+"Capture",u)}function _a(s,u){for(VT[s]=u,s=0;s<u.length;s++)qT.add(u[s])}var PL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),YT={},GT={};function LL(s){return se.call(GT,s)?!0:se.call(YT,s)?!1:PL.test(s)?GT[s]=!0:(YT[s]=!0,!1)}function Kc(s,u,h){if(LL(u))if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+h)}}function Wc(s,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+h)}}function Xi(s,u,h,g){if(g===null)s.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(u,h,""+g)}}function Br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zT(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function UL(s,u,h){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,A=g.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return w.call(this)},set:function(U){h=""+U,A.call(this,U)}}),Object.defineProperty(s,u,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(U){h=""+U},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Qm(s){if(!s._valueTracker){var u=zT(s)?"checked":"value";s._valueTracker=UL(s,u,""+s[u])}}function KT(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return s&&(g=zT(s)?s.checked?"true":"false":s.value),s=g,s!==h?(u.setValue(s),!0):!1}function $c(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var FL=/[\n"\\]/g;function Hr(s){return s.replace(FL,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Xm(s,u,h,g,w,A,U,Y){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),u!=null?U==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+Br(u)):s.value!==""+Br(u)&&(s.value=""+Br(u)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),u!=null?Zm(s,U,Br(u)):h!=null?Zm(s,U,Br(h)):g!=null&&s.removeAttribute("value"),w==null&&A!=null&&(s.defaultChecked=!!A),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+Br(Y):s.removeAttribute("name")}function WT(s,u,h,g,w,A,U,Y){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),u!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||u!=null)){Qm(s);return}h=h!=null?""+Br(h):"",u=u!=null?""+Br(u):h,Y||u===s.value||(s.value=u),s.defaultValue=u}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=Y?s.checked:!!g,s.defaultChecked=!!g,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U),Qm(s)}function Zm(s,u,h){u==="number"&&$c(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function va(s,u,h,g){if(s=s.options,u){u={};for(var w=0;w<h.length;w++)u["$"+h[w]]=!0;for(h=0;h<s.length;h++)w=u.hasOwnProperty("$"+s[h].value),s[h].selected!==w&&(s[h].selected=w),w&&g&&(s[h].defaultSelected=!0)}else{for(h=""+Br(h),u=null,w=0;w<s.length;w++){if(s[w].value===h){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}u!==null||s[w].disabled||(u=s[w])}u!==null&&(u.selected=!0)}}function $T(s,u,h){if(u!=null&&(u=""+Br(u),u!==s.value&&(s.value=u),h==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=h!=null?""+Br(h):""}function jT(s,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(Fe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=Br(u),s.defaultValue=h,g=s.textContent,g===h&&g!==""&&g!==null&&(s.value=g),Qm(s)}function Ea(s,u){if(u){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=u;return}}s.textContent=u}var BL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function JT(s,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":g?s.setProperty(u,h):typeof h!="number"||h===0||BL.has(u)?u==="float"?s.cssFloat=h:s[u]=(""+h).trim():s[u]=h+"px"}function QT(s,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var w in u)g=u[w],u.hasOwnProperty(w)&&h[w]!==g&&JT(s,w,g)}else for(var A in u)u.hasOwnProperty(A)&&JT(s,A,u[A])}function eg(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jc(s){return qL.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Zi(){}var tg=null;function ng(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ta=null,wa=null;function XT(s){var u=ga(s);if(u&&(s=u.stateNode)){var h=s[Un]||null;e:switch(s=u.stateNode,u.type){case"input":if(Xm(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Hr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==s&&g.form===s.form){var w=g[Un]||null;if(!w)throw Error(r(90));Xm(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===s.form&&KT(g)}break e;case"textarea":$T(s,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&va(s,!!h.multiple,u,!1)}}}var rg=!1;function ZT(s,u,h){if(rg)return s(u,h);rg=!0;try{var g=s(u);return g}finally{if(rg=!1,(Ta!==null||wa!==null)&&(Ld(),Ta&&(u=Ta,s=wa,wa=Ta=null,XT(u),s)))for(u=0;u<s.length;u++)XT(s[u])}}function jl(s,u){var h=s.stateNode;if(h===null)return null;var g=h[Un]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ig=!1;if(eo)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){ig=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{ig=!1}var Uo=null,og=null,Jc=null;function ew(){if(Jc)return Jc;var s,u=og,h=u.length,g,w="value"in Uo?Uo.value:Uo.textContent,A=w.length;for(s=0;s<h&&u[s]===w[s];s++);var U=h-s;for(g=1;g<=U&&u[h-g]===w[A-g];g++);return Jc=w.slice(s,1<g?1-g:void 0)}function Qc(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Xc(){return!0}function tw(){return!1}function pr(s){function u(h,g,w,A,U){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(h=s[Y],this[Y]=h?h(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Xc:tw,this.isPropagationStopped=tw,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),u}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=pr(Rs),Ql=p({},Rs,{view:0,detail:0}),VL=pr(Ql),sg,ag,Xl,ed=p({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xl&&(Xl&&s.type==="mousemove"?(sg=s.screenX-Xl.screenX,ag=s.screenY-Xl.screenY):ag=sg=0,Xl=s),sg)},movementY:function(s){return"movementY"in s?s.movementY:ag}}),nw=pr(ed),YL=p({},ed,{dataTransfer:0}),GL=pr(YL),zL=p({},Ql,{relatedTarget:0}),lg=pr(zL),KL=p({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),WL=pr(KL),$L=p({},Rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jL=pr($L),JL=p({},Rs,{data:0}),rw=pr(JL),QL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=ZL[s])?!!u[s]:!1}function ug(){return e2}var t2=p({},Ql,{key:function(s){if(s.key){var u=QL[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Qc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?XL[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(s){return s.type==="keypress"?Qc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),n2=pr(t2),r2=p({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=pr(r2),i2=p({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),o2=pr(i2),s2=p({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=pr(s2),l2=p({},ed,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),u2=pr(l2),c2=p({},Rs,{newState:0,oldState:0}),d2=pr(c2),f2=[9,13,27,32],cg=eo&&"CompositionEvent"in window,Zl=null;eo&&"documentMode"in document&&(Zl=document.documentMode);var h2=eo&&"TextEvent"in window&&!Zl,ow=eo&&(!cg||Zl&&8<Zl&&11>=Zl),sw=" ",aw=!1;function lw(s,u){switch(s){case"keyup":return f2.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Sa=!1;function p2(s,u){switch(s){case"compositionend":return uw(u);case"keypress":return u.which!==32?null:(aw=!0,sw);case"textInput":return s=u.data,s===sw&&aw?null:s;default:return null}}function m2(s,u){if(Sa)return s==="compositionend"||!cg&&lw(s,u)?(s=ew(),Jc=og=Uo=null,Sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ow&&u.locale!=="ko"?null:u.data;default:return null}}var g2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!g2[s.type]:u==="textarea"}function dw(s,u,h,g){Ta?wa?wa.push(g):wa=[g]:Ta=g,u=Yd(u,"onChange"),0<u.length&&(h=new Zc("onChange","change",null,h,g),s.push({event:h,listeners:u}))}var eu=null,tu=null;function y2(s){WC(s,0)}function td(s){var u=$l(s);if(KT(u))return s}function fw(s,u){if(s==="change")return u}var hw=!1;if(eo){var dg;if(eo){var fg="oninput"in document;if(!fg){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),fg=typeof pw.oninput=="function"}dg=fg}else dg=!1;hw=dg&&(!document.documentMode||9<document.documentMode)}function mw(){eu&&(eu.detachEvent("onpropertychange",gw),tu=eu=null)}function gw(s){if(s.propertyName==="value"&&td(tu)){var u=[];dw(u,tu,s,ng(s)),ZT(y2,u)}}function _2(s,u,h){s==="focusin"?(mw(),eu=u,tu=h,eu.attachEvent("onpropertychange",gw)):s==="focusout"&&mw()}function v2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return td(tu)}function E2(s,u){if(s==="click")return td(u)}function T2(s,u){if(s==="input"||s==="change")return td(u)}function w2(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Cr=typeof Object.is=="function"?Object.is:w2;function nu(s,u){if(Cr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var h=Object.keys(s),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!se.call(u,w)||!Cr(s[w],u[w]))return!1}return!0}function yw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _w(s,u){var h=yw(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=u&&g>=u)return{node:h,offset:u-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=yw(h)}}function vw(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?vw(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Ew(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=$c(s.document);u instanceof s.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)s=u.contentWindow;else break;u=$c(s.document)}return u}function hg(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var S2=eo&&"documentMode"in document&&11>=document.documentMode,Ca=null,pg=null,ru=null,mg=!1;function Tw(s,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;mg||Ca==null||Ca!==$c(g)||(g=Ca,"selectionStart"in g&&hg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ru&&nu(ru,g)||(ru=g,g=Yd(pg,"onSelect"),0<g.length&&(u=new Zc("onSelect","select",null,u,h),s.push({event:u,listeners:g}),u.target=Ca)))}function xs(s,u){var h={};return h[s.toLowerCase()]=u.toLowerCase(),h["Webkit"+s]="webkit"+u,h["Moz"+s]="moz"+u,h}var Aa={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},gg={},ww={};eo&&(ww=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Os(s){if(gg[s])return gg[s];if(!Aa[s])return s;var u=Aa[s],h;for(h in u)if(u.hasOwnProperty(h)&&h in ww)return gg[s]=u[h];return s}var Sw=Os("animationend"),Cw=Os("animationiteration"),Aw=Os("animationstart"),C2=Os("transitionrun"),A2=Os("transitionstart"),b2=Os("transitioncancel"),bw=Os("transitionend"),Iw=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yg.push("scrollEnd");function ci(s,u){Iw.set(s,u),Ns(u,[s])}var nd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qr=[],ba=0,_g=0;function rd(){for(var s=ba,u=_g=ba=0;u<s;){var h=qr[u];qr[u++]=null;var g=qr[u];qr[u++]=null;var w=qr[u];qr[u++]=null;var A=qr[u];if(qr[u++]=null,g!==null&&w!==null){var U=g.pending;U===null?w.next=w:(w.next=U.next,U.next=w),g.pending=w}A!==0&&Nw(h,w,A)}}function id(s,u,h,g){qr[ba++]=s,qr[ba++]=u,qr[ba++]=h,qr[ba++]=g,_g|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function vg(s,u,h,g){return id(s,u,h,g),od(s)}function Ds(s,u){return id(s,null,null,u),od(s)}function Nw(s,u,h){s.lanes|=h;var g=s.alternate;g!==null&&(g.lanes|=h);for(var w=!1,A=s.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(w=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,w&&u!==null&&(w=31-bt(h),s=A.hiddenUpdates,g=s[w],g===null?s[w]=[u]:g.push(u),u.lane=h|536870912),A):null}function od(s){if(50<Au)throw Au=0,Ny=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var Ia={};function I2(s,u,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,u,h,g){return new I2(s,u,h,g)}function Eg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function to(s,u){var h=s.alternate;return h===null?(h=Ar(s.tag,u,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=u,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,u=s.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Rw(s,u){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,u=h.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function sd(s,u,h,g,w,A){var U=0;if(g=s,typeof s=="function")Eg(s)&&(U=1);else if(typeof s=="string")U=DU(s,h,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Q:return s=Ar(31,h,u,w),s.elementType=Q,s.lanes=A,s;case T:return Ms(h.children,w,A,u);case C:U=8,w|=24;break;case S:return s=Ar(12,h,u,w|2),s.elementType=S,s.lanes=A,s;case x:return s=Ar(13,h,u,w),s.elementType=x,s.lanes=A,s;case L:return s=Ar(19,h,u,w),s.elementType=L,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:U=10;break e;case b:U=9;break e;case N:U=11;break e;case F:U=14;break e;case G:U=16,g=null;break e}U=29,h=Error(r(130,s===null?"null":typeof s,"")),g=null}return u=Ar(U,h,u,w),u.elementType=s,u.type=g,u.lanes=A,u}function Ms(s,u,h,g){return s=Ar(7,s,g,u),s.lanes=h,s}function Tg(s,u,h){return s=Ar(6,s,null,u),s.lanes=h,s}function xw(s){var u=Ar(18,null,null,0);return u.stateNode=s,u}function wg(s,u,h){return u=Ar(4,s.children!==null?s.children:[],s.key,u),u.lanes=h,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var Ow=new WeakMap;function Vr(s,u){if(typeof s=="object"&&s!==null){var h=Ow.get(s);return h!==void 0?h:(u={value:s,source:u,stack:$e(u)},Ow.set(s,u),u)}return{value:s,source:u,stack:$e(u)}}var Na=[],Ra=0,ad=null,iu=0,Yr=[],Gr=0,Fo=null,Di=1,Mi="";function no(s,u){Na[Ra++]=iu,Na[Ra++]=ad,ad=s,iu=u}function Dw(s,u,h){Yr[Gr++]=Di,Yr[Gr++]=Mi,Yr[Gr++]=Fo,Fo=s;var g=Di;s=Mi;var w=32-bt(g)-1;g&=~(1<<w),h+=1;var A=32-bt(u)+w;if(30<A){var U=w-w%5;A=(g&(1<<U)-1).toString(32),g>>=U,w-=U,Di=1<<32-bt(u)+w|h<<w|g,Mi=A+s}else Di=1<<A|h<<w|g,Mi=s}function Sg(s){s.return!==null&&(no(s,1),Dw(s,1,0))}function Cg(s){for(;s===ad;)ad=Na[--Ra],Na[Ra]=null,iu=Na[--Ra],Na[Ra]=null;for(;s===Fo;)Fo=Yr[--Gr],Yr[Gr]=null,Mi=Yr[--Gr],Yr[Gr]=null,Di=Yr[--Gr],Yr[Gr]=null}function Mw(s,u){Yr[Gr++]=Di,Yr[Gr++]=Mi,Yr[Gr++]=Fo,Di=u.id,Mi=u.overflow,Fo=s}var Vn=null,pn=null,kt=!1,Bo=null,zr=!1,Ag=Error(r(519));function Ho(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ou(Vr(u,s)),Ag}function kw(s){var u=s.stateNode,h=s.type,g=s.memoizedProps;switch(u[bn]=s,u[Un]=g,h){case"dialog":xt("cancel",u),xt("close",u);break;case"iframe":case"object":case"embed":xt("load",u);break;case"video":case"audio":for(h=0;h<Iu.length;h++)xt(Iu[h],u);break;case"source":xt("error",u);break;case"img":case"image":case"link":xt("error",u),xt("load",u);break;case"details":xt("toggle",u);break;case"input":xt("invalid",u),WT(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":xt("invalid",u);break;case"textarea":xt("invalid",u),jT(u,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||QC(u.textContent,h)?(g.popover!=null&&(xt("beforetoggle",u),xt("toggle",u)),g.onScroll!=null&&xt("scroll",u),g.onScrollEnd!=null&&xt("scrollend",u),g.onClick!=null&&(u.onclick=Zi),u=!0):u=!1,u||Ho(s,!0)}function Pw(s){for(Vn=s.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Vn=Vn.return}}function xa(s){if(s!==Vn)return!1;if(!kt)return Pw(s),kt=!0,!1;var u=s.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Yy(s.type,s.memoizedProps)),h=!h),h&&pn&&Ho(s),Pw(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pn=sA(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pn=sA(s)}else u===27?(u=pn,es(s.type)?(s=$y,$y=null,pn=s):pn=u):pn=Vn?Wr(s.stateNode.nextSibling):null;return!0}function ks(){pn=Vn=null,kt=!1}function bg(){var s=Bo;return s!==null&&(_r===null?_r=s:_r.push.apply(_r,s),Bo=null),s}function ou(s){Bo===null?Bo=[s]:Bo.push(s)}var Ig=V(null),Ps=null,ro=null;function qo(s,u,h){P(Ig,u._currentValue),u._currentValue=h}function io(s){s._currentValue=Ig.current,H(Ig)}function Ng(s,u,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),s===h)break;s=s.return}}function Rg(s,u,h,g){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var A=w.dependencies;if(A!==null){var U=w.child;A=A.firstContext;e:for(;A!==null;){var Y=A;A=w;for(var oe=0;oe<u.length;oe++)if(Y.context===u[oe]){A.lanes|=h,Y=A.alternate,Y!==null&&(Y.lanes|=h),Ng(A.return,h,s),g||(U=null);break e}A=Y.next}}else if(w.tag===18){if(U=w.return,U===null)throw Error(r(341));U.lanes|=h,A=U.alternate,A!==null&&(A.lanes|=h),Ng(U,h,s),U=null}else U=w.child;if(U!==null)U.return=w;else for(U=w;U!==null;){if(U===s){U=null;break}if(w=U.sibling,w!==null){w.return=U.return,U=w;break}U=U.return}w=U}}function Oa(s,u,h,g){s=null;for(var w=u,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var U=w.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var Y=w.type;Cr(w.pendingProps.value,U.value)||(s!==null?s.push(Y):s=[Y])}}else if(w===ce.current){if(U=w.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(Du):s=[Du])}w=w.return}s!==null&&Rg(u,s,h,g),u.flags|=262144}function ld(s){for(s=s.firstContext;s!==null;){if(!Cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ls(s){Ps=s,ro=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Yn(s){return Lw(Ps,s)}function ud(s,u){return Ps===null&&Ls(s),Lw(s,u)}function Lw(s,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},ro===null){if(s===null)throw Error(r(308));ro=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else ro=ro.next=u;return h}var N2=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(h,g){s.push(g)}};this.abort=function(){u.aborted=!0,s.forEach(function(h){return h()})}},R2=i.unstable_scheduleCallback,x2=i.unstable_NormalPriority,In={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xg(){return{controller:new N2,data:new Map,refCount:0}}function su(s){s.refCount--,s.refCount===0&&R2(x2,function(){s.controller.abort()})}var au=null,Og=0,Da=0,Ma=null;function O2(s,u){if(au===null){var h=au=[];Og=0,Da=ky(),Ma={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Og++,u.then(Uw,Uw),u}function Uw(){if(--Og===0&&au!==null){Ma!==null&&(Ma.status="fulfilled");var s=au;au=null,Da=0,Ma=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function D2(s,u){var h=[],g={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return s.then(function(){g.status="fulfilled",g.value=u;for(var w=0;w<h.length;w++)(0,h[w])(u)},function(w){for(g.status="rejected",g.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),g}var Fw=ee.S;ee.S=function(s,u){TC=Ve(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&O2(s,u),Fw!==null&&Fw(s,u)};var Us=V(null);function Dg(){var s=Us.current;return s!==null?s:dn.pooledCache}function cd(s,u){u===null?P(Us,Us.current):P(Us,u.pool)}function Bw(){var s=Dg();return s===null?null:{parent:In._currentValue,pool:s}}var ka=Error(r(460)),Mg=Error(r(474)),dd=Error(r(542)),fd={then:function(){}};function Hw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function qw(s,u,h){switch(h=s[h],h===void 0?s.push(u):h!==u&&(u.then(Zi,Zi),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Yw(s),s;default:if(typeof u.status=="string")u.then(Zi,Zi);else{if(s=dn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(g){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=g}},function(g){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Yw(s),s}throw Bs=u,ka}}function Fs(s){try{var u=s._init;return u(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Bs=h,ka):h}}var Bs=null;function Vw(){if(Bs===null)throw Error(r(459));var s=Bs;return Bs=null,s}function Yw(s){if(s===ka||s===dd)throw Error(r(483))}var Pa=null,lu=0;function hd(s){var u=lu;return lu+=1,Pa===null&&(Pa=[]),qw(Pa,s,u)}function uu(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function pd(s,u){throw u.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function Gw(s){function u(ve,ge){if(s){var Se=ve.deletions;Se===null?(ve.deletions=[ge],ve.flags|=16):Se.push(ge)}}function h(ve,ge){if(!s)return null;for(;ge!==null;)u(ve,ge),ge=ge.sibling;return null}function g(ve){for(var ge=new Map;ve!==null;)ve.key!==null?ge.set(ve.key,ve):ge.set(ve.index,ve),ve=ve.sibling;return ge}function w(ve,ge){return ve=to(ve,ge),ve.index=0,ve.sibling=null,ve}function A(ve,ge,Se){return ve.index=Se,s?(Se=ve.alternate,Se!==null?(Se=Se.index,Se<ge?(ve.flags|=67108866,ge):Se):(ve.flags|=67108866,ge)):(ve.flags|=1048576,ge)}function U(ve){return s&&ve.alternate===null&&(ve.flags|=67108866),ve}function Y(ve,ge,Se,Le){return ge===null||ge.tag!==6?(ge=Tg(Se,ve.mode,Le),ge.return=ve,ge):(ge=w(ge,Se),ge.return=ve,ge)}function oe(ve,ge,Se,Le){var ut=Se.type;return ut===T?De(ve,ge,Se.props.children,Le,Se.key):ge!==null&&(ge.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===G&&Fs(ut)===ge.type)?(ge=w(ge,Se.props),uu(ge,Se),ge.return=ve,ge):(ge=sd(Se.type,Se.key,Se.props,null,ve.mode,Le),uu(ge,Se),ge.return=ve,ge)}function Ce(ve,ge,Se,Le){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Se.containerInfo||ge.stateNode.implementation!==Se.implementation?(ge=wg(Se,ve.mode,Le),ge.return=ve,ge):(ge=w(ge,Se.children||[]),ge.return=ve,ge)}function De(ve,ge,Se,Le,ut){return ge===null||ge.tag!==7?(ge=Ms(Se,ve.mode,Le,ut),ge.return=ve,ge):(ge=w(ge,Se),ge.return=ve,ge)}function Be(ve,ge,Se){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Tg(""+ge,ve.mode,Se),ge.return=ve,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return Se=sd(ge.type,ge.key,ge.props,null,ve.mode,Se),uu(Se,ge),Se.return=ve,Se;case E:return ge=wg(ge,ve.mode,Se),ge.return=ve,ge;case G:return ge=Fs(ge),Be(ve,ge,Se)}if(Fe(ge)||ie(ge))return ge=Ms(ge,ve.mode,Se,null),ge.return=ve,ge;if(typeof ge.then=="function")return Be(ve,hd(ge),Se);if(ge.$$typeof===I)return Be(ve,ud(ve,ge),Se);pd(ve,ge)}return null}function be(ve,ge,Se,Le){var ut=ge!==null?ge.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ut!==null?null:Y(ve,ge,""+Se,Le);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case y:return Se.key===ut?oe(ve,ge,Se,Le):null;case E:return Se.key===ut?Ce(ve,ge,Se,Le):null;case G:return Se=Fs(Se),be(ve,ge,Se,Le)}if(Fe(Se)||ie(Se))return ut!==null?null:De(ve,ge,Se,Le,null);if(typeof Se.then=="function")return be(ve,ge,hd(Se),Le);if(Se.$$typeof===I)return be(ve,ge,ud(ve,Se),Le);pd(ve,Se)}return null}function Ne(ve,ge,Se,Le,ut){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ve=ve.get(Se)||null,Y(ge,ve,""+Le,ut);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case y:return ve=ve.get(Le.key===null?Se:Le.key)||null,oe(ge,ve,Le,ut);case E:return ve=ve.get(Le.key===null?Se:Le.key)||null,Ce(ge,ve,Le,ut);case G:return Le=Fs(Le),Ne(ve,ge,Se,Le,ut)}if(Fe(Le)||ie(Le))return ve=ve.get(Se)||null,De(ge,ve,Le,ut,null);if(typeof Le.then=="function")return Ne(ve,ge,Se,hd(Le),ut);if(Le.$$typeof===I)return Ne(ve,ge,Se,ud(ge,Le),ut);pd(ge,Le)}return null}function nt(ve,ge,Se,Le){for(var ut=null,Yt=null,it=ge,Ct=ge=0,Dt=null;it!==null&&Ct<Se.length;Ct++){it.index>Ct?(Dt=it,it=null):Dt=it.sibling;var Gt=be(ve,it,Se[Ct],Le);if(Gt===null){it===null&&(it=Dt);break}s&&it&&Gt.alternate===null&&u(ve,it),ge=A(Gt,ge,Ct),Yt===null?ut=Gt:Yt.sibling=Gt,Yt=Gt,it=Dt}if(Ct===Se.length)return h(ve,it),kt&&no(ve,Ct),ut;if(it===null){for(;Ct<Se.length;Ct++)it=Be(ve,Se[Ct],Le),it!==null&&(ge=A(it,ge,Ct),Yt===null?ut=it:Yt.sibling=it,Yt=it);return kt&&no(ve,Ct),ut}for(it=g(it);Ct<Se.length;Ct++)Dt=Ne(it,ve,Ct,Se[Ct],Le),Dt!==null&&(s&&Dt.alternate!==null&&it.delete(Dt.key===null?Ct:Dt.key),ge=A(Dt,ge,Ct),Yt===null?ut=Dt:Yt.sibling=Dt,Yt=Dt);return s&&it.forEach(function(os){return u(ve,os)}),kt&&no(ve,Ct),ut}function mt(ve,ge,Se,Le){if(Se==null)throw Error(r(151));for(var ut=null,Yt=null,it=ge,Ct=ge=0,Dt=null,Gt=Se.next();it!==null&&!Gt.done;Ct++,Gt=Se.next()){it.index>Ct?(Dt=it,it=null):Dt=it.sibling;var os=be(ve,it,Gt.value,Le);if(os===null){it===null&&(it=Dt);break}s&&it&&os.alternate===null&&u(ve,it),ge=A(os,ge,Ct),Yt===null?ut=os:Yt.sibling=os,Yt=os,it=Dt}if(Gt.done)return h(ve,it),kt&&no(ve,Ct),ut;if(it===null){for(;!Gt.done;Ct++,Gt=Se.next())Gt=Be(ve,Gt.value,Le),Gt!==null&&(ge=A(Gt,ge,Ct),Yt===null?ut=Gt:Yt.sibling=Gt,Yt=Gt);return kt&&no(ve,Ct),ut}for(it=g(it);!Gt.done;Ct++,Gt=Se.next())Gt=Ne(it,ve,Ct,Gt.value,Le),Gt!==null&&(s&&Gt.alternate!==null&&it.delete(Gt.key===null?Ct:Gt.key),ge=A(Gt,ge,Ct),Yt===null?ut=Gt:Yt.sibling=Gt,Yt=Gt);return s&&it.forEach(function(YU){return u(ve,YU)}),kt&&no(ve,Ct),ut}function an(ve,ge,Se,Le){if(typeof Se=="object"&&Se!==null&&Se.type===T&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case y:e:{for(var ut=Se.key;ge!==null;){if(ge.key===ut){if(ut=Se.type,ut===T){if(ge.tag===7){h(ve,ge.sibling),Le=w(ge,Se.props.children),Le.return=ve,ve=Le;break e}}else if(ge.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===G&&Fs(ut)===ge.type){h(ve,ge.sibling),Le=w(ge,Se.props),uu(Le,Se),Le.return=ve,ve=Le;break e}h(ve,ge);break}else u(ve,ge);ge=ge.sibling}Se.type===T?(Le=Ms(Se.props.children,ve.mode,Le,Se.key),Le.return=ve,ve=Le):(Le=sd(Se.type,Se.key,Se.props,null,ve.mode,Le),uu(Le,Se),Le.return=ve,ve=Le)}return U(ve);case E:e:{for(ut=Se.key;ge!==null;){if(ge.key===ut)if(ge.tag===4&&ge.stateNode.containerInfo===Se.containerInfo&&ge.stateNode.implementation===Se.implementation){h(ve,ge.sibling),Le=w(ge,Se.children||[]),Le.return=ve,ve=Le;break e}else{h(ve,ge);break}else u(ve,ge);ge=ge.sibling}Le=wg(Se,ve.mode,Le),Le.return=ve,ve=Le}return U(ve);case G:return Se=Fs(Se),an(ve,ge,Se,Le)}if(Fe(Se))return nt(ve,ge,Se,Le);if(ie(Se)){if(ut=ie(Se),typeof ut!="function")throw Error(r(150));return Se=ut.call(Se),mt(ve,ge,Se,Le)}if(typeof Se.then=="function")return an(ve,ge,hd(Se),Le);if(Se.$$typeof===I)return an(ve,ge,ud(ve,Se),Le);pd(ve,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,ge!==null&&ge.tag===6?(h(ve,ge.sibling),Le=w(ge,Se),Le.return=ve,ve=Le):(h(ve,ge),Le=Tg(Se,ve.mode,Le),Le.return=ve,ve=Le),U(ve)):h(ve,ge)}return function(ve,ge,Se,Le){try{lu=0;var ut=an(ve,ge,Se,Le);return Pa=null,ut}catch(it){if(it===ka||it===dd)throw it;var Yt=Ar(29,it,null,ve.mode);return Yt.lanes=Le,Yt.return=ve,Yt}finally{}}}var Hs=Gw(!0),zw=Gw(!1),Vo=!1;function kg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pg(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Yo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Go(s,u,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(jt&2)!==0){var w=g.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),g.pending=u,u=od(s),Nw(s,null,h),u}return id(s,g,u,h),od(s)}function cu(s,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Mn(s,h)}}function Lg(s,u){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?w=A=U:A=A.next=U,h=h.next}while(h!==null);A===null?w=A=u:A=A.next=u}else w=A=u;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=u}var Ug=!1;function du(){if(Ug){var s=Ma;if(s!==null)throw s}}function fu(s,u,h,g){Ug=!1;var w=s.updateQueue;Vo=!1;var A=w.firstBaseUpdate,U=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var oe=Y,Ce=oe.next;oe.next=null,U===null?A=Ce:U.next=Ce,U=oe;var De=s.alternate;De!==null&&(De=De.updateQueue,Y=De.lastBaseUpdate,Y!==U&&(Y===null?De.firstBaseUpdate=Ce:Y.next=Ce,De.lastBaseUpdate=oe))}if(A!==null){var Be=w.baseState;U=0,De=Ce=oe=null,Y=A;do{var be=Y.lane&-536870913,Ne=be!==Y.lane;if(Ne?(Ot&be)===be:(g&be)===be){be!==0&&be===Da&&(Ug=!0),De!==null&&(De=De.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var nt=s,mt=Y;be=u;var an=h;switch(mt.tag){case 1:if(nt=mt.payload,typeof nt=="function"){Be=nt.call(an,Be,be);break e}Be=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=mt.payload,be=typeof nt=="function"?nt.call(an,Be,be):nt,be==null)break e;Be=p({},Be,be);break e;case 2:Vo=!0}}be=Y.callback,be!==null&&(s.flags|=64,Ne&&(s.flags|=8192),Ne=w.callbacks,Ne===null?w.callbacks=[be]:Ne.push(be))}else Ne={lane:be,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},De===null?(Ce=De=Ne,oe=Be):De=De.next=Ne,U|=be;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;Ne=Y,Y=Ne.next,Ne.next=null,w.lastBaseUpdate=Ne,w.shared.pending=null}}while(!0);De===null&&(oe=Be),w.baseState=oe,w.firstBaseUpdate=Ce,w.lastBaseUpdate=De,A===null&&(w.shared.lanes=0),jo|=U,s.lanes=U,s.memoizedState=Be}}function Kw(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function Ww(s,u){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Kw(h[s],u)}var La=V(null),md=V(0);function $w(s,u){s=po,P(md,s),P(La,u),po=s|u.baseLanes}function Fg(){P(md,po),P(La,La.current)}function Bg(){po=md.current,H(La),H(md)}var br=V(null),Kr=null;function zo(s){var u=s.alternate;P(Sn,Sn.current&1),P(br,s),Kr===null&&(u===null||La.current!==null||u.memoizedState!==null)&&(Kr=s)}function Hg(s){P(Sn,Sn.current),P(br,s),Kr===null&&(Kr=s)}function jw(s){s.tag===22?(P(Sn,Sn.current),P(br,s),Kr===null&&(Kr=s)):Ko()}function Ko(){P(Sn,Sn.current),P(br,br.current)}function Ir(s){H(br),Kr===s&&(Kr=null),H(Sn)}var Sn=V(0);function gd(s){for(var u=s;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Ky(h)||Wy(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var oo=0,St=null,on=null,Nn=null,yd=!1,Ua=!1,qs=!1,_d=0,hu=0,Fa=null,M2=0;function Tn(){throw Error(r(321))}function qg(s,u){if(u===null)return!1;for(var h=0;h<u.length&&h<s.length;h++)if(!Cr(s[h],u[h]))return!1;return!0}function Vg(s,u,h,g,w,A){return oo=A,St=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ee.H=s===null||s.memoizedState===null?DS:ry,qs=!1,A=h(g,w),qs=!1,Ua&&(A=Qw(u,h,g,w)),Jw(s),A}function Jw(s){ee.H=gu;var u=on!==null&&on.next!==null;if(oo=0,Nn=on=St=null,yd=!1,hu=0,Fa=null,u)throw Error(r(300));s===null||Rn||(s=s.dependencies,s!==null&&ld(s)&&(Rn=!0))}function Qw(s,u,h,g){St=s;var w=0;do{if(Ua&&(Fa=null),hu=0,Ua=!1,25<=w)throw Error(r(301));if(w+=1,Nn=on=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}ee.H=MS,A=u(h,g)}while(Ua);return A}function k2(){var s=ee.H,u=s.useState()[0];return u=typeof u.then=="function"?pu(u):u,s=s.useState()[0],(on!==null?on.memoizedState:null)!==s&&(St.flags|=1024),u}function Yg(){var s=_d!==0;return _d=0,s}function Gg(s,u,h){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~h}function zg(s){if(yd){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}yd=!1}oo=0,Nn=on=St=null,Ua=!1,hu=_d=0,Fa=null}function rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?St.memoizedState=Nn=s:Nn=Nn.next=s,Nn}function Cn(){if(on===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var u=Nn===null?St.memoizedState:Nn.next;if(u!==null)Nn=u,on=s;else{if(s===null)throw St.alternate===null?Error(r(467)):Error(r(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Nn===null?St.memoizedState=Nn=s:Nn=Nn.next=s}return Nn}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(s){var u=hu;return hu+=1,Fa===null&&(Fa=[]),s=qw(Fa,s,u),u=St,(Nn===null?u.memoizedState:Nn.next)===null&&(u=u.alternate,ee.H=u===null||u.memoizedState===null?DS:ry),s}function Ed(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pu(s);if(s.$$typeof===I)return Yn(s)}throw Error(r(438,String(s)))}function Kg(s){var u=null,h=St.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=St.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=vd(),St.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(s),g=0;g<s;g++)h[g]=j;return u.index++,h}function so(s,u){return typeof u=="function"?u(s):u}function Td(s){var u=Cn();return Wg(u,on,s)}function Wg(s,u,h){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var w=s.baseQueue,A=g.pending;if(A!==null){if(w!==null){var U=w.next;w.next=A.next,A.next=U}u.baseQueue=w=A,g.pending=null}if(A=s.baseState,w===null)s.memoizedState=A;else{u=w.next;var Y=U=null,oe=null,Ce=u,De=!1;do{var Be=Ce.lane&-536870913;if(Be!==Ce.lane?(Ot&Be)===Be:(oo&Be)===Be){var be=Ce.revertLane;if(be===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Be===Da&&(De=!0);else if((oo&be)===be){Ce=Ce.next,be===Da&&(De=!0);continue}else Be={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},oe===null?(Y=oe=Be,U=A):oe=oe.next=Be,St.lanes|=be,jo|=be;Be=Ce.action,qs&&h(A,Be),A=Ce.hasEagerState?Ce.eagerState:h(A,Be)}else be={lane:Be,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},oe===null?(Y=oe=be,U=A):oe=oe.next=be,St.lanes|=Be,jo|=Be;Ce=Ce.next}while(Ce!==null&&Ce!==u);if(oe===null?U=A:oe.next=Y,!Cr(A,s.memoizedState)&&(Rn=!0,De&&(h=Ma,h!==null)))throw h;s.memoizedState=A,s.baseState=U,s.baseQueue=oe,g.lastRenderedState=A}return w===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function $g(s){var u=Cn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var g=h.dispatch,w=h.pending,A=u.memoizedState;if(w!==null){h.pending=null;var U=w=w.next;do A=s(A,U.action),U=U.next;while(U!==w);Cr(A,u.memoizedState)||(Rn=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),h.lastRenderedState=A}return[A,g]}function Xw(s,u,h){var g=St,w=Cn(),A=kt;if(A){if(h===void 0)throw Error(r(407));h=h()}else h=u();var U=!Cr((on||w).memoizedState,h);if(U&&(w.memoizedState=h,Rn=!0),w=w.queue,Qg(tS.bind(null,g,w,s),[s]),w.getSnapshot!==u||U||Nn!==null&&Nn.memoizedState.tag&1){if(g.flags|=2048,Ba(9,{destroy:void 0},eS.bind(null,g,w,h,u),null),dn===null)throw Error(r(349));A||(oo&127)!==0||Zw(g,u,h)}return h}function Zw(s,u,h){s.flags|=16384,s={getSnapshot:u,value:h},u=St.updateQueue,u===null?(u=vd(),St.updateQueue=u,u.stores=[s]):(h=u.stores,h===null?u.stores=[s]:h.push(s))}function eS(s,u,h,g){u.value=h,u.getSnapshot=g,nS(u)&&rS(s)}function tS(s,u,h){return h(function(){nS(u)&&rS(s)})}function nS(s){var u=s.getSnapshot;s=s.value;try{var h=u();return!Cr(s,h)}catch{return!0}}function rS(s){var u=Ds(s,2);u!==null&&vr(u,s,2)}function jg(s){var u=rr();if(typeof s=="function"){var h=s;if(s=h(),qs){Ut(!0);try{h()}finally{Ut(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:s},u}function iS(s,u,h,g){return s.baseState=h,Wg(s,on,typeof g=="function"?g:so)}function P2(s,u,h,g,w){if(Cd(s))throw Error(r(485));if(s=u.action,s!==null){var A={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){A.listeners.push(U)}};ee.T!==null?h(!0):A.isTransition=!1,g(A),h=u.pending,h===null?(A.next=u.pending=A,oS(u,A)):(A.next=h.next,u.pending=h.next=A)}}function oS(s,u){var h=u.action,g=u.payload,w=s.state;if(u.isTransition){var A=ee.T,U={};ee.T=U;try{var Y=h(w,g),oe=ee.S;oe!==null&&oe(U,Y),sS(s,u,Y)}catch(Ce){Jg(s,u,Ce)}finally{A!==null&&U.types!==null&&(A.types=U.types),ee.T=A}}else try{A=h(w,g),sS(s,u,A)}catch(Ce){Jg(s,u,Ce)}}function sS(s,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){aS(s,u,g)},function(g){return Jg(s,u,g)}):aS(s,u,h)}function aS(s,u,h){u.status="fulfilled",u.value=h,lS(u),s.state=h,u=s.pending,u!==null&&(h=u.next,h===u?s.pending=null:(h=h.next,u.next=h,oS(s,h)))}function Jg(s,u,h){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,lS(u),u=u.next;while(u!==g)}s.action=null}function lS(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function uS(s,u){return u}function cS(s,u){if(kt){var h=dn.formState;if(h!==null){e:{var g=St;if(kt){if(pn){t:{for(var w=pn,A=zr;w.nodeType!==8;){if(!A){w=null;break t}if(w=Wr(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){pn=Wr(w.nextSibling),g=w.data==="F!";break e}}Ho(g)}g=!1}g&&(u=h[0])}}return h=rr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uS,lastRenderedState:u},h.queue=g,h=RS.bind(null,St,g),g.dispatch=h,g=jg(!1),A=ny.bind(null,St,!1,g.queue),g=rr(),w={state:u,dispatch:null,action:s,pending:null},g.queue=w,h=P2.bind(null,St,w,A,h),w.dispatch=h,g.memoizedState=s,[u,h,!1]}function dS(s){var u=Cn();return fS(u,on,s)}function fS(s,u,h){if(u=Wg(s,u,uS)[0],s=Td(so)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=pu(u)}catch(U){throw U===ka?dd:U}else g=u;u=Cn();var w=u.queue,A=w.dispatch;return h!==u.memoizedState&&(St.flags|=2048,Ba(9,{destroy:void 0},L2.bind(null,w,h),null)),[g,A,s]}function L2(s,u){s.action=u}function hS(s){var u=Cn(),h=on;if(h!==null)return fS(u,h,s);Cn(),u=u.memoizedState,h=Cn();var g=h.queue.dispatch;return h.memoizedState=s,[u,g,!1]}function Ba(s,u,h,g){return s={tag:s,create:h,deps:g,inst:u,next:null},u=St.updateQueue,u===null&&(u=vd(),St.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,u.lastEffect=s),s}function pS(){return Cn().memoizedState}function wd(s,u,h,g){var w=rr();St.flags|=s,w.memoizedState=Ba(1|u,{destroy:void 0},h,g===void 0?null:g)}function Sd(s,u,h,g){var w=Cn();g=g===void 0?null:g;var A=w.memoizedState.inst;on!==null&&g!==null&&qg(g,on.memoizedState.deps)?w.memoizedState=Ba(u,A,h,g):(St.flags|=s,w.memoizedState=Ba(1|u,A,h,g))}function mS(s,u){wd(8390656,8,s,u)}function Qg(s,u){Sd(2048,8,s,u)}function U2(s){St.flags|=4;var u=St.updateQueue;if(u===null)u=vd(),St.updateQueue=u,u.events=[s];else{var h=u.events;h===null?u.events=[s]:h.push(s)}}function gS(s){var u=Cn().memoizedState;return U2({ref:u,nextImpl:s}),function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function yS(s,u){return Sd(4,2,s,u)}function _S(s,u){return Sd(4,4,s,u)}function vS(s,u){if(typeof u=="function"){s=s();var h=u(s);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function ES(s,u,h){h=h!=null?h.concat([s]):null,Sd(4,4,vS.bind(null,u,s),h)}function Xg(){}function TS(s,u){var h=Cn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&qg(u,g[1])?g[0]:(h.memoizedState=[s,u],s)}function wS(s,u){var h=Cn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&qg(u,g[1]))return g[0];if(g=s(),qs){Ut(!0);try{s()}finally{Ut(!1)}}return h.memoizedState=[g,u],g}function Zg(s,u,h){return h===void 0||(oo&1073741824)!==0&&(Ot&261930)===0?s.memoizedState=u:(s.memoizedState=h,s=SC(),St.lanes|=s,jo|=s,h)}function SS(s,u,h,g){return Cr(h,u)?h:La.current!==null?(s=Zg(s,h,g),Cr(s,u)||(Rn=!0),s):(oo&42)===0||(oo&1073741824)!==0&&(Ot&261930)===0?(Rn=!0,s.memoizedState=h):(s=SC(),St.lanes|=s,jo|=s,u)}function CS(s,u,h,g,w){var A=Ee.p;Ee.p=A!==0&&8>A?A:8;var U=ee.T,Y={};ee.T=Y,ny(s,!1,u,h);try{var oe=w(),Ce=ee.S;if(Ce!==null&&Ce(Y,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var De=D2(oe,g);mu(s,u,De,xr(s))}else mu(s,u,g,xr(s))}catch(Be){mu(s,u,{then:function(){},status:"rejected",reason:Be},xr())}finally{Ee.p=A,U!==null&&Y.types!==null&&(U.types=Y.types),ee.T=U}}function F2(){}function ey(s,u,h,g){if(s.tag!==5)throw Error(r(476));var w=AS(s).queue;CS(s,w,u,ye,h===null?F2:function(){return bS(s),h(g)})}function AS(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:ye},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:h},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function bS(s){var u=AS(s);u.next===null&&(u=s.alternate.memoizedState),mu(s,u.next.queue,{},xr())}function ty(){return Yn(Du)}function IS(){return Cn().memoizedState}function NS(){return Cn().memoizedState}function B2(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var h=xr();s=Yo(h);var g=Go(u,s,h);g!==null&&(vr(g,u,h),cu(g,u,h)),u={cache:xg()},s.payload=u;return}u=u.return}}function H2(s,u,h){var g=xr();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Cd(s)?xS(u,h):(h=vg(s,u,h,g),h!==null&&(vr(h,s,g),OS(h,u,g)))}function RS(s,u,h){var g=xr();mu(s,u,h,g)}function mu(s,u,h,g){var w={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Cd(s))xS(u,w);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var U=u.lastRenderedState,Y=A(U,h);if(w.hasEagerState=!0,w.eagerState=Y,Cr(Y,U))return id(s,u,w,0),dn===null&&rd(),!1}catch{}finally{}if(h=vg(s,u,w,g),h!==null)return vr(h,s,g),OS(h,u,g),!0}return!1}function ny(s,u,h,g){if(g={lane:2,revertLane:ky(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cd(s)){if(u)throw Error(r(479))}else u=vg(s,h,g,2),u!==null&&vr(u,s,2)}function Cd(s){var u=s.alternate;return s===St||u!==null&&u===St}function xS(s,u){Ua=yd=!0;var h=s.pending;h===null?u.next=u:(u.next=h.next,h.next=u),s.pending=u}function OS(s,u,h){if((h&4194048)!==0){var g=u.lanes;g&=s.pendingLanes,h|=g,u.lanes=h,Mn(s,h)}}var gu={readContext:Yn,use:Ed,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};gu.useEffectEvent=Tn;var DS={readContext:Yn,use:Ed,useCallback:function(s,u){return rr().memoizedState=[s,u===void 0?null:u],s},useContext:Yn,useEffect:mS,useImperativeHandle:function(s,u,h){h=h!=null?h.concat([s]):null,wd(4194308,4,vS.bind(null,u,s),h)},useLayoutEffect:function(s,u){return wd(4194308,4,s,u)},useInsertionEffect:function(s,u){wd(4,2,s,u)},useMemo:function(s,u){var h=rr();u=u===void 0?null:u;var g=s();if(qs){Ut(!0);try{s()}finally{Ut(!1)}}return h.memoizedState=[g,u],g},useReducer:function(s,u,h){var g=rr();if(h!==void 0){var w=h(u);if(qs){Ut(!0);try{h(u)}finally{Ut(!1)}}}else w=u;return g.memoizedState=g.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},g.queue=s,s=s.dispatch=H2.bind(null,St,s),[g.memoizedState,s]},useRef:function(s){var u=rr();return s={current:s},u.memoizedState=s},useState:function(s){s=jg(s);var u=s.queue,h=RS.bind(null,St,u);return u.dispatch=h,[s.memoizedState,h]},useDebugValue:Xg,useDeferredValue:function(s,u){var h=rr();return Zg(h,s,u)},useTransition:function(){var s=jg(!1);return s=CS.bind(null,St,s.queue,!0,!1),rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,h){var g=St,w=rr();if(kt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),dn===null)throw Error(r(349));(Ot&127)!==0||Zw(g,u,h)}w.memoizedState=h;var A={value:h,getSnapshot:u};return w.queue=A,mS(tS.bind(null,g,A,s),[s]),g.flags|=2048,Ba(9,{destroy:void 0},eS.bind(null,g,A,h,u),null),h},useId:function(){var s=rr(),u=dn.identifierPrefix;if(kt){var h=Mi,g=Di;h=(g&~(1<<32-bt(g)-1)).toString(32)+h,u="_"+u+"R_"+h,h=_d++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=M2++,u="_"+u+"r_"+h.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:ty,useFormState:cS,useActionState:cS,useOptimistic:function(s){var u=rr();u.memoizedState=u.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=ny.bind(null,St,!0,h),h.dispatch=u,[s,u]},useMemoCache:Kg,useCacheRefresh:function(){return rr().memoizedState=B2.bind(null,St)},useEffectEvent:function(s){var u=rr(),h={impl:s};return u.memoizedState=h,function(){if((jt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},ry={readContext:Yn,use:Ed,useCallback:TS,useContext:Yn,useEffect:Qg,useImperativeHandle:ES,useInsertionEffect:yS,useLayoutEffect:_S,useMemo:wS,useReducer:Td,useRef:pS,useState:function(){return Td(so)},useDebugValue:Xg,useDeferredValue:function(s,u){var h=Cn();return SS(h,on.memoizedState,s,u)},useTransition:function(){var s=Td(so)[0],u=Cn().memoizedState;return[typeof s=="boolean"?s:pu(s),u]},useSyncExternalStore:Xw,useId:IS,useHostTransitionStatus:ty,useFormState:dS,useActionState:dS,useOptimistic:function(s,u){var h=Cn();return iS(h,on,s,u)},useMemoCache:Kg,useCacheRefresh:NS};ry.useEffectEvent=gS;var MS={readContext:Yn,use:Ed,useCallback:TS,useContext:Yn,useEffect:Qg,useImperativeHandle:ES,useInsertionEffect:yS,useLayoutEffect:_S,useMemo:wS,useReducer:$g,useRef:pS,useState:function(){return $g(so)},useDebugValue:Xg,useDeferredValue:function(s,u){var h=Cn();return on===null?Zg(h,s,u):SS(h,on.memoizedState,s,u)},useTransition:function(){var s=$g(so)[0],u=Cn().memoizedState;return[typeof s=="boolean"?s:pu(s),u]},useSyncExternalStore:Xw,useId:IS,useHostTransitionStatus:ty,useFormState:hS,useActionState:hS,useOptimistic:function(s,u){var h=Cn();return on!==null?iS(h,on,s,u):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Kg,useCacheRefresh:NS};MS.useEffectEvent=gS;function iy(s,u,h,g){u=s.memoizedState,h=h(g,u),h=h==null?u:p({},u,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var oy={enqueueSetState:function(s,u,h){s=s._reactInternals;var g=xr(),w=Yo(g);w.payload=u,h!=null&&(w.callback=h),u=Go(s,w,g),u!==null&&(vr(u,s,g),cu(u,s,g))},enqueueReplaceState:function(s,u,h){s=s._reactInternals;var g=xr(),w=Yo(g);w.tag=1,w.payload=u,h!=null&&(w.callback=h),u=Go(s,w,g),u!==null&&(vr(u,s,g),cu(u,s,g))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var h=xr(),g=Yo(h);g.tag=2,u!=null&&(g.callback=u),u=Go(s,g,h),u!==null&&(vr(u,s,h),cu(u,s,h))}};function kS(s,u,h,g,w,A,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,U):u.prototype&&u.prototype.isPureReactComponent?!nu(h,g)||!nu(w,A):!0}function PS(s,u,h,g){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==s&&oy.enqueueReplaceState(u,u.state,null)}function Vs(s,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(s=s.defaultProps){h===u&&(h=p({},h));for(var w in s)h[w]===void 0&&(h[w]=s[w])}return h}function LS(s){nd(s)}function US(s){console.error(s)}function FS(s){nd(s)}function Ad(s,u){try{var h=s.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function BS(s,u,h){try{var g=s.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function sy(s,u,h){return h=Yo(h),h.tag=3,h.payload={element:null},h.callback=function(){Ad(s,u)},h}function HS(s){return s=Yo(s),s.tag=3,s}function qS(s,u,h,g){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var A=g.value;s.payload=function(){return w(A)},s.callback=function(){BS(u,h,g)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){BS(u,h,g),typeof w!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var Y=g.stack;this.componentDidCatch(g.value,{componentStack:Y!==null?Y:""})})}function q2(s,u,h,g,w){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&Oa(u,h,w,!0),h=br.current,h!==null){switch(h.tag){case 31:case 13:return Kr===null?Ud():h.alternate===null&&wn===0&&(wn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,g===fd?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Oy(s,g,w)),!1;case 22:return h.flags|=65536,g===fd?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Oy(s,g,w)),!1}throw Error(r(435,h.tag))}return Oy(s,g,w),Ud(),!1}if(kt)return u=br.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,g!==Ag&&(s=Error(r(422),{cause:g}),ou(Vr(s,h)))):(g!==Ag&&(u=Error(r(423),{cause:g}),ou(Vr(u,h))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,g=Vr(g,h),w=sy(s.stateNode,g,w),Lg(s,w),wn!==4&&(wn=2)),!1;var A=Error(r(520),{cause:g});if(A=Vr(A,h),Cu===null?Cu=[A]:Cu.push(A),wn!==4&&(wn=2),u===null)return!0;g=Vr(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,s=w&-w,h.lanes|=s,s=sy(h.stateNode,g,s),Lg(h,s),!1;case 1:if(u=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Jo===null||!Jo.has(A))))return h.flags|=65536,w&=-w,h.lanes|=w,w=HS(w),qS(w,s,h,g),Lg(h,w),!1}h=h.return}while(h!==null);return!1}var ay=Error(r(461)),Rn=!1;function Gn(s,u,h,g){u.child=s===null?zw(u,null,h,g):Hs(u,s.child,h,g)}function VS(s,u,h,g,w){h=h.render;var A=u.ref;if("ref"in g){var U={};for(var Y in g)Y!=="ref"&&(U[Y]=g[Y])}else U=g;return Ls(u),g=Vg(s,u,h,U,A,w),Y=Yg(),s!==null&&!Rn?(Gg(s,u,w),ao(s,u,w)):(kt&&Y&&Sg(u),u.flags|=1,Gn(s,u,g,w),u.child)}function YS(s,u,h,g,w){if(s===null){var A=h.type;return typeof A=="function"&&!Eg(A)&&A.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=A,GS(s,u,A,g,w)):(s=sd(h.type,null,g,u,u.mode,w),s.ref=u.ref,s.return=u,u.child=s)}if(A=s.child,!my(s,w)){var U=A.memoizedProps;if(h=h.compare,h=h!==null?h:nu,h(U,g)&&s.ref===u.ref)return ao(s,u,w)}return u.flags|=1,s=to(A,g),s.ref=u.ref,s.return=u,u.child=s}function GS(s,u,h,g,w){if(s!==null){var A=s.memoizedProps;if(nu(A,g)&&s.ref===u.ref)if(Rn=!1,u.pendingProps=g=A,my(s,w))(s.flags&131072)!==0&&(Rn=!0);else return u.lanes=s.lanes,ao(s,u,w)}return ly(s,u,h,g,w)}function zS(s,u,h,g){var w=g.children,A=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(A=A!==null?A.baseLanes|h:h,s!==null){for(g=u.child=s.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~A}else g=0,u.child=null;return KS(s,u,A,h,g)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&cd(u,A!==null?A.cachePool:null),A!==null?$w(u,A):Fg(),jw(u);else return g=u.lanes=536870912,KS(s,u,A!==null?A.baseLanes|h:h,h,g)}else A!==null?(cd(u,A.cachePool),$w(u,A),Ko(),u.memoizedState=null):(s!==null&&cd(u,null),Fg(),Ko());return Gn(s,u,w,h),u.child}function yu(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function KS(s,u,h,g,w){var A=Dg();return A=A===null?null:{parent:In._currentValue,pool:A},u.memoizedState={baseLanes:h,cachePool:A},s!==null&&cd(u,null),Fg(),jw(u),s!==null&&Oa(s,u,g,!0),u.childLanes=w,null}function bd(s,u){return u=Nd({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function WS(s,u,h){return Hs(u,s.child,null,h),s=bd(u,u.pendingProps),s.flags|=2,Ir(u),u.memoizedState=null,s}function V2(s,u,h){var g=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(kt){if(g.mode==="hidden")return s=bd(u,g),u.lanes=536870912,yu(null,s);if(Hg(u),(s=pn)?(s=oA(s,zr),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Fo!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},h=xw(s),h.return=u,u.child=h,Vn=u,pn=null)):s=null,s===null)throw Ho(u);return u.lanes=536870912,null}return bd(u,g)}var A=s.memoizedState;if(A!==null){var U=A.dehydrated;if(Hg(u),w)if(u.flags&256)u.flags&=-257,u=WS(s,u,h);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(Rn||Oa(s,u,h,!1),w=(h&s.childLanes)!==0,Rn||w){if(g=dn,g!==null&&(U=nr(g,h),U!==0&&U!==A.retryLane))throw A.retryLane=U,Ds(s,U),vr(g,s,U),ay;Ud(),u=WS(s,u,h)}else s=A.treeContext,pn=Wr(U.nextSibling),Vn=u,kt=!0,Bo=null,zr=!1,s!==null&&Mw(u,s),u=bd(u,g),u.flags|=4096;return u}return s=to(s.child,{mode:g.mode,children:g.children}),s.ref=u.ref,u.child=s,s.return=u,s}function Id(s,u){var h=u.ref;if(h===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(u.flags|=4194816)}}function ly(s,u,h,g,w){return Ls(u),h=Vg(s,u,h,g,void 0,w),g=Yg(),s!==null&&!Rn?(Gg(s,u,w),ao(s,u,w)):(kt&&g&&Sg(u),u.flags|=1,Gn(s,u,h,w),u.child)}function $S(s,u,h,g,w,A){return Ls(u),u.updateQueue=null,h=Qw(u,g,h,w),Jw(s),g=Yg(),s!==null&&!Rn?(Gg(s,u,A),ao(s,u,A)):(kt&&g&&Sg(u),u.flags|=1,Gn(s,u,h,A),u.child)}function jS(s,u,h,g,w){if(Ls(u),u.stateNode===null){var A=Ia,U=h.contextType;typeof U=="object"&&U!==null&&(A=Yn(U)),A=new h(g,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=oy,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=g,A.state=u.memoizedState,A.refs={},kg(u),U=h.contextType,A.context=typeof U=="object"&&U!==null?Yn(U):Ia,A.state=u.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(iy(u,h,U,g),A.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(U=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),U!==A.state&&oy.enqueueReplaceState(A,A.state,null),fu(u,g,A,w),du(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(s===null){A=u.stateNode;var Y=u.memoizedProps,oe=Vs(h,Y);A.props=oe;var Ce=A.context,De=h.contextType;U=Ia,typeof De=="object"&&De!==null&&(U=Yn(De));var Be=h.getDerivedStateFromProps;De=typeof Be=="function"||typeof A.getSnapshotBeforeUpdate=="function",Y=u.pendingProps!==Y,De||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(Y||Ce!==U)&&PS(u,A,g,U),Vo=!1;var be=u.memoizedState;A.state=be,fu(u,g,A,w),du(),Ce=u.memoizedState,Y||be!==Ce||Vo?(typeof Be=="function"&&(iy(u,h,Be,g),Ce=u.memoizedState),(oe=Vo||kS(u,h,oe,g,be,Ce,U))?(De||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=Ce),A.props=g,A.state=Ce,A.context=U,g=oe):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{A=u.stateNode,Pg(s,u),U=u.memoizedProps,De=Vs(h,U),A.props=De,Be=u.pendingProps,be=A.context,Ce=h.contextType,oe=Ia,typeof Ce=="object"&&Ce!==null&&(oe=Yn(Ce)),Y=h.getDerivedStateFromProps,(Ce=typeof Y=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==Be||be!==oe)&&PS(u,A,g,oe),Vo=!1,be=u.memoizedState,A.state=be,fu(u,g,A,w),du();var Ne=u.memoizedState;U!==Be||be!==Ne||Vo||s!==null&&s.dependencies!==null&&ld(s.dependencies)?(typeof Y=="function"&&(iy(u,h,Y,g),Ne=u.memoizedState),(De=Vo||kS(u,h,De,g,be,Ne,oe)||s!==null&&s.dependencies!==null&&ld(s.dependencies))?(Ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ne,oe),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ne,oe)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Ne),A.props=g,A.state=Ne,A.context=oe,g=De):(typeof A.componentDidUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(u.flags|=1024),g=!1)}return A=g,Id(s,u),g=(u.flags&128)!==0,A||g?(A=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,s!==null&&g?(u.child=Hs(u,s.child,null,w),u.child=Hs(u,null,h,w)):Gn(s,u,h,w),u.memoizedState=A.state,s=u.child):s=ao(s,u,w),s}function JS(s,u,h,g){return ks(),u.flags|=256,Gn(s,u,h,g),u.child}var uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cy(s){return{baseLanes:s,cachePool:Bw()}}function dy(s,u,h){return s=s!==null?s.childLanes&~h:0,u&&(s|=Rr),s}function QS(s,u,h){var g=u.pendingProps,w=!1,A=(u.flags&128)!==0,U;if((U=A)||(U=s!==null&&s.memoizedState===null?!1:(Sn.current&2)!==0),U&&(w=!0,u.flags&=-129),U=(u.flags&32)!==0,u.flags&=-33,s===null){if(kt){if(w?zo(u):Ko(),(s=pn)?(s=oA(s,zr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:Fo!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},h=xw(s),h.return=u,u.child=h,Vn=u,pn=null)):s=null,s===null)throw Ho(u);return Wy(s)?u.lanes=32:u.lanes=536870912,null}var Y=g.children;return g=g.fallback,w?(Ko(),w=u.mode,Y=Nd({mode:"hidden",children:Y},w),g=Ms(g,w,h,null),Y.return=u,g.return=u,Y.sibling=g,u.child=Y,g=u.child,g.memoizedState=cy(h),g.childLanes=dy(s,U,h),u.memoizedState=uy,yu(null,g)):(zo(u),fy(u,Y))}var oe=s.memoizedState;if(oe!==null&&(Y=oe.dehydrated,Y!==null)){if(A)u.flags&256?(zo(u),u.flags&=-257,u=hy(s,u,h)):u.memoizedState!==null?(Ko(),u.child=s.child,u.flags|=128,u=null):(Ko(),Y=g.fallback,w=u.mode,g=Nd({mode:"visible",children:g.children},w),Y=Ms(Y,w,h,null),Y.flags|=2,g.return=u,Y.return=u,g.sibling=Y,u.child=g,Hs(u,s.child,null,h),g=u.child,g.memoizedState=cy(h),g.childLanes=dy(s,U,h),u.memoizedState=uy,u=yu(null,g));else if(zo(u),Wy(Y)){if(U=Y.nextSibling&&Y.nextSibling.dataset,U)var Ce=U.dgst;U=Ce,g=Error(r(419)),g.stack="",g.digest=U,ou({value:g,source:null,stack:null}),u=hy(s,u,h)}else if(Rn||Oa(s,u,h,!1),U=(h&s.childLanes)!==0,Rn||U){if(U=dn,U!==null&&(g=nr(U,h),g!==0&&g!==oe.retryLane))throw oe.retryLane=g,Ds(s,g),vr(U,s,g),ay;Ky(Y)||Ud(),u=hy(s,u,h)}else Ky(Y)?(u.flags|=192,u.child=s.child,u=null):(s=oe.treeContext,pn=Wr(Y.nextSibling),Vn=u,kt=!0,Bo=null,zr=!1,s!==null&&Mw(u,s),u=fy(u,g.children),u.flags|=4096);return u}return w?(Ko(),Y=g.fallback,w=u.mode,oe=s.child,Ce=oe.sibling,g=to(oe,{mode:"hidden",children:g.children}),g.subtreeFlags=oe.subtreeFlags&65011712,Ce!==null?Y=to(Ce,Y):(Y=Ms(Y,w,h,null),Y.flags|=2),Y.return=u,g.return=u,g.sibling=Y,u.child=g,yu(null,g),g=u.child,Y=s.child.memoizedState,Y===null?Y=cy(h):(w=Y.cachePool,w!==null?(oe=In._currentValue,w=w.parent!==oe?{parent:oe,pool:oe}:w):w=Bw(),Y={baseLanes:Y.baseLanes|h,cachePool:w}),g.memoizedState=Y,g.childLanes=dy(s,U,h),u.memoizedState=uy,yu(s.child,g)):(zo(u),h=s.child,s=h.sibling,h=to(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,s!==null&&(U=u.deletions,U===null?(u.deletions=[s],u.flags|=16):U.push(s)),u.child=h,u.memoizedState=null,h)}function fy(s,u){return u=Nd({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Nd(s,u){return s=Ar(22,s,null,u),s.lanes=0,s}function hy(s,u,h){return Hs(u,s.child,null,h),s=fy(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function XS(s,u,h){s.lanes|=u;var g=s.alternate;g!==null&&(g.lanes|=u),Ng(s.return,u,h)}function py(s,u,h,g,w,A){var U=s.memoizedState;U===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w,treeForkCount:A}:(U.isBackwards=u,U.rendering=null,U.renderingStartTime=0,U.last=g,U.tail=h,U.tailMode=w,U.treeForkCount=A)}function ZS(s,u,h){var g=u.pendingProps,w=g.revealOrder,A=g.tail;g=g.children;var U=Sn.current,Y=(U&2)!==0;if(Y?(U=U&1|2,u.flags|=128):U&=1,P(Sn,U),Gn(s,u,g,h),g=kt?iu:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&XS(s,h,u);else if(s.tag===19)XS(s,h,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(w){case"forwards":for(h=u.child,w=null;h!==null;)s=h.alternate,s!==null&&gd(s)===null&&(w=h),h=h.sibling;h=w,h===null?(w=u.child,u.child=null):(w=h.sibling,h.sibling=null),py(u,!1,w,h,A,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=u.child,u.child=null;w!==null;){if(s=w.alternate,s!==null&&gd(s)===null){u.child=w;break}s=w.sibling,w.sibling=h,h=w,w=s}py(u,!0,h,null,A,g);break;case"together":py(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function ao(s,u,h){if(s!==null&&(u.dependencies=s.dependencies),jo|=u.lanes,(h&u.childLanes)===0)if(s!==null){if(Oa(s,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,h=to(s,s.pendingProps),u.child=h,h.return=u;s.sibling!==null;)s=s.sibling,h=h.sibling=to(s,s.pendingProps),h.return=u;h.sibling=null}return u.child}function my(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&ld(s)))}function Y2(s,u,h){switch(u.tag){case 3:le(u,u.stateNode.containerInfo),qo(u,In,s.memoizedState.cache),ks();break;case 27:case 5:xe(u);break;case 4:le(u,u.stateNode.containerInfo);break;case 10:qo(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Hg(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(zo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?QS(s,u,h):(zo(u),s=ao(s,u,h),s!==null?s.sibling:null);zo(u);break;case 19:var w=(s.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(Oa(s,u,h,!1),g=(h&u.childLanes)!==0),w){if(g)return ZS(s,u,h);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),P(Sn,Sn.current),g)break;return null;case 22:return u.lanes=0,zS(s,u,h,u.pendingProps);case 24:qo(u,In,s.memoizedState.cache)}return ao(s,u,h)}function eC(s,u,h){if(s!==null)if(s.memoizedProps!==u.pendingProps)Rn=!0;else{if(!my(s,h)&&(u.flags&128)===0)return Rn=!1,Y2(s,u,h);Rn=(s.flags&131072)!==0}else Rn=!1,kt&&(u.flags&1048576)!==0&&Dw(u,iu,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(s=Fs(u.elementType),u.type=s,typeof s=="function")Eg(s)?(g=Vs(s,g),u.tag=1,u=jS(null,u,s,g,h)):(u.tag=0,u=ly(null,u,s,g,h));else{if(s!=null){var w=s.$$typeof;if(w===N){u.tag=11,u=VS(null,u,s,g,h);break e}else if(w===F){u.tag=14,u=YS(null,u,s,g,h);break e}}throw u=Re(s)||s,Error(r(306,u,""))}}return u;case 0:return ly(s,u,u.type,u.pendingProps,h);case 1:return g=u.type,w=Vs(g,u.pendingProps),jS(s,u,g,w,h);case 3:e:{if(le(u,u.stateNode.containerInfo),s===null)throw Error(r(387));g=u.pendingProps;var A=u.memoizedState;w=A.element,Pg(s,u),fu(u,g,null,h);var U=u.memoizedState;if(g=U.cache,qo(u,In,g),g!==A.cache&&Rg(u,[In],h,!0),du(),g=U.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:U.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=JS(s,u,g,h);break e}else if(g!==w){w=Vr(Error(r(424)),u),ou(w),u=JS(s,u,g,h);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pn=Wr(s.firstChild),Vn=u,kt=!0,Bo=null,zr=!0,h=zw(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ks(),g===w){u=ao(s,u,h);break e}Gn(s,u,g,h)}u=u.child}return u;case 26:return Id(s,u),s===null?(h=dA(u.type,null,u.pendingProps,null))?u.memoizedState=h:kt||(h=u.type,s=u.pendingProps,g=Gd(Oe.current).createElement(h),g[bn]=u,g[Un]=s,zn(g,h,s),Fn(g),u.stateNode=g):u.memoizedState=dA(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return xe(u),s===null&&kt&&(g=u.stateNode=lA(u.type,u.pendingProps,Oe.current),Vn=u,zr=!0,w=pn,es(u.type)?($y=w,pn=Wr(g.firstChild)):pn=w),Gn(s,u,u.pendingProps.children,h),Id(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&kt&&((w=g=pn)&&(g=vU(g,u.type,u.pendingProps,zr),g!==null?(u.stateNode=g,Vn=u,pn=Wr(g.firstChild),zr=!1,w=!0):w=!1),w||Ho(u)),xe(u),w=u.type,A=u.pendingProps,U=s!==null?s.memoizedProps:null,g=A.children,Yy(w,A)?g=null:U!==null&&Yy(w,U)&&(u.flags|=32),u.memoizedState!==null&&(w=Vg(s,u,k2,null,null,h),Du._currentValue=w),Id(s,u),Gn(s,u,g,h),u.child;case 6:return s===null&&kt&&((s=h=pn)&&(h=EU(h,u.pendingProps,zr),h!==null?(u.stateNode=h,Vn=u,pn=null,s=!0):s=!1),s||Ho(u)),null;case 13:return QS(s,u,h);case 4:return le(u,u.stateNode.containerInfo),g=u.pendingProps,s===null?u.child=Hs(u,null,g,h):Gn(s,u,g,h),u.child;case 11:return VS(s,u,u.type,u.pendingProps,h);case 7:return Gn(s,u,u.pendingProps,h),u.child;case 8:return Gn(s,u,u.pendingProps.children,h),u.child;case 12:return Gn(s,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,qo(u,u.type,g.value),Gn(s,u,g.children,h),u.child;case 9:return w=u.type._context,g=u.pendingProps.children,Ls(u),w=Yn(w),g=g(w),u.flags|=1,Gn(s,u,g,h),u.child;case 14:return YS(s,u,u.type,u.pendingProps,h);case 15:return GS(s,u,u.type,u.pendingProps,h);case 19:return ZS(s,u,h);case 31:return V2(s,u,h);case 22:return zS(s,u,h,u.pendingProps);case 24:return Ls(u),g=Yn(In),s===null?(w=Dg(),w===null&&(w=dn,A=xg(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=h),w=A),u.memoizedState={parent:g,cache:w},kg(u),qo(u,In,w)):((s.lanes&h)!==0&&(Pg(s,u),fu(u,null,null,h),du()),w=s.memoizedState,A=u.memoizedState,w.parent!==g?(w={parent:g,cache:g},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),qo(u,In,g)):(g=A.cache,qo(u,In,g),g!==w.cache&&Rg(u,[In],h,!0))),Gn(s,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function lo(s){s.flags|=4}function gy(s,u,h,g,w){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(w&335544128)===w)if(s.stateNode.complete)s.flags|=8192;else if(IC())s.flags|=8192;else throw Bs=fd,Mg}else s.flags&=-16777217}function tC(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gA(u))if(IC())s.flags|=8192;else throw Bs=fd,Mg}function Rd(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?K():536870912,s.lanes|=u,Ya|=u)}function _u(s,u){if(!kt)switch(s.tailMode){case"hidden":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function mn(s){var u=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(u)for(var w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=h,u}function G2(s,u,h){var g=u.pendingProps;switch(Cg(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(u),null;case 1:return mn(u),null;case 3:return h=u.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),io(In),he(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(xa(u)?lo(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,bg())),mn(u),null;case 26:var w=u.type,A=u.memoizedState;return s===null?(lo(u),A!==null?(mn(u),tC(u,A)):(mn(u),gy(u,w,null,g,h))):A?A!==s.memoizedState?(lo(u),mn(u),tC(u,A)):(mn(u),u.flags&=-16777217):(s=s.memoizedProps,s!==g&&lo(u),mn(u),gy(u,w,s,g,h)),null;case 27:if(Ye(u),h=Oe.current,w=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&lo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return mn(u),null}s=ue.current,xa(u)?kw(u):(s=lA(w,g,h),u.stateNode=s,lo(u))}return mn(u),null;case 5:if(Ye(u),w=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==g&&lo(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return mn(u),null}if(A=ue.current,xa(u))kw(u);else{var U=Gd(Oe.current);switch(A){case 1:A=U.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:A=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":A=U.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":A=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":A=U.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?U.createElement("select",{is:g.is}):U.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?U.createElement(w,{is:g.is}):U.createElement(w)}}A[bn]=u,A[Un]=g;e:for(U=u.child;U!==null;){if(U.tag===5||U.tag===6)A.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===u)break e;for(;U.sibling===null;){if(U.return===null||U.return===u)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}u.stateNode=A;e:switch(zn(A,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&lo(u)}}return mn(u),gy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,h),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==g&&lo(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(s=Oe.current,xa(u)){if(s=u.stateNode,h=u.memoizedProps,g=null,w=Vn,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}s[bn]=u,s=!!(s.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||QC(s.nodeValue,h)),s||Ho(u,!0)}else s=Gd(s).createTextNode(g),s[bn]=u,u.stateNode=s}return mn(u),null;case 31:if(h=u.memoizedState,s===null||s.memoizedState!==null){if(g=xa(u),h!==null){if(s===null){if(!g)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[bn]=u}else ks(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),s=!1}else h=bg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return u.flags&256?(Ir(u),u):(Ir(u),null);if((u.flags&128)!==0)throw Error(r(558))}return mn(u),null;case 13:if(g=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=xa(u),g!==null&&g.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[bn]=u}else ks(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),w=!1}else w=bg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Ir(u),u):(Ir(u),null)}return Ir(u),(u.flags&128)!==0?(u.lanes=h,u):(h=g!==null,s=s!==null&&s.memoizedState!==null,h&&(g=u.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==w&&(g.flags|=2048)),h!==s&&h&&(u.child.flags|=8192),Rd(u,u.updateQueue),mn(u),null);case 4:return he(),s===null&&Fy(u.stateNode.containerInfo),mn(u),null;case 10:return io(u.type),mn(u),null;case 19:if(H(Sn),g=u.memoizedState,g===null)return mn(u),null;if(w=(u.flags&128)!==0,A=g.rendering,A===null)if(w)_u(g,!1);else{if(wn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(A=gd(s),A!==null){for(u.flags|=128,_u(g,!1),s=A.updateQueue,u.updateQueue=s,Rd(u,s),u.subtreeFlags=0,s=h,h=u.child;h!==null;)Rw(h,s),h=h.sibling;return P(Sn,Sn.current&1|2),kt&&no(u,g.treeForkCount),u.child}s=s.sibling}g.tail!==null&&Ve()>kd&&(u.flags|=128,w=!0,_u(g,!1),u.lanes=4194304)}else{if(!w)if(s=gd(A),s!==null){if(u.flags|=128,w=!0,s=s.updateQueue,u.updateQueue=s,Rd(u,s),_u(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!kt)return mn(u),null}else 2*Ve()-g.renderingStartTime>kd&&h!==536870912&&(u.flags|=128,w=!0,_u(g,!1),u.lanes=4194304);g.isBackwards?(A.sibling=u.child,u.child=A):(s=g.last,s!==null?s.sibling=A:u.child=A,g.last=A)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ve(),s.sibling=null,h=Sn.current,P(Sn,w?h&1|2:h&1),kt&&no(u,g.treeForkCount),s):(mn(u),null);case 22:case 23:return Ir(u),Bg(),g=u.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(mn(u),u.subtreeFlags&6&&(u.flags|=8192)):mn(u),h=u.updateQueue,h!==null&&Rd(u,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),s!==null&&H(Us),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),io(In),mn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function z2(s,u){switch(Cg(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return io(In),he(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return Ye(u),null;case 31:if(u.memoizedState!==null){if(Ir(u),u.alternate===null)throw Error(r(340));ks()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(Ir(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));ks()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return H(Sn),null;case 4:return he(),null;case 10:return io(u.type),null;case 22:case 23:return Ir(u),Bg(),s!==null&&H(Us),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return io(In),null;case 25:return null;default:return null}}function nC(s,u){switch(Cg(u),u.tag){case 3:io(In),he();break;case 26:case 27:case 5:Ye(u);break;case 4:he();break;case 31:u.memoizedState!==null&&Ir(u);break;case 13:Ir(u);break;case 19:H(Sn);break;case 10:io(u.type);break;case 22:case 23:Ir(u),Bg(),s!==null&&H(Us);break;case 24:io(In)}}function vu(s,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&s)===s){g=void 0;var A=h.create,U=h.inst;g=A(),U.destroy=g}h=h.next}while(h!==w)}}catch(Y){en(u,u.return,Y)}}function Wo(s,u,h){try{var g=u.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var A=w.next;g=A;do{if((g.tag&s)===s){var U=g.inst,Y=U.destroy;if(Y!==void 0){U.destroy=void 0,w=u;var oe=h,Ce=Y;try{Ce()}catch(De){en(w,oe,De)}}}g=g.next}while(g!==A)}}catch(De){en(u,u.return,De)}}function rC(s){var u=s.updateQueue;if(u!==null){var h=s.stateNode;try{Ww(u,h)}catch(g){en(s,s.return,g)}}}function iC(s,u,h){h.props=Vs(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(g){en(s,u,g)}}function Eu(s,u){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof h=="function"?s.refCleanup=h(g):h.current=g}}catch(w){en(s,u,w)}}function ki(s,u){var h=s.ref,g=s.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(w){en(s,u,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){en(s,u,w)}else h.current=null}function oC(s){var u=s.type,h=s.memoizedProps,g=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(w){en(s,s.return,w)}}function yy(s,u,h){try{var g=s.stateNode;hU(g,s.type,h,u),g[Un]=u}catch(w){en(s,s.return,w)}}function sC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&es(s.type)||s.tag===4}function _y(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&es(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vy(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(s),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Zi));else if(g!==4&&(g===27&&es(s.type)&&(h=s.stateNode,u=null),s=s.child,s!==null))for(vy(s,u,h),s=s.sibling;s!==null;)vy(s,u,h),s=s.sibling}function xd(s,u,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,u?h.insertBefore(s,u):h.appendChild(s);else if(g!==4&&(g===27&&es(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(xd(s,u,h),s=s.sibling;s!==null;)xd(s,u,h),s=s.sibling}function aC(s){var u=s.stateNode,h=s.memoizedProps;try{for(var g=s.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);zn(u,g,h),u[bn]=s,u[Un]=h}catch(A){en(s,s.return,A)}}var uo=!1,xn=!1,Ey=!1,lC=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function K2(s,u){if(s=s.containerInfo,qy=Qd,s=Ew(s),hg(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var U=0,Y=-1,oe=-1,Ce=0,De=0,Be=s,be=null;t:for(;;){for(var Ne;Be!==h||w!==0&&Be.nodeType!==3||(Y=U+w),Be!==A||g!==0&&Be.nodeType!==3||(oe=U+g),Be.nodeType===3&&(U+=Be.nodeValue.length),(Ne=Be.firstChild)!==null;)be=Be,Be=Ne;for(;;){if(Be===s)break t;if(be===h&&++Ce===w&&(Y=U),be===A&&++De===g&&(oe=U),(Ne=Be.nextSibling)!==null)break;Be=be,be=Be.parentNode}Be=Ne}h=Y===-1||oe===-1?null:{start:Y,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(Vy={focusedElem:s,selectionRange:h},Qd=!1,Bn=u;Bn!==null;)if(u=Bn,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Bn=s;else for(;Bn!==null;){switch(u=Bn,A=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)w=s[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,h=u,w=A.memoizedProps,A=A.memoizedState,g=h.stateNode;try{var nt=Vs(h.type,w);s=g.getSnapshotBeforeUpdate(nt,A),g.__reactInternalSnapshotBeforeUpdate=s}catch(mt){en(h,h.return,mt)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,h=s.nodeType,h===9)zy(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,Bn=s;break}Bn=u.return}}function uC(s,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:fo(s,h),g&4&&vu(5,h);break;case 1:if(fo(s,h),g&4)if(s=h.stateNode,u===null)try{s.componentDidMount()}catch(U){en(h,h.return,U)}else{var w=Vs(h.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(w,u,s.__reactInternalSnapshotBeforeUpdate)}catch(U){en(h,h.return,U)}}g&64&&rC(h),g&512&&Eu(h,h.return);break;case 3:if(fo(s,h),g&64&&(s=h.updateQueue,s!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Ww(s,u)}catch(U){en(h,h.return,U)}}break;case 27:u===null&&g&4&&aC(h);case 26:case 5:fo(s,h),u===null&&g&4&&oC(h),g&512&&Eu(h,h.return);break;case 12:fo(s,h);break;case 31:fo(s,h),g&4&&fC(s,h);break;case 13:fo(s,h),g&4&&hC(s,h),g&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=tU.bind(null,h),TU(s,h))));break;case 22:if(g=h.memoizedState!==null||uo,!g){u=u!==null&&u.memoizedState!==null||xn,w=uo;var A=xn;uo=g,(xn=u)&&!A?ho(s,h,(h.subtreeFlags&8772)!==0):fo(s,h),uo=w,xn=A}break;case 30:break;default:fo(s,h)}}function cC(s){var u=s.alternate;u!==null&&(s.alternate=null,cC(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&Jm(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yn=null,mr=!1;function co(s,u,h){for(h=h.child;h!==null;)dC(s,u,h),h=h.sibling}function dC(s,u,h){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(ke,h)}catch{}switch(h.tag){case 26:xn||ki(h,u),co(s,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:xn||ki(h,u);var g=yn,w=mr;es(h.type)&&(yn=h.stateNode,mr=!1),co(s,u,h),Ru(h.stateNode),yn=g,mr=w;break;case 5:xn||ki(h,u);case 6:if(g=yn,w=mr,yn=null,co(s,u,h),yn=g,mr=w,yn!==null)if(mr)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(h.stateNode)}catch(A){en(h,u,A)}else try{yn.removeChild(h.stateNode)}catch(A){en(h,u,A)}break;case 18:yn!==null&&(mr?(s=yn,rA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Qa(s)):rA(yn,h.stateNode));break;case 4:g=yn,w=mr,yn=h.stateNode.containerInfo,mr=!0,co(s,u,h),yn=g,mr=w;break;case 0:case 11:case 14:case 15:Wo(2,h,u),xn||Wo(4,h,u),co(s,u,h);break;case 1:xn||(ki(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&iC(h,u,g)),co(s,u,h);break;case 21:co(s,u,h);break;case 22:xn=(g=xn)||h.memoizedState!==null,co(s,u,h),xn=g;break;default:co(s,u,h)}}function fC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Qa(s)}catch(h){en(u,u.return,h)}}}function hC(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Qa(s)}catch(h){en(u,u.return,h)}}function W2(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new lC),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new lC),u;default:throw Error(r(435,s.tag))}}function Od(s,u){var h=W2(s);u.forEach(function(g){if(!h.has(g)){h.add(g);var w=nU.bind(null,s,g);g.then(w,w)}})}function gr(s,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g],A=s,U=u,Y=U;e:for(;Y!==null;){switch(Y.tag){case 27:if(es(Y.type)){yn=Y.stateNode,mr=!1;break e}break;case 5:yn=Y.stateNode,mr=!1;break e;case 3:case 4:yn=Y.stateNode.containerInfo,mr=!0;break e}Y=Y.return}if(yn===null)throw Error(r(160));dC(A,U,w),yn=null,mr=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)pC(u,s),u=u.sibling}var di=null;function pC(s,u){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gr(u,s),yr(s),g&4&&(Wo(3,s,s.return),vu(3,s),Wo(5,s,s.return));break;case 1:gr(u,s),yr(s),g&512&&(xn||h===null||ki(h,h.return)),g&64&&uo&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var w=di;if(gr(u,s),yr(s),g&512&&(xn||h===null||ki(h,h.return)),g&4){var A=h!==null?h.memoizedState:null;if(g=s.memoizedState,h===null)if(g===null)if(s.stateNode===null){e:{g=s.type,h=s.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":A=w.getElementsByTagName("title")[0],(!A||A[Wl]||A[bn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(g),w.head.insertBefore(A,w.querySelector("head > title"))),zn(A,g,h),A[bn]=s,Fn(A),g=A;break e;case"link":var U=pA("link","href",w).get(g+(h.href||""));if(U){for(var Y=0;Y<U.length;Y++)if(A=U[Y],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(Y,1);break t}}A=w.createElement(g),zn(A,g,h),w.head.appendChild(A);break;case"meta":if(U=pA("meta","content",w).get(g+(h.content||""))){for(Y=0;Y<U.length;Y++)if(A=U[Y],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(Y,1);break t}}A=w.createElement(g),zn(A,g,h),w.head.appendChild(A);break;default:throw Error(r(468,g))}A[bn]=s,Fn(A),g=A}s.stateNode=g}else mA(w,s.type,s.stateNode);else s.stateNode=hA(w,g,s.memoizedProps);else A!==g?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,g===null?mA(w,s.type,s.stateNode):hA(w,g,s.memoizedProps)):g===null&&s.stateNode!==null&&yy(s,s.memoizedProps,h.memoizedProps)}break;case 27:gr(u,s),yr(s),g&512&&(xn||h===null||ki(h,h.return)),h!==null&&g&4&&yy(s,s.memoizedProps,h.memoizedProps);break;case 5:if(gr(u,s),yr(s),g&512&&(xn||h===null||ki(h,h.return)),s.flags&32){w=s.stateNode;try{Ea(w,"")}catch(nt){en(s,s.return,nt)}}g&4&&s.stateNode!=null&&(w=s.memoizedProps,yy(s,w,h!==null?h.memoizedProps:w)),g&1024&&(Ey=!0);break;case 6:if(gr(u,s),yr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,h=s.stateNode;try{h.nodeValue=g}catch(nt){en(s,s.return,nt)}}break;case 3:if(Wd=null,w=di,di=zd(u.containerInfo),gr(u,s),di=w,yr(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Qa(u.containerInfo)}catch(nt){en(s,s.return,nt)}Ey&&(Ey=!1,mC(s));break;case 4:g=di,di=zd(s.stateNode.containerInfo),gr(u,s),yr(s),di=g;break;case 12:gr(u,s),yr(s);break;case 31:gr(u,s),yr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Od(s,g)));break;case 13:gr(u,s),yr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Md=Ve()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Od(s,g)));break;case 22:w=s.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,Ce=uo,De=xn;if(uo=Ce||w,xn=De||oe,gr(u,s),xn=De,uo=Ce,yr(s),g&8192)e:for(u=s.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(h===null||oe||uo||xn||Ys(s)),h=null,u=s;;){if(u.tag===5||u.tag===26){if(h===null){oe=h=u;try{if(A=oe.stateNode,w)U=A.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Y=oe.stateNode;var Be=oe.memoizedProps.style,be=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Y.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(nt){en(oe,oe.return,nt)}}}else if(u.tag===6){if(h===null){oe=u;try{oe.stateNode.nodeValue=w?"":oe.memoizedProps}catch(nt){en(oe,oe.return,nt)}}}else if(u.tag===18){if(h===null){oe=u;try{var Ne=oe.stateNode;w?iA(Ne,!0):iA(oe.stateNode,!1)}catch(nt){en(oe,oe.return,nt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=s.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Od(s,h))));break;case 19:gr(u,s),yr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Od(s,g)));break;case 30:break;case 21:break;default:gr(u,s),yr(s)}}function yr(s){var u=s.flags;if(u&2){try{for(var h,g=s.return;g!==null;){if(sC(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,A=_y(s);xd(s,A,w);break;case 5:var U=h.stateNode;h.flags&32&&(Ea(U,""),h.flags&=-33);var Y=_y(s);xd(s,Y,U);break;case 3:case 4:var oe=h.stateNode.containerInfo,Ce=_y(s);vy(s,Ce,oe);break;default:throw Error(r(161))}}catch(De){en(s,s.return,De)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function mC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;mC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function fo(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)uC(s,u.alternate,u),u=u.sibling}function Ys(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Wo(4,u,u.return),Ys(u);break;case 1:ki(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&iC(u,u.return,h),Ys(u);break;case 27:Ru(u.stateNode);case 26:case 5:ki(u,u.return),Ys(u);break;case 22:u.memoizedState===null&&Ys(u);break;case 30:Ys(u);break;default:Ys(u)}s=s.sibling}}function ho(s,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,w=s,A=u,U=A.flags;switch(A.tag){case 0:case 11:case 15:ho(w,A,h),vu(4,A);break;case 1:if(ho(w,A,h),g=A,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ce){en(g,g.return,Ce)}if(g=A,w=g.updateQueue,w!==null){var Y=g.stateNode;try{var oe=w.shared.hiddenCallbacks;if(oe!==null)for(w.shared.hiddenCallbacks=null,w=0;w<oe.length;w++)Kw(oe[w],Y)}catch(Ce){en(g,g.return,Ce)}}h&&U&64&&rC(A),Eu(A,A.return);break;case 27:aC(A);case 26:case 5:ho(w,A,h),h&&g===null&&U&4&&oC(A),Eu(A,A.return);break;case 12:ho(w,A,h);break;case 31:ho(w,A,h),h&&U&4&&fC(w,A);break;case 13:ho(w,A,h),h&&U&4&&hC(w,A);break;case 22:A.memoizedState===null&&ho(w,A,h),Eu(A,A.return);break;case 30:break;default:ho(w,A,h)}u=u.sibling}}function Ty(s,u){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&su(h))}function wy(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&su(s))}function fi(s,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)gC(s,u,h,g),u=u.sibling}function gC(s,u,h,g){var w=u.flags;switch(u.tag){case 0:case 11:case 15:fi(s,u,h,g),w&2048&&vu(9,u);break;case 1:fi(s,u,h,g);break;case 3:fi(s,u,h,g),w&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&su(s)));break;case 12:if(w&2048){fi(s,u,h,g),s=u.stateNode;try{var A=u.memoizedProps,U=A.id,Y=A.onPostCommit;typeof Y=="function"&&Y(U,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(oe){en(u,u.return,oe)}}else fi(s,u,h,g);break;case 31:fi(s,u,h,g);break;case 13:fi(s,u,h,g);break;case 23:break;case 22:A=u.stateNode,U=u.alternate,u.memoizedState!==null?A._visibility&2?fi(s,u,h,g):Tu(s,u):A._visibility&2?fi(s,u,h,g):(A._visibility|=2,Ha(s,u,h,g,(u.subtreeFlags&10256)!==0||!1)),w&2048&&Ty(U,u);break;case 24:fi(s,u,h,g),w&2048&&wy(u.alternate,u);break;default:fi(s,u,h,g)}}function Ha(s,u,h,g,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var A=s,U=u,Y=h,oe=g,Ce=U.flags;switch(U.tag){case 0:case 11:case 15:Ha(A,U,Y,oe,w),vu(8,U);break;case 23:break;case 22:var De=U.stateNode;U.memoizedState!==null?De._visibility&2?Ha(A,U,Y,oe,w):Tu(A,U):(De._visibility|=2,Ha(A,U,Y,oe,w)),w&&Ce&2048&&Ty(U.alternate,U);break;case 24:Ha(A,U,Y,oe,w),w&&Ce&2048&&wy(U.alternate,U);break;default:Ha(A,U,Y,oe,w)}u=u.sibling}}function Tu(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=s,g=u,w=g.flags;switch(g.tag){case 22:Tu(h,g),w&2048&&Ty(g.alternate,g);break;case 24:Tu(h,g),w&2048&&wy(g.alternate,g);break;default:Tu(h,g)}u=u.sibling}}var wu=8192;function qa(s,u,h){if(s.subtreeFlags&wu)for(s=s.child;s!==null;)yC(s,u,h),s=s.sibling}function yC(s,u,h){switch(s.tag){case 26:qa(s,u,h),s.flags&wu&&s.memoizedState!==null&&MU(h,di,s.memoizedState,s.memoizedProps);break;case 5:qa(s,u,h);break;case 3:case 4:var g=di;di=zd(s.stateNode.containerInfo),qa(s,u,h),di=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=wu,wu=16777216,qa(s,u,h),wu=g):qa(s,u,h));break;default:qa(s,u,h)}}function _C(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Su(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Bn=g,EC(g,s)}_C(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vC(s),s=s.sibling}function vC(s){switch(s.tag){case 0:case 11:case 15:Su(s),s.flags&2048&&Wo(9,s,s.return);break;case 3:Su(s);break;case 12:Su(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Dd(s)):Su(s);break;default:Su(s)}}function Dd(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Bn=g,EC(g,s)}_C(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Wo(8,u,u.return),Dd(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Dd(u));break;default:Dd(u)}s=s.sibling}}function EC(s,u){for(;Bn!==null;){var h=Bn;switch(h.tag){case 0:case 11:case 15:Wo(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:su(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Bn=g;else e:for(h=s;Bn!==null;){g=Bn;var w=g.sibling,A=g.return;if(cC(g),g===h){Bn=null;break e}if(w!==null){w.return=A,Bn=w;break e}Bn=A}}}var $2={getCacheForType:function(s){var u=Yn(In),h=u.data.get(s);return h===void 0&&(h=s(),u.data.set(s,h)),h},cacheSignal:function(){return Yn(In).controller.signal}},j2=typeof WeakMap=="function"?WeakMap:Map,jt=0,dn=null,Rt=null,Ot=0,Zt=0,Nr=null,$o=!1,Va=!1,Sy=!1,po=0,wn=0,jo=0,Gs=0,Cy=0,Rr=0,Ya=0,Cu=null,_r=null,Ay=!1,Md=0,TC=0,kd=1/0,Pd=null,Jo=null,kn=0,Qo=null,Ga=null,mo=0,by=0,Iy=null,wC=null,Au=0,Ny=null;function xr(){return(jt&2)!==0&&Ot!==0?Ot&-Ot:ee.T!==null?ky():Kl()}function SC(){if(Rr===0)if((Ot&536870912)===0||kt){var s=As;As<<=1,(As&3932160)===0&&(As=262144),Rr=s}else Rr=536870912;return s=br.current,s!==null&&(s.flags|=32),Rr}function vr(s,u,h){(s===dn&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(za(s,0),Xo(s,Ot,Rr,!1)),je(s,h),((jt&2)===0||s!==dn)&&(s===dn&&((jt&2)===0&&(Gs|=h),wn===4&&Xo(s,Ot,Rr,!1)),Pi(s))}function CC(s,u,h){if((jt&6)!==0)throw Error(r(327));var g=!h&&(u&127)===0&&(u&s.expiredLanes)===0||Ji(s,u),w=g?X2(s,u):xy(s,u,!0),A=g;do{if(w===0){Va&&!g&&Xo(s,u,0,!1);break}else{if(h=s.current.alternate,A&&!J2(h)){w=xy(s,u,!1),A=!1;continue}if(w===2){if(A=u,s.errorRecoveryDisabledLanes&A)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){u=U;e:{var Y=s;w=Cu;var oe=Y.current.memoizedState.isDehydrated;if(oe&&(za(Y,U).flags|=256),U=xy(Y,U,!1),U!==2){if(Sy&&!oe){Y.errorRecoveryDisabledLanes|=A,Gs|=A,w=4;break e}A=_r,_r=w,A!==null&&(_r===null?_r=A:_r.push.apply(_r,A))}w=U}if(A=!1,w!==2)continue}}if(w===1){za(s,0),Xo(s,u,0,!0);break}e:{switch(g=s,A=w,A){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Xo(g,u,Rr,!$o);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Md+300-Ve(),10<w)){if(Xo(g,u,Rr,!$o),ha(g,0,!0)!==0)break e;mo=u,g.timeoutHandle=tA(AC.bind(null,g,h,_r,Pd,Ay,u,Rr,Gs,Ya,$o,A,"Throttled",-0,0),w);break e}AC(g,h,_r,Pd,Ay,u,Rr,Gs,Ya,$o,A,null,-0,0)}}break}while(!0);Pi(s)}function AC(s,u,h,g,w,A,U,Y,oe,Ce,De,Be,be,Ne){if(s.timeoutHandle=-1,Be=u.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zi},yC(u,A,Be);var nt=(A&62914560)===A?Md-Ve():(A&4194048)===A?TC-Ve():0;if(nt=kU(Be,nt),nt!==null){mo=A,s.cancelPendingCommit=nt(MC.bind(null,s,u,A,h,g,w,U,Y,oe,De,Be,null,be,Ne)),Xo(s,A,U,!Ce);return}}MC(s,u,A,h,g,w,U,Y,oe)}function J2(s){for(var u=s;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var w=h[g],A=w.getSnapshot;w=w.value;try{if(!Cr(A(),w))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Xo(s,u,h,g){u&=~Cy,u&=~Gs,s.suspendedLanes|=u,s.pingedLanes&=~u,g&&(s.warmLanes|=u),g=s.expirationTimes;for(var w=u;0<w;){var A=31-bt(w),U=1<<A;g[A]=-1,w&=~U}h!==0&&rt(s,h,u)}function Ld(){return(jt&6)===0?(bu(0),!1):!0}function Ry(){if(Rt!==null){if(Zt===0)var s=Rt.return;else s=Rt,ro=Ps=null,zg(s),Pa=null,lu=0,s=Rt;for(;s!==null;)nC(s.alternate,s),s=s.return;Rt=null}}function za(s,u){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,gU(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),mo=0,Ry(),dn=s,Rt=h=to(s.current,null),Ot=u,Zt=0,Nr=null,$o=!1,Va=Ji(s,u),Sy=!1,Ya=Rr=Cy=Gs=jo=wn=0,_r=Cu=null,Ay=!1,(u&8)!==0&&(u|=u&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=u;0<g;){var w=31-bt(g),A=1<<w;u|=s[w],g&=~A}return po=u,rd(),h}function bC(s,u){St=null,ee.H=gu,u===ka||u===dd?(u=Vw(),Zt=3):u===Mg?(u=Vw(),Zt=4):Zt=u===ay?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Nr=u,Rt===null&&(wn=1,Ad(s,Vr(u,s.current)))}function IC(){var s=br.current;return s===null?!0:(Ot&4194048)===Ot?Kr===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?s===Kr:!1}function NC(){var s=ee.H;return ee.H=gu,s===null?gu:s}function RC(){var s=ee.A;return ee.A=$2,s}function Ud(){wn=4,$o||(Ot&4194048)!==Ot&&br.current!==null||(Va=!0),(jo&134217727)===0&&(Gs&134217727)===0||dn===null||Xo(dn,Ot,Rr,!1)}function xy(s,u,h){var g=jt;jt|=2;var w=NC(),A=RC();(dn!==s||Ot!==u)&&(Pd=null,za(s,u)),u=!1;var U=wn;e:do try{if(Zt!==0&&Rt!==null){var Y=Rt,oe=Nr;switch(Zt){case 8:Ry(),U=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(u=!0);var Ce=Zt;if(Zt=0,Nr=null,Ka(s,Y,oe,Ce),h&&Va){U=0;break e}break;default:Ce=Zt,Zt=0,Nr=null,Ka(s,Y,oe,Ce)}}Q2(),U=wn;break}catch(De){bC(s,De)}while(!0);return u&&s.shellSuspendCounter++,ro=Ps=null,jt=g,ee.H=w,ee.A=A,Rt===null&&(dn=null,Ot=0,rd()),U}function Q2(){for(;Rt!==null;)xC(Rt)}function X2(s,u){var h=jt;jt|=2;var g=NC(),w=RC();dn!==s||Ot!==u?(Pd=null,kd=Ve()+500,za(s,u)):Va=Ji(s,u);e:do try{if(Zt!==0&&Rt!==null){u=Rt;var A=Nr;t:switch(Zt){case 1:Zt=0,Nr=null,Ka(s,u,A,1);break;case 2:case 9:if(Hw(A)){Zt=0,Nr=null,OC(u);break}u=function(){Zt!==2&&Zt!==9||dn!==s||(Zt=7),Pi(s)},A.then(u,u);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:Hw(A)?(Zt=0,Nr=null,OC(u)):(Zt=0,Nr=null,Ka(s,u,A,7));break;case 5:var U=null;switch(Rt.tag){case 26:U=Rt.memoizedState;case 5:case 27:var Y=Rt;if(U?gA(U):Y.stateNode.complete){Zt=0,Nr=null;var oe=Y.sibling;if(oe!==null)Rt=oe;else{var Ce=Y.return;Ce!==null?(Rt=Ce,Fd(Ce)):Rt=null}break t}}Zt=0,Nr=null,Ka(s,u,A,5);break;case 6:Zt=0,Nr=null,Ka(s,u,A,6);break;case 8:Ry(),wn=6;break e;default:throw Error(r(462))}}Z2();break}catch(De){bC(s,De)}while(!0);return ro=Ps=null,ee.H=g,ee.A=w,jt=h,Rt!==null?0:(dn=null,Ot=0,rd(),wn)}function Z2(){for(;Rt!==null&&!ne();)xC(Rt)}function xC(s){var u=eC(s.alternate,s,po);s.memoizedProps=s.pendingProps,u===null?Fd(s):Rt=u}function OC(s){var u=s,h=u.alternate;switch(u.tag){case 15:case 0:u=$S(h,u,u.pendingProps,u.type,void 0,Ot);break;case 11:u=$S(h,u,u.pendingProps,u.type.render,u.ref,Ot);break;case 5:zg(u);default:nC(h,u),u=Rt=Rw(u,po),u=eC(h,u,po)}s.memoizedProps=s.pendingProps,u===null?Fd(s):Rt=u}function Ka(s,u,h,g){ro=Ps=null,zg(u),Pa=null,lu=0;var w=u.return;try{if(q2(s,w,u,h,Ot)){wn=1,Ad(s,Vr(h,s.current)),Rt=null;return}}catch(A){if(w!==null)throw Rt=w,A;wn=1,Ad(s,Vr(h,s.current)),Rt=null;return}u.flags&32768?(kt||g===1?s=!0:Va||(Ot&536870912)!==0?s=!1:($o=s=!0,(g===2||g===9||g===3||g===6)&&(g=br.current,g!==null&&g.tag===13&&(g.flags|=16384))),DC(u,s)):Fd(u)}function Fd(s){var u=s;do{if((u.flags&32768)!==0){DC(u,$o);return}s=u.return;var h=G2(u.alternate,u,po);if(h!==null){Rt=h;return}if(u=u.sibling,u!==null){Rt=u;return}Rt=u=s}while(u!==null);wn===0&&(wn=5)}function DC(s,u){do{var h=z2(s.alternate,s);if(h!==null){h.flags&=32767,Rt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(s=s.sibling,s!==null)){Rt=s;return}Rt=s=h}while(s!==null);wn=6,Rt=null}function MC(s,u,h,g,w,A,U,Y,oe){s.cancelPendingCommit=null;do Bd();while(kn!==0);if((jt&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(A=u.lanes|u.childLanes,A|=_g,Je(s,h,A,U,Y,oe),s===dn&&(Rt=dn=null,Ot=0),Ga=u,Qo=s,mo=h,by=A,Iy=w,wC=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,rU(R,function(){return FC(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=ee.T,ee.T=null,w=Ee.p,Ee.p=2,U=jt,jt|=4;try{K2(s,u,h)}finally{jt=U,Ee.p=w,ee.T=g}}kn=1,kC(),PC(),LC()}}function kC(){if(kn===1){kn=0;var s=Qo,u=Ga,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=ee.T,ee.T=null;var g=Ee.p;Ee.p=2;var w=jt;jt|=4;try{pC(u,s);var A=Vy,U=Ew(s.containerInfo),Y=A.focusedElem,oe=A.selectionRange;if(U!==Y&&Y&&Y.ownerDocument&&vw(Y.ownerDocument.documentElement,Y)){if(oe!==null&&hg(Y)){var Ce=oe.start,De=oe.end;if(De===void 0&&(De=Ce),"selectionStart"in Y)Y.selectionStart=Ce,Y.selectionEnd=Math.min(De,Y.value.length);else{var Be=Y.ownerDocument||document,be=Be&&Be.defaultView||window;if(be.getSelection){var Ne=be.getSelection(),nt=Y.textContent.length,mt=Math.min(oe.start,nt),an=oe.end===void 0?mt:Math.min(oe.end,nt);!Ne.extend&&mt>an&&(U=an,an=mt,mt=U);var ve=_w(Y,mt),ge=_w(Y,an);if(ve&&ge&&(Ne.rangeCount!==1||Ne.anchorNode!==ve.node||Ne.anchorOffset!==ve.offset||Ne.focusNode!==ge.node||Ne.focusOffset!==ge.offset)){var Se=Be.createRange();Se.setStart(ve.node,ve.offset),Ne.removeAllRanges(),mt>an?(Ne.addRange(Se),Ne.extend(ge.node,ge.offset)):(Se.setEnd(ge.node,ge.offset),Ne.addRange(Se))}}}}for(Be=[],Ne=Y;Ne=Ne.parentNode;)Ne.nodeType===1&&Be.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Be.length;Y++){var Le=Be[Y];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Qd=!!qy,Vy=qy=null}finally{jt=w,Ee.p=g,ee.T=h}}s.current=u,kn=2}}function PC(){if(kn===2){kn=0;var s=Qo,u=Ga,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=ee.T,ee.T=null;var g=Ee.p;Ee.p=2;var w=jt;jt|=4;try{uC(s,u.alternate,u)}finally{jt=w,Ee.p=g,ee.T=h}}kn=3}}function LC(){if(kn===4||kn===3){kn=0,de();var s=Qo,u=Ga,h=mo,g=wC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?kn=5:(kn=0,Ga=Qo=null,UC(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(Jo=null),li(h),u=u.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=ee.T,w=Ee.p,Ee.p=2,ee.T=null;try{for(var A=s.onRecoverableError,U=0;U<g.length;U++){var Y=g[U];A(Y.value,{componentStack:Y.stack})}}finally{ee.T=u,Ee.p=w}}(mo&3)!==0&&Bd(),Pi(s),w=s.pendingLanes,(h&261930)!==0&&(w&42)!==0?s===Ny?Au++:(Au=0,Ny=s):Au=0,bu(0)}}function UC(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,su(u)))}function Bd(){return kC(),PC(),LC(),FC()}function FC(){if(kn!==5)return!1;var s=Qo,u=by;by=0;var h=li(mo),g=ee.T,w=Ee.p;try{Ee.p=32>h?32:h,ee.T=null,h=Iy,Iy=null;var A=Qo,U=mo;if(kn=0,Ga=Qo=null,mo=0,(jt&6)!==0)throw Error(r(331));var Y=jt;if(jt|=4,vC(A.current),gC(A,A.current,U,h),jt=Y,bu(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(ke,A)}catch{}return!0}finally{Ee.p=w,ee.T=g,UC(s,u)}}function BC(s,u,h){u=Vr(h,u),u=sy(s.stateNode,u,2),s=Go(s,u,2),s!==null&&(je(s,2),Pi(s))}function en(s,u,h){if(s.tag===3)BC(s,s,h);else for(;u!==null;){if(u.tag===3){BC(u,s,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Jo===null||!Jo.has(g))){s=Vr(h,s),h=HS(2),g=Go(u,h,2),g!==null&&(qS(h,g,u,s),je(g,2),Pi(g));break}}u=u.return}}function Oy(s,u,h){var g=s.pingCache;if(g===null){g=s.pingCache=new j2;var w=new Set;g.set(u,w)}else w=g.get(u),w===void 0&&(w=new Set,g.set(u,w));w.has(h)||(Sy=!0,w.add(h),s=eU.bind(null,s,u,h),u.then(s,s))}function eU(s,u,h){var g=s.pingCache;g!==null&&g.delete(u),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,dn===s&&(Ot&h)===h&&(wn===4||wn===3&&(Ot&62914560)===Ot&&300>Ve()-Md?(jt&2)===0&&za(s,0):Cy|=h,Ya===Ot&&(Ya=0)),Pi(s)}function HC(s,u){u===0&&(u=K()),s=Ds(s,u),s!==null&&(je(s,u),Pi(s))}function tU(s){var u=s.memoizedState,h=0;u!==null&&(h=u.retryLane),HC(s,h)}function nU(s,u){var h=0;switch(s.tag){case 31:case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),HC(s,h)}function rU(s,u){return D(s,u)}var Hd=null,Wa=null,Dy=!1,qd=!1,My=!1,Zo=0;function Pi(s){s!==Wa&&s.next===null&&(Wa===null?Hd=Wa=s:Wa=Wa.next=s),qd=!0,Dy||(Dy=!0,oU())}function bu(s,u){if(!My&&qd){My=!0;do for(var h=!1,g=Hd;g!==null;){if(s!==0){var w=g.pendingLanes;if(w===0)var A=0;else{var U=g.suspendedLanes,Y=g.pingedLanes;A=(1<<31-bt(42|s)+1)-1,A&=w&~(U&~Y),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,GC(g,A))}else A=Ot,A=ha(g,g===dn?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Ji(g,A)||(h=!0,GC(g,A));g=g.next}while(h);My=!1}}function iU(){qC()}function qC(){qd=Dy=!1;var s=0;Zo!==0&&mU()&&(s=Zo);for(var u=Ve(),h=null,g=Hd;g!==null;){var w=g.next,A=VC(g,u);A===0?(g.next=null,h===null?Hd=w:h.next=w,w===null&&(Wa=h)):(h=g,(s!==0||(A&3)!==0)&&(qd=!0)),g=w}kn!==0&&kn!==5||bu(s),Zo!==0&&(Zo=0)}function VC(s,u){for(var h=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var U=31-bt(A),Y=1<<U,oe=w[U];oe===-1?((Y&h)===0||(Y&g)!==0)&&(w[U]=Gc(Y,u)):oe<=u&&(s.expiredLanes|=Y),A&=~Y}if(u=dn,h=Ot,h=ha(s,s===u?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,h===0||s===u&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&ae(g),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Ji(s,h)){if(u=h&-h,u===s.callbackPriority)return u;switch(g!==null&&ae(g),li(h)){case 2:case 8:h=q;break;case 32:h=R;break;case 268435456:h=z;break;default:h=R}return g=YC.bind(null,s),h=D(h,g),s.callbackPriority=u,s.callbackNode=h,u}return g!==null&&g!==null&&ae(g),s.callbackPriority=2,s.callbackNode=null,2}function YC(s,u){if(kn!==0&&kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Bd()&&s.callbackNode!==h)return null;var g=Ot;return g=ha(s,s===dn?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(CC(s,g,u),VC(s,Ve()),s.callbackNode!=null&&s.callbackNode===h?YC.bind(null,s):null)}function GC(s,u){if(Bd())return null;CC(s,u,!0)}function oU(){yU(function(){(jt&6)!==0?D(tt,iU):qC()})}function ky(){if(Zo===0){var s=Da;s===0&&(s=fa,fa<<=1,(fa&261888)===0&&(fa=256)),Zo=s}return Zo}function zC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:jc(""+s)}function KC(s,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,s.id&&h.setAttribute("form",s.id),u.parentNode.insertBefore(h,u),s=new FormData(s),h.parentNode.removeChild(h),s}function sU(s,u,h,g,w){if(u==="submit"&&h&&h.stateNode===w){var A=zC((w[Un]||null).action),U=g.submitter;U&&(u=(u=U[Un]||null)?zC(u.formAction):U.getAttribute("formAction"),u!==null&&(A=u,U=null));var Y=new Zc("action","action",null,g,w);s.push({event:Y,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Zo!==0){var oe=U?KC(w,U):new FormData(w);ey(h,{pending:!0,data:oe,method:w.method,action:A},null,oe)}}else typeof A=="function"&&(Y.preventDefault(),oe=U?KC(w,U):new FormData(w),ey(h,{pending:!0,data:oe,method:w.method,action:A},A,oe))},currentTarget:w}]})}}for(var Py=0;Py<yg.length;Py++){var Ly=yg[Py],aU=Ly.toLowerCase(),lU=Ly[0].toUpperCase()+Ly.slice(1);ci(aU,"on"+lU)}ci(Sw,"onAnimationEnd"),ci(Cw,"onAnimationIteration"),ci(Aw,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(C2,"onTransitionRun"),ci(A2,"onTransitionStart"),ci(b2,"onTransitionCancel"),ci(bw,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function WC(s,u){u=(u&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],w=g.event;g=g.listeners;e:{var A=void 0;if(u)for(var U=g.length-1;0<=U;U--){var Y=g[U],oe=Y.instance,Ce=Y.currentTarget;if(Y=Y.listener,oe!==A&&w.isPropagationStopped())break e;A=Y,w.currentTarget=Ce;try{A(w)}catch(De){nd(De)}w.currentTarget=null,A=oe}else for(U=0;U<g.length;U++){if(Y=g[U],oe=Y.instance,Ce=Y.currentTarget,Y=Y.listener,oe!==A&&w.isPropagationStopped())break e;A=Y,w.currentTarget=Ce;try{A(w)}catch(De){nd(De)}w.currentTarget=null,A=oe}}}}function xt(s,u){var h=u[bs];h===void 0&&(h=u[bs]=new Set);var g=s+"__bubble";h.has(g)||($C(u,s,2,!1),h.add(g))}function Uy(s,u,h){var g=0;u&&(g|=4),$C(h,s,g,u)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Fy(s){if(!s[Vd]){s[Vd]=!0,qT.forEach(function(h){h!=="selectionchange"&&(uU.has(h)||Uy(h,!1,s),Uy(h,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Vd]||(u[Vd]=!0,Uy("selectionchange",!1,u))}}function $C(s,u,h,g){switch(SA(u)){case 2:var w=UU;break;case 8:w=FU;break;default:w=Zy}h=w.bind(null,u,h,s),w=void 0,!ig||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(u,h,{capture:!0,passive:w}):s.addEventListener(u,h,!0):w!==void 0?s.addEventListener(u,h,{passive:w}):s.addEventListener(u,h,!1)}function By(s,u,h,g,w){var A=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var Y=g.stateNode.containerInfo;if(Y===w)break;if(U===4)for(U=g.return;U!==null;){var oe=U.tag;if((oe===3||oe===4)&&U.stateNode.containerInfo===w)return;U=U.return}for(;Y!==null;){if(U=ma(Y),U===null)return;if(oe=U.tag,oe===5||oe===6||oe===26||oe===27){g=A=U;continue e}Y=Y.parentNode}}g=g.return}ZT(function(){var Ce=A,De=ng(h),Be=[];e:{var be=Iw.get(s);if(be!==void 0){var Ne=Zc,nt=s;switch(s){case"keypress":if(Qc(h)===0)break e;case"keydown":case"keyup":Ne=n2;break;case"focusin":nt="focus",Ne=lg;break;case"focusout":nt="blur",Ne=lg;break;case"beforeblur":case"afterblur":Ne=lg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=GL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=o2;break;case Sw:case Cw:case Aw:Ne=WL;break;case bw:Ne=a2;break;case"scroll":case"scrollend":Ne=VL;break;case"wheel":Ne=u2;break;case"copy":case"cut":case"paste":Ne=jL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=iw;break;case"toggle":case"beforetoggle":Ne=d2}var mt=(u&4)!==0,an=!mt&&(s==="scroll"||s==="scrollend"),ve=mt?be!==null?be+"Capture":null:be;mt=[];for(var ge=Ce,Se;ge!==null;){var Le=ge;if(Se=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||Se===null||ve===null||(Le=jl(ge,ve),Le!=null&&mt.push(Nu(ge,Le,Se))),an)break;ge=ge.return}0<mt.length&&(be=new Ne(be,nt,null,h,De),Be.push({event:be,listeners:mt}))}}if((u&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",be&&h!==tg&&(nt=h.relatedTarget||h.fromElement)&&(ma(nt)||nt[Oi]))break e;if((Ne||be)&&(be=De.window===De?De:(be=De.ownerDocument)?be.defaultView||be.parentWindow:window,Ne?(nt=h.relatedTarget||h.toElement,Ne=Ce,nt=nt?ma(nt):null,nt!==null&&(an=o(nt),mt=nt.tag,nt!==an||mt!==5&&mt!==27&&mt!==6)&&(nt=null)):(Ne=null,nt=Ce),Ne!==nt)){if(mt=nw,Le="onMouseLeave",ve="onMouseEnter",ge="mouse",(s==="pointerout"||s==="pointerover")&&(mt=iw,Le="onPointerLeave",ve="onPointerEnter",ge="pointer"),an=Ne==null?be:$l(Ne),Se=nt==null?be:$l(nt),be=new mt(Le,ge+"leave",Ne,h,De),be.target=an,be.relatedTarget=Se,Le=null,ma(De)===Ce&&(mt=new mt(ve,ge+"enter",nt,h,De),mt.target=Se,mt.relatedTarget=an,Le=mt),an=Le,Ne&&nt)t:{for(mt=cU,ve=Ne,ge=nt,Se=0,Le=ve;Le;Le=mt(Le))Se++;Le=0;for(var ut=ge;ut;ut=mt(ut))Le++;for(;0<Se-Le;)ve=mt(ve),Se--;for(;0<Le-Se;)ge=mt(ge),Le--;for(;Se--;){if(ve===ge||ge!==null&&ve===ge.alternate){mt=ve;break t}ve=mt(ve),ge=mt(ge)}mt=null}else mt=null;Ne!==null&&jC(Be,be,Ne,mt,!1),nt!==null&&an!==null&&jC(Be,an,nt,mt,!0)}}e:{if(be=Ce?$l(Ce):window,Ne=be.nodeName&&be.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&be.type==="file")var Yt=fw;else if(cw(be))if(hw)Yt=T2;else{Yt=v2;var it=_2}else Ne=be.nodeName,!Ne||Ne.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?Ce&&eg(Ce.elementType)&&(Yt=fw):Yt=E2;if(Yt&&(Yt=Yt(s,Ce))){dw(Be,Yt,h,De);break e}it&&it(s,be,Ce),s==="focusout"&&Ce&&be.type==="number"&&Ce.memoizedProps.value!=null&&Zm(be,"number",be.value)}switch(it=Ce?$l(Ce):window,s){case"focusin":(cw(it)||it.contentEditable==="true")&&(Ca=it,pg=Ce,ru=null);break;case"focusout":ru=pg=Ca=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,Tw(Be,h,De);break;case"selectionchange":if(S2)break;case"keydown":case"keyup":Tw(Be,h,De)}var Ct;if(cg)e:{switch(s){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Sa?lw(s,h)&&(Dt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Dt="onCompositionStart");Dt&&(ow&&h.locale!=="ko"&&(Sa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Sa&&(Ct=ew()):(Uo=De,og="value"in Uo?Uo.value:Uo.textContent,Sa=!0)),it=Yd(Ce,Dt),0<it.length&&(Dt=new rw(Dt,s,null,h,De),Be.push({event:Dt,listeners:it}),Ct?Dt.data=Ct:(Ct=uw(h),Ct!==null&&(Dt.data=Ct)))),(Ct=h2?p2(s,h):m2(s,h))&&(Dt=Yd(Ce,"onBeforeInput"),0<Dt.length&&(it=new rw("onBeforeInput","beforeinput",null,h,De),Be.push({event:it,listeners:Dt}),it.data=Ct)),sU(Be,s,Ce,h,De)}WC(Be,u)})}function Nu(s,u,h){return{instance:s,listener:u,currentTarget:h}}function Yd(s,u){for(var h=u+"Capture",g=[];s!==null;){var w=s,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=jl(s,h),w!=null&&g.unshift(Nu(s,w,A)),w=jl(s,u),w!=null&&g.push(Nu(s,w,A))),s.tag===3)return g;s=s.return}return[]}function cU(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jC(s,u,h,g,w){for(var A=u._reactName,U=[];h!==null&&h!==g;){var Y=h,oe=Y.alternate,Ce=Y.stateNode;if(Y=Y.tag,oe!==null&&oe===g)break;Y!==5&&Y!==26&&Y!==27||Ce===null||(oe=Ce,w?(Ce=jl(h,A),Ce!=null&&U.unshift(Nu(h,Ce,oe))):w||(Ce=jl(h,A),Ce!=null&&U.push(Nu(h,Ce,oe)))),h=h.return}U.length!==0&&s.push({event:u,listeners:U})}var dU=/\r\n?/g,fU=/\u0000|\uFFFD/g;function JC(s){return(typeof s=="string"?s:""+s).replace(dU,`
`).replace(fU,"")}function QC(s,u){return u=JC(u),JC(s)===u}function sn(s,u,h,g,w,A){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Ea(s,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Ea(s,""+g);break;case"className":Wc(s,"class",g);break;case"tabIndex":Wc(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Wc(s,h,g);break;case"style":QT(s,g,A);break;case"data":if(u!=="object"){Wc(s,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){s.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=jc(""+g),s.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(u!=="input"&&sn(s,u,"name",w.name,w,null),sn(s,u,"formEncType",w.formEncType,w,null),sn(s,u,"formMethod",w.formMethod,w,null),sn(s,u,"formTarget",w.formTarget,w,null)):(sn(s,u,"encType",w.encType,w,null),sn(s,u,"method",w.method,w,null),sn(s,u,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(h);break}g=jc(""+g),s.setAttribute(h,g);break;case"onClick":g!=null&&(s.onclick=Zi);break;case"onScroll":g!=null&&xt("scroll",s);break;case"onScrollEnd":g!=null&&xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}h=jc(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""+g):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":g===!0?s.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(h,g):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(h,g):s.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(h):s.setAttribute(h,g);break;case"popover":xt("beforetoggle",s),xt("toggle",s),Kc(s,"popover",g);break;case"xlinkActuate":Xi(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Xi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Xi(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Xi(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Xi(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Xi(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Xi(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Kc(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=HL.get(h)||h,Kc(s,h,g))}}function Hy(s,u,h,g,w,A){switch(h){case"style":QT(s,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof g=="string"?Ea(s,g):(typeof g=="number"||typeof g=="bigint")&&Ea(s,""+g);break;case"onScroll":g!=null&&xt("scroll",s);break;case"onScrollEnd":g!=null&&xt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!VT.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),u=h.slice(2,w?h.length-7:void 0),A=s[Un]||null,A=A!=null?A[h]:null,typeof A=="function"&&s.removeEventListener(u,A,w),typeof g=="function")){typeof A!="function"&&A!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(u,g,w);break e}h in s?s[h]=g:g===!0?s.setAttribute(h,""):Kc(s,h,g)}}}function zn(s,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",s),xt("load",s);var g=!1,w=!1,A;for(A in h)if(h.hasOwnProperty(A)){var U=h[A];if(U!=null)switch(A){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:sn(s,u,A,U,h,null)}}w&&sn(s,u,"srcSet",h.srcSet,h,null),g&&sn(s,u,"src",h.src,h,null);return;case"input":xt("invalid",s);var Y=A=U=w=null,oe=null,Ce=null;for(g in h)if(h.hasOwnProperty(g)){var De=h[g];if(De!=null)switch(g){case"name":w=De;break;case"type":U=De;break;case"checked":oe=De;break;case"defaultChecked":Ce=De;break;case"value":A=De;break;case"defaultValue":Y=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,u));break;default:sn(s,u,g,De,h,null)}}WT(s,A,Y,oe,Ce,U,w,!1);return;case"select":xt("invalid",s),g=U=A=null;for(w in h)if(h.hasOwnProperty(w)&&(Y=h[w],Y!=null))switch(w){case"value":A=Y;break;case"defaultValue":U=Y;break;case"multiple":g=Y;default:sn(s,u,w,Y,h,null)}u=A,h=U,s.multiple=!!g,u!=null?va(s,!!g,u,!1):h!=null&&va(s,!!g,h,!0);return;case"textarea":xt("invalid",s),A=w=g=null;for(U in h)if(h.hasOwnProperty(U)&&(Y=h[U],Y!=null))switch(U){case"value":g=Y;break;case"defaultValue":w=Y;break;case"children":A=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:sn(s,u,U,Y,h,null)}jT(s,g,w,A);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(g=h[oe],g!=null))switch(oe){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:sn(s,u,oe,g,h,null)}return;case"dialog":xt("beforetoggle",s),xt("toggle",s),xt("cancel",s),xt("close",s);break;case"iframe":case"object":xt("load",s);break;case"video":case"audio":for(g=0;g<Iu.length;g++)xt(Iu[g],s);break;case"image":xt("error",s),xt("load",s);break;case"details":xt("toggle",s);break;case"embed":case"source":case"link":xt("error",s),xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in h)if(h.hasOwnProperty(Ce)&&(g=h[Ce],g!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:sn(s,u,Ce,g,h,null)}return;default:if(eg(u)){for(De in h)h.hasOwnProperty(De)&&(g=h[De],g!==void 0&&Hy(s,u,De,g,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(g=h[Y],g!=null&&sn(s,u,Y,g,h,null))}function hU(s,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,U=null,Y=null,oe=null,Ce=null,De=null;for(Ne in h){var Be=h[Ne];if(h.hasOwnProperty(Ne)&&Be!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":oe=Be;default:g.hasOwnProperty(Ne)||sn(s,u,Ne,null,g,Be)}}for(var be in g){var Ne=g[be];if(Be=h[be],g.hasOwnProperty(be)&&(Ne!=null||Be!=null))switch(be){case"type":A=Ne;break;case"name":w=Ne;break;case"checked":Ce=Ne;break;case"defaultChecked":De=Ne;break;case"value":U=Ne;break;case"defaultValue":Y=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,u));break;default:Ne!==Be&&sn(s,u,be,Ne,g,Be)}}Xm(s,U,Y,oe,Ce,De,A,w);return;case"select":Ne=U=Y=be=null;for(A in h)if(oe=h[A],h.hasOwnProperty(A)&&oe!=null)switch(A){case"value":break;case"multiple":Ne=oe;default:g.hasOwnProperty(A)||sn(s,u,A,null,g,oe)}for(w in g)if(A=g[w],oe=h[w],g.hasOwnProperty(w)&&(A!=null||oe!=null))switch(w){case"value":be=A;break;case"defaultValue":Y=A;break;case"multiple":U=A;default:A!==oe&&sn(s,u,w,A,g,oe)}u=Y,h=U,g=Ne,be!=null?va(s,!!h,be,!1):!!g!=!!h&&(u!=null?va(s,!!h,u,!0):va(s,!!h,h?[]:"",!1));return;case"textarea":Ne=be=null;for(Y in h)if(w=h[Y],h.hasOwnProperty(Y)&&w!=null&&!g.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:sn(s,u,Y,null,g,w)}for(U in g)if(w=g[U],A=h[U],g.hasOwnProperty(U)&&(w!=null||A!=null))switch(U){case"value":be=w;break;case"defaultValue":Ne=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==A&&sn(s,u,U,w,g,A)}$T(s,be,Ne);return;case"option":for(var nt in h)if(be=h[nt],h.hasOwnProperty(nt)&&be!=null&&!g.hasOwnProperty(nt))switch(nt){case"selected":s.selected=!1;break;default:sn(s,u,nt,null,g,be)}for(oe in g)if(be=g[oe],Ne=h[oe],g.hasOwnProperty(oe)&&be!==Ne&&(be!=null||Ne!=null))switch(oe){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:sn(s,u,oe,be,g,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in h)be=h[mt],h.hasOwnProperty(mt)&&be!=null&&!g.hasOwnProperty(mt)&&sn(s,u,mt,null,g,be);for(Ce in g)if(be=g[Ce],Ne=h[Ce],g.hasOwnProperty(Ce)&&be!==Ne&&(be!=null||Ne!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,u));break;default:sn(s,u,Ce,be,g,Ne)}return;default:if(eg(u)){for(var an in h)be=h[an],h.hasOwnProperty(an)&&be!==void 0&&!g.hasOwnProperty(an)&&Hy(s,u,an,void 0,g,be);for(De in g)be=g[De],Ne=h[De],!g.hasOwnProperty(De)||be===Ne||be===void 0&&Ne===void 0||Hy(s,u,De,be,g,Ne);return}}for(var ve in h)be=h[ve],h.hasOwnProperty(ve)&&be!=null&&!g.hasOwnProperty(ve)&&sn(s,u,ve,null,g,be);for(Be in g)be=g[Be],Ne=h[Be],!g.hasOwnProperty(Be)||be===Ne||be==null&&Ne==null||sn(s,u,Be,be,g,Ne)}function XC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pU(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var w=h[g],A=w.transferSize,U=w.initiatorType,Y=w.duration;if(A&&Y&&XC(U)){for(U=0,Y=w.responseEnd,g+=1;g<h.length;g++){var oe=h[g],Ce=oe.startTime;if(Ce>Y)break;var De=oe.transferSize,Be=oe.initiatorType;De&&XC(Be)&&(oe=oe.responseEnd,U+=De*(oe<Y?1:(Y-Ce)/(oe-Ce)))}if(--g,u+=8*(A+U)/(w.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qy=null,Vy=null;function Gd(s){return s.nodeType===9?s:s.ownerDocument}function ZC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eA(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function Yy(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Gy=null;function mU(){var s=window.event;return s&&s.type==="popstate"?s===Gy?!1:(Gy=s,!0):(Gy=null,!1)}var tA=typeof setTimeout=="function"?setTimeout:void 0,gU=typeof clearTimeout=="function"?clearTimeout:void 0,nA=typeof Promise=="function"?Promise:void 0,yU=typeof queueMicrotask=="function"?queueMicrotask:typeof nA<"u"?function(s){return nA.resolve(null).then(s).catch(_U)}:tA;function _U(s){setTimeout(function(){throw s})}function es(s){return s==="head"}function rA(s,u){var h=u,g=0;do{var w=h.nextSibling;if(s.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(g===0){s.removeChild(w),Qa(u);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Ru(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Ru(h);for(var A=h.firstChild;A;){var U=A.nextSibling,Y=A.nodeName;A[Wl]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=U}}else h==="body"&&Ru(s.ownerDocument.body);h=w}while(h);Qa(u)}function iA(s,u){var h=s;s=0;do{var g=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=g}while(h)}function zy(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":zy(h),Jm(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function vU(s,u,h,g){for(;s.nodeType===1;){var w=h;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Wl])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=Wr(s.nextSibling),s===null)break}return null}function EU(s,u,h){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Wr(s.nextSibling),s===null))return null;return s}function oA(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Wr(s.nextSibling),s===null))return null;return s}function Ky(s){return s.data==="$?"||s.data==="$~"}function Wy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function TU(s,u){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||h.readyState!=="loading")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Wr(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var $y=null;function sA(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(u===0)return Wr(s.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}s=s.nextSibling}return null}function aA(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return s;u--}else h!=="/$"&&h!=="/&"||u++}s=s.previousSibling}return null}function lA(s,u,h){switch(u=Gd(h),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ru(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Jm(s)}var $r=new Map,uA=new Set;function zd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var go=Ee.d;Ee.d={f:wU,r:SU,D:CU,C:AU,L:bU,m:IU,X:RU,S:NU,M:xU};function wU(){var s=go.f(),u=Ld();return s||u}function SU(s){var u=ga(s);u!==null&&u.tag===5&&u.type==="form"?bS(u):go.r(s)}var $a=typeof document>"u"?null:document;function cA(s,u,h){var g=$a;if(g&&typeof u=="string"&&u){var w=Hr(u);w='link[rel="'+s+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),uA.has(w)||(uA.add(w),s={rel:s,crossOrigin:h,href:u},g.querySelector(w)===null&&(u=g.createElement("link"),zn(u,"link",s),Fn(u),g.head.appendChild(u)))}}function CU(s){go.D(s),cA("dns-prefetch",s,null)}function AU(s,u){go.C(s,u),cA("preconnect",s,u)}function bU(s,u,h){go.L(s,u,h);var g=$a;if(g&&s&&u){var w='link[rel="preload"][as="'+Hr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Hr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Hr(h.imageSizes)+'"]')):w+='[href="'+Hr(s)+'"]';var A=w;switch(u){case"style":A=ja(s);break;case"script":A=Ja(s)}$r.has(A)||(s=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:s,as:u},h),$r.set(A,s),g.querySelector(w)!==null||u==="style"&&g.querySelector(xu(A))||u==="script"&&g.querySelector(Ou(A))||(u=g.createElement("link"),zn(u,"link",s),Fn(u),g.head.appendChild(u)))}}function IU(s,u){go.m(s,u);var h=$a;if(h&&s){var g=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Hr(g)+'"][href="'+Hr(s)+'"]',A=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Ja(s)}if(!$r.has(A)&&(s=p({rel:"modulepreload",href:s},u),$r.set(A,s),h.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ou(A)))return}g=h.createElement("link"),zn(g,"link",s),Fn(g),h.head.appendChild(g)}}}function NU(s,u,h){go.S(s,u,h);var g=$a;if(g&&s){var w=ya(g).hoistableStyles,A=ja(s);u=u||"default";var U=w.get(A);if(!U){var Y={loading:0,preload:null};if(U=g.querySelector(xu(A)))Y.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},h),(h=$r.get(A))&&jy(s,h);var oe=U=g.createElement("link");Fn(oe),zn(oe,"link",s),oe._p=new Promise(function(Ce,De){oe.onload=Ce,oe.onerror=De}),oe.addEventListener("load",function(){Y.loading|=1}),oe.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Kd(U,u,g)}U={type:"stylesheet",instance:U,count:1,state:Y},w.set(A,U)}}}function RU(s,u){go.X(s,u);var h=$a;if(h&&s){var g=ya(h).hoistableScripts,w=Ja(s),A=g.get(w);A||(A=h.querySelector(Ou(w)),A||(s=p({src:s,async:!0},u),(u=$r.get(w))&&Jy(s,u),A=h.createElement("script"),Fn(A),zn(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(w,A))}}function xU(s,u){go.M(s,u);var h=$a;if(h&&s){var g=ya(h).hoistableScripts,w=Ja(s),A=g.get(w);A||(A=h.querySelector(Ou(w)),A||(s=p({src:s,async:!0,type:"module"},u),(u=$r.get(w))&&Jy(s,u),A=h.createElement("script"),Fn(A),zn(A,"link",s),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(w,A))}}function dA(s,u,h,g){var w=(w=Oe.current)?zd(w):null;if(!w)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=ja(h.href),h=ya(w).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=ja(h.href);var A=ya(w).hoistableStyles,U=A.get(s);if(U||(w=w.ownerDocument||w,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,U),(A=w.querySelector(xu(s)))&&!A._p&&(U.instance=A,U.state.loading=5),$r.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},$r.set(s,h),A||OU(w,s,h,U.state))),u&&g===null)throw Error(r(528,""));return U}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ja(h),h=ya(w).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ja(s){return'href="'+Hr(s)+'"'}function xu(s){return'link[rel="stylesheet"]['+s+"]"}function fA(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function OU(s,u,h,g){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=s.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),zn(u,"link",h),Fn(u),s.head.appendChild(u))}function Ja(s){return'[src="'+Hr(s)+'"]'}function Ou(s){return"script[async]"+s}function hA(s,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=s.querySelector('style[data-href~="'+Hr(h.href)+'"]');if(g)return u.instance=g,Fn(g),g;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Fn(g),zn(g,"style",w),Kd(g,h.precedence,s),u.instance=g;case"stylesheet":w=ja(h.href);var A=s.querySelector(xu(w));if(A)return u.state.loading|=4,u.instance=A,Fn(A),A;g=fA(h),(w=$r.get(w))&&jy(g,w),A=(s.ownerDocument||s).createElement("link"),Fn(A);var U=A;return U._p=new Promise(function(Y,oe){U.onload=Y,U.onerror=oe}),zn(A,"link",g),u.state.loading|=4,Kd(A,h.precedence,s),u.instance=A;case"script":return A=Ja(h.src),(w=s.querySelector(Ou(A)))?(u.instance=w,Fn(w),w):(g=h,(w=$r.get(A))&&(g=p({},h),Jy(g,w)),s=s.ownerDocument||s,w=s.createElement("script"),Fn(w),zn(w,"link",g),s.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Kd(g,h.precedence,s));return u.instance}function Kd(s,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,A=w,U=0;U<g.length;U++){var Y=g[U];if(Y.dataset.precedence===u)A=Y;else if(A!==w)break}A?A.parentNode.insertBefore(s,A.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(s,u.firstChild))}function jy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function Jy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var Wd=null;function pA(s,u,h){if(Wd===null){var g=new Map,w=Wd=new Map;w.set(h,g)}else w=Wd,g=w.get(h),g||(g=new Map,w.set(h,g));if(g.has(s))return g;for(g.set(s,null),h=h.getElementsByTagName(s),w=0;w<h.length;w++){var A=h[w];if(!(A[Wl]||A[bn]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var U=A.getAttribute(u)||"";U=s+U;var Y=g.get(U);Y?Y.push(A):g.set(U,[A])}}return g}function mA(s,u,h){s=s.ownerDocument||s,s.head.insertBefore(h,u==="title"?s.querySelector("head > title"):null)}function DU(s,u,h){if(h===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function gA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function MU(s,u,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=ja(g.href),A=u.querySelector(xu(w));if(A){u=A._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=$d.bind(s),u.then(s,s)),h.state.loading|=4,h.instance=A,Fn(A);return}A=u.ownerDocument||u,g=fA(g),(w=$r.get(w))&&jy(g,w),A=A.createElement("link"),Fn(A);var U=A;U._p=new Promise(function(Y,oe){U.onload=Y,U.onerror=oe}),zn(A,"link",g),h.instance=A}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=$d.bind(s),u.addEventListener("load",h),u.addEventListener("error",h))}}var Qy=0;function kU(s,u){return s.stylesheets&&s.count===0&&Jd(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var g=setTimeout(function(){if(s.stylesheets&&Jd(s,s.stylesheets),s.unsuspend){var A=s.unsuspend;s.unsuspend=null,A()}},6e4+u);0<s.imgBytes&&Qy===0&&(Qy=62500*pU());var w=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Jd(s,s.stylesheets),s.unsuspend)){var A=s.unsuspend;s.unsuspend=null,A()}},(s.imgBytes>Qy?50:800)+u);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jd=null;function Jd(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jd=new Map,u.forEach(PU,s),jd=null,$d.call(s))}function PU(s,u){if(!(u.state.loading&4)){var h=jd.get(s);if(h)var g=h.get(null);else{h=new Map,jd.set(s,h);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var U=w[A];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),g=U)}g&&h.set(null,g)}w=u.instance,U=w.getAttribute("data-precedence"),A=h.get(U)||g,A===g&&h.set(null,w),h.set(U,w),this.count++,g=$d.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),A?A.parentNode.insertBefore(w,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),u.state.loading|=4}}var Du={$$typeof:I,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function LU(s,u,h,g,w,A,U,Y,oe){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function yA(s,u,h,g,w,A,U,Y,oe,Ce,De,Be){return s=new LU(s,u,h,U,oe,Ce,De,Be,Y),u=1,A===!0&&(u|=24),A=Ar(3,null,null,u),s.current=A,A.stateNode=s,u=xg(),u.refCount++,s.pooledCache=u,u.refCount++,A.memoizedState={element:g,isDehydrated:h,cache:u},kg(A),s}function _A(s){return s?(s=Ia,s):Ia}function vA(s,u,h,g,w,A){w=_A(w),g.context===null?g.context=w:g.pendingContext=w,g=Yo(u),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=Go(s,g,u),h!==null&&(vr(h,s,u),cu(h,s,u))}function EA(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<u?h:u}}function Xy(s,u){EA(s,u),(s=s.alternate)&&EA(s,u)}function TA(s){if(s.tag===13||s.tag===31){var u=Ds(s,67108864);u!==null&&vr(u,s,67108864),Xy(s,67108864)}}function wA(s){if(s.tag===13||s.tag===31){var u=xr();u=pa(u);var h=Ds(s,u);h!==null&&vr(h,s,u),Xy(s,u)}}var Qd=!0;function UU(s,u,h,g){var w=ee.T;ee.T=null;var A=Ee.p;try{Ee.p=2,Zy(s,u,h,g)}finally{Ee.p=A,ee.T=w}}function FU(s,u,h,g){var w=ee.T;ee.T=null;var A=Ee.p;try{Ee.p=8,Zy(s,u,h,g)}finally{Ee.p=A,ee.T=w}}function Zy(s,u,h,g){if(Qd){var w=e0(g);if(w===null)By(s,u,g,Xd,h),CA(s,g);else if(HU(w,s,u,h,g))g.stopPropagation();else if(CA(s,g),u&4&&-1<BU.indexOf(s)){for(;w!==null;){var A=ga(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var U=ji(A.pendingLanes);if(U!==0){var Y=A;for(Y.pendingLanes|=2,Y.entangledLanes|=2;U;){var oe=1<<31-bt(U);Y.entanglements[1]|=oe,U&=~oe}Pi(A),(jt&6)===0&&(kd=Ve()+500,bu(0))}}break;case 31:case 13:Y=Ds(A,2),Y!==null&&vr(Y,A,2),Ld(),Xy(A,2)}if(A=e0(g),A===null&&By(s,u,g,Xd,h),A===w)break;w=A}w!==null&&g.stopPropagation()}else By(s,u,g,null,h)}}function e0(s){return s=ng(s),t0(s)}var Xd=null;function t0(s){if(Xd=null,s=ma(s),s!==null){var u=o(s);if(u===null)s=null;else{var h=u.tag;if(h===13){if(s=a(u),s!==null)return s;s=null}else if(h===31){if(s=l(u),s!==null)return s;s=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Xd=s,null}function SA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case tt:return 2;case q:return 8;case R:case M:return 32;case z:return 268435456;default:return 32}default:return 32}}var n0=!1,ts=null,ns=null,rs=null,Mu=new Map,ku=new Map,is=[],BU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CA(s,u){switch(s){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Mu.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(u.pointerId)}}function Pu(s,u,h,g,w,A){return s===null||s.nativeEvent!==A?(s={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[w]},u!==null&&(u=ga(u),u!==null&&TA(u)),s):(s.eventSystemFlags|=g,u=s.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),s)}function HU(s,u,h,g,w){switch(u){case"focusin":return ts=Pu(ts,s,u,h,g,w),!0;case"dragenter":return ns=Pu(ns,s,u,h,g,w),!0;case"mouseover":return rs=Pu(rs,s,u,h,g,w),!0;case"pointerover":var A=w.pointerId;return Mu.set(A,Pu(Mu.get(A)||null,s,u,h,g,w)),!0;case"gotpointercapture":return A=w.pointerId,ku.set(A,Pu(ku.get(A)||null,s,u,h,g,w)),!0}return!1}function AA(s){var u=ma(s.target);if(u!==null){var h=o(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){s.blockedOn=u,zc(s.priority,function(){wA(h)});return}}else if(u===31){if(u=l(h),u!==null){s.blockedOn=u,zc(s.priority,function(){wA(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zd(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var h=e0(s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);tg=g,h.target.dispatchEvent(g),tg=null}else return u=ga(h),u!==null&&TA(u),s.blockedOn=h,!1;u.shift()}return!0}function bA(s,u,h){Zd(s)&&h.delete(u)}function qU(){n0=!1,ts!==null&&Zd(ts)&&(ts=null),ns!==null&&Zd(ns)&&(ns=null),rs!==null&&Zd(rs)&&(rs=null),Mu.forEach(bA),ku.forEach(bA)}function ef(s,u){s.blockedOn===u&&(s.blockedOn=null,n0||(n0=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qU)))}var tf=null;function IA(s){tf!==s&&(tf=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){tf===s&&(tf=null);for(var u=0;u<s.length;u+=3){var h=s[u],g=s[u+1],w=s[u+2];if(typeof g!="function"){if(t0(g||h)===null)continue;break}var A=ga(h);A!==null&&(s.splice(u,3),u-=3,ey(A,{pending:!0,data:w,method:h.method,action:g},g,w))}}))}function Qa(s){function u(oe){return ef(oe,s)}ts!==null&&ef(ts,s),ns!==null&&ef(ns,s),rs!==null&&ef(rs,s),Mu.forEach(u),ku.forEach(u);for(var h=0;h<is.length;h++){var g=is[h];g.blockedOn===s&&(g.blockedOn=null)}for(;0<is.length&&(h=is[0],h.blockedOn===null);)AA(h),h.blockedOn===null&&is.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var w=h[g],A=h[g+1],U=w[Un]||null;if(typeof A=="function")U||IA(h);else if(U){var Y=null;if(A&&A.hasAttribute("formAction")){if(w=A,U=A[Un]||null)Y=U.formAction;else if(t0(w)!==null)continue}else Y=U.action;typeof Y=="function"?h[g+1]=Y:(h.splice(g,3),g-=3),IA(h)}}}function NA(){function s(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(U){return w=U})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function r0(s){this._internalRoot=s}nf.prototype.render=r0.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=xr();vA(h,g,s,u,null,null)},nf.prototype.unmount=r0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;vA(s.current,2,null,s,null,null),Ld(),u[Oi]=null}};function nf(s){this._internalRoot=s}nf.prototype.unstable_scheduleHydration=function(s){if(s){var u=Kl();s={blockedOn:null,target:s,priority:u};for(var h=0;h<is.length&&u!==0&&u<is[h].priority;h++);is.splice(h,0,s),h===0&&AA(s)}};var RA=e.version;if(RA!=="19.2.3")throw Error(r(527,RA,"19.2.3"));Ee.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(u),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var VU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{ke=rf.inject(VU),ct=rf}catch{}}return Uu.createRoot=function(s,u){if(!t(s))throw Error(r(299));var h=!1,g="",w=LS,A=US,U=FS;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError)),u=yA(s,1,!1,null,null,h,g,null,w,A,U,NA),s[Oi]=u.current,Fy(s),new r0(u)},Uu.hydrateRoot=function(s,u,h){if(!t(s))throw Error(r(299));var g=!1,w="",A=LS,U=US,Y=FS,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),u=yA(s,1,!0,u,h??null,g,w,oe,A,U,Y,NA),u.context=_A(null),h=u.current,g=xr(),g=pa(g),w=Yo(g),w.callback=null,Go(h,w,g),h=g,u.current.lanes=h,je(u,h),Pi(u),s[Oi]=u.current,Fy(s),new nf(u)},Uu.version="19.2.3",Uu}var BA;function t8(){if(BA)return s0.exports;BA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),s0.exports=e8(),s0.exports}var n8=t8();const r8=Uv(n8);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HA="popstate";function i8(i={}){function e(t,o){let{pathname:a="/",search:l="",hash:c=""}=ia(t.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),z_("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(t,o){let a=t.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=t.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof o=="string"?o:_c(o))}function r(t,o){oi(t.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return s8(e,n,r,i)}function vn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o8(){return Math.random().toString(36).substring(2,10)}function qA(i,e){return{usr:i.state,key:i.key,idx:e}}function z_(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||r||o8()}}function _c({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ia(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function s8(i,e,n,r={}){let{window:t=document.defaultView,v5Compat:o=!1}=r,a=t.history,l="POP",c=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let C=f(),S=C==null?null:C-d;d=C,c&&c({action:l,location:T.location,delta:S})}function m(C,S){l="PUSH";let b=z_(T.location,C,S);n&&n(b,C),d=f()+1;let I=qA(b,d),N=T.createHref(b);try{a.pushState(I,"",N)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;t.location.assign(N)}o&&c&&c({action:l,location:T.location,delta:1})}function y(C,S){l="REPLACE";let b=z_(T.location,C,S);n&&n(b,C),d=f();let I=qA(b,d),N=T.createHref(b);a.replaceState(I,"",N),o&&c&&c({action:l,location:T.location,delta:0})}function E(C){return a8(C)}let T={get action(){return l},get location(){return i(t,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return t.addEventListener(HA,p),c=C,()=>{t.removeEventListener(HA,p),c=null}},createHref(C){return e(t,C)},createURL:E,encodeLocation(C){let S=E(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(C){return a.go(C)}};return T}function a8(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vn(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:_c(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RO(i,e,n="/"){return l8(i,e,n,!1)}function l8(i,e,n,r){let t=typeof e=="string"?ia(e):e,o=Io(t.pathname||"/",n);if(o==null)return null;let a=xO(i);u8(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=E8(o);l=_8(a[c],d,r)}return l}function xO(i,e=[],n=[],r="",t=!1){let o=(a,l,c=t,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;vn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=bo([r,f.relativePath]),m=n.concat(f);a.children&&a.children.length>0&&(vn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xO(a.children,e,m,p,c)),!(a.path==null&&!a.index)&&e.push({path:p,score:g8(p,a.index),routesMeta:m})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,l);else for(let d of OO(a.path))o(a,l,!0,d)}),e}function OO(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,t=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return t?[o,""]:[o];let a=OO(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),t&&l.push(...a),l.map(c=>i.startsWith("/")&&c===""?"/":c)}function u8(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:y8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c8=/^:[\w-]+$/,d8=3,f8=2,h8=1,p8=10,m8=-2,VA=i=>i==="*";function g8(i,e){let n=i.split("/"),r=n.length;return n.some(VA)&&(r+=m8),e&&(r+=f8),n.filter(t=>!VA(t)).reduce((t,o)=>t+(c8.test(o)?d8:o===""?h8:p8),r)}function y8(i,e){return i.length===e.length&&i.slice(0,-1).every((r,t)=>r===e[t])?i[i.length-1]-e[e.length-1]:0}function _8(i,e,n=!1){let{routesMeta:r}=i,t={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(t,p.params),a.push({params:t,pathname:bo([o,p.pathname]),pathnameBase:C8(bo([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=bo([o,p.pathnameBase]))}return a}function Np(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=v8(i.path,i.caseSensitive,i.end),t=e.match(n);if(!t)return null;let o=t[0],a=o.replace(/(.)\/+$/,"$1"),l=t.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let E=l[m]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:i}}function v8(i,e=!1,n=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],t="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),t+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?t+="\\/*$":i!==""&&i!=="/"&&(t+="(?:(?=\\/|$))"),[new RegExp(t,e?void 0:"i"),r]}function E8(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Io(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var DO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T8=i=>DO.test(i);function w8(i,e="/"){let{pathname:n,search:r="",hash:t=""}=typeof i=="string"?ia(i):i,o;if(n)if(T8(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=YA(n.substring(1),"/"):o=YA(n,e)}else o=e;return{pathname:o,search:A8(r),hash:b8(t)}}function YA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(t=>{t===".."?n.length>1&&n.pop():t!=="."&&n.push(t)}),n.length>1?n.join("/"):"/"}function c0(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S8(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MO(i){let e=S8(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kO(i,e,n,r=!1){let t;typeof i=="string"?t=ia(i):(t={...i},vn(!t.pathname||!t.pathname.includes("?"),c0("?","pathname","search",t)),vn(!t.pathname||!t.pathname.includes("#"),c0("#","pathname","hash",t)),vn(!t.search||!t.search.includes("#"),c0("#","search","hash",t)));let o=i===""||t.pathname==="",a=o?"/":t.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;t.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=w8(t,l),d=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var bo=i=>i.join("/").replace(/\/\/+/g,"/"),C8=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),A8=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,b8=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,I8=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function N8(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function R8(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LO(i,e){let n=i;if(typeof n!="string"||!DO.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,t=!1;if(PO)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=Io(a.pathname,e);a.origin===o.origin&&l!=null?n=l+a.search+a.hash:t=!0}catch{oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:t,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UO=["POST","PUT","PATCH","DELETE"];new Set(UO);var x8=["GET",...UO];new Set(x8);var Ml=Ie.createContext(null);Ml.displayName="DataRouter";var am=Ie.createContext(null);am.displayName="DataRouterState";var O8=Ie.createContext(!1),FO=Ie.createContext({isTransitioning:!1});FO.displayName="ViewTransition";var D8=Ie.createContext(new Map);D8.displayName="Fetchers";var M8=Ie.createContext(null);M8.displayName="Await";var ai=Ie.createContext(null);ai.displayName="Navigation";var Oc=Ie.createContext(null);Oc.displayName="Location";var $i=Ie.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Bv=Ie.createContext(null);Bv.displayName="RouteError";var BO="REACT_ROUTER_ERROR",k8="REDIRECT",P8="ROUTE_ERROR_RESPONSE";function L8(i){if(i.startsWith(`${BO}:${k8}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function U8(i){if(i.startsWith(`${BO}:${P8}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new I8(e.status,e.statusText,e.data)}catch{}}function F8(i,{relative:e}={}){vn(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Ie.useContext(ai),{hash:t,pathname:o,search:a}=Mc(i,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:bo([n,o])),r.createHref({pathname:l,search:a,hash:t})}function Dc(){return Ie.useContext(Oc)!=null}function Es(){return vn(Dc(),"useLocation() may be used only in the context of a <Router> component."),Ie.useContext(Oc).location}var HO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qO(i){Ie.useContext(ai).static||Ie.useLayoutEffect(i)}function B8(){let{isDataRoute:i}=Ie.useContext($i);return i?X8():H8()}function H8(){vn(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let i=Ie.useContext(Ml),{basename:e,navigator:n}=Ie.useContext(ai),{matches:r}=Ie.useContext($i),{pathname:t}=Es(),o=JSON.stringify(MO(r)),a=Ie.useRef(!1);return qO(()=>{a.current=!0}),Ie.useCallback((c,d={})=>{if(oi(a.current,HO),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=kO(c,JSON.parse(o),t,d.relative==="path");i==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,t,i])}Ie.createContext(null);function lm(){let{matches:i}=Ie.useContext($i),e=i[i.length-1];return e?e.params:{}}function Mc(i,{relative:e}={}){let{matches:n}=Ie.useContext($i),{pathname:r}=Es(),t=JSON.stringify(MO(n));return Ie.useMemo(()=>kO(i,JSON.parse(t),r,e==="path"),[i,t,r,e])}function q8(i,e){return VO(i,e)}function VO(i,e,n,r,t){var b;vn(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Ie.useContext(ai),{matches:a}=Ie.useContext($i),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let I=p&&p.path||"";GO(d,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let m=Es(),y;if(e){let I=typeof e=="string"?ia(e):e;vn(f==="/"||((b=I.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=m;let E=y.pathname||"/",T=E;if(f!=="/"){let I=f.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=RO(i,{pathname:T});oi(p||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),oi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=K8(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:bo([f,o.encodeLocation?o.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:bo([f,o.encodeLocation?o.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),a,n,r,t);return e&&S?Ie.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function V8(){let i=Q8(),e=N8(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",t={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",i),a=Ie.createElement(Ie.Fragment,null,Ie.createElement("p",null," Hey developer "),Ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ie.createElement("code",{style:o},"ErrorBoundary")," or"," ",Ie.createElement("code",{style:o},"errorElement")," prop on your route.")),Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},e),n?Ie.createElement("pre",{style:t},n):null,a)}var Y8=Ie.createElement(V8,null),YO=class extends Ie.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=U8(i.digest);n&&(i=n)}let e=i!==void 0?Ie.createElement($i.Provider,{value:this.props.routeContext},Ie.createElement(Bv.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?Ie.createElement(G8,{error:i},e):e}};YO.contextType=O8;var d0=new WeakMap;function G8({children:i,error:e}){let{basename:n}=Ie.useContext(ai);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=L8(e.digest);if(r){let t=d0.get(e);if(t)throw t;let o=LO(r.location,n);if(PO&&!d0.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw d0.set(e,a),a}return Ie.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return i}function z8({routeContext:i,match:e,children:n}){let r=Ie.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Ie.createElement($i.Provider,{value:i},n)}function K8(i,e=[],n=null,r=null,t=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);vn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:y}=n,E=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let d=n&&r?(f,p)=>{var m,y;r(f,{location:n.location,params:((y=(m=n.matches)==null?void 0:m[0])==null?void 0:y.params)??{},unstable_pattern:R8(n.matches),errorInfo:p})}:void 0;return o.reduceRight((f,p,m)=>{let y,E=!1,T=null,C=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||Y8,l&&(c<0&&m===0?(GO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):c===m&&(E=!0,C=p.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),b=()=>{let I;return y?I=T:E?I=C:p.route.Component?I=Ie.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,Ie.createElement(z8,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?Ie.createElement(YO,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:d}):b()},null)}function Hv(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W8(i){let e=Ie.useContext(Ml);return vn(e,Hv(i)),e}function $8(i){let e=Ie.useContext(am);return vn(e,Hv(i)),e}function j8(i){let e=Ie.useContext($i);return vn(e,Hv(i)),e}function qv(i){let e=j8(i),n=e.matches[e.matches.length-1];return vn(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function J8(){return qv("useRouteId")}function Q8(){var r;let i=Ie.useContext(Bv),e=$8("useRouteError"),n=qv("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[n]}function X8(){let{router:i}=W8("useNavigate"),e=qv("useNavigate"),n=Ie.useRef(!1);return qO(()=>{n.current=!0}),Ie.useCallback(async(t,o={})=>{oi(n.current,HO),n.current&&(typeof t=="number"?await i.navigate(t):await i.navigate(t,{fromRouteId:e,...o}))},[i,e])}var GA={};function GO(i,e,n){!e&&!GA[i]&&(GA[i]=!0,oi(!1,n))}Ie.memo(Z8);function Z8({routes:i,future:e,state:n,onError:r}){return VO(i,void 0,n,r,e)}function Li(i){vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e4({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:t,static:o=!1,unstable_useTransitions:a}){vn(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=Ie.useMemo(()=>({basename:l,navigator:t,static:o,unstable_useTransitions:a,future:{}}),[l,t,o,a]);typeof n=="string"&&(n=ia(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,E=Ie.useMemo(()=>{let T=Io(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:m,key:y},navigationType:r}},[l,d,f,p,m,y,r]);return oi(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:Ie.createElement(ai.Provider,{value:c},Ie.createElement(Oc.Provider,{children:e,value:E}))}function t4({children:i,location:e}){return q8(K_(i),e)}function K_(i,e=[]){let n=[];return Ie.Children.forEach(i,(r,t)=>{if(!Ie.isValidElement(r))return;let o=[...e,t];if(r.type===Ie.Fragment){n.push.apply(n,K_(r.props.children,o));return}vn(r.type===Li,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=K_(r.props.children,o)),n.push(a)}),n}var gp="get",yp="application/x-www-form-urlencoded";function um(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function n4(i){return um(i)&&i.tagName.toLowerCase()==="button"}function r4(i){return um(i)&&i.tagName.toLowerCase()==="form"}function i4(i){return um(i)&&i.tagName.toLowerCase()==="input"}function o4(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function s4(i,e){return i.button===0&&(!e||e==="_self")&&!o4(i)}var of=null;function a4(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var l4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f0(i){return i!=null&&!l4.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):i}function u4(i,e){let n,r,t,o,a;if(r4(i)){let l=i.getAttribute("action");r=l?Io(l,e):null,n=i.getAttribute("method")||gp,t=f0(i.getAttribute("enctype"))||yp,o=new FormData(i)}else if(n4(i)||i4(i)&&(i.type==="submit"||i.type==="image")){let l=i.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=i.getAttribute("formaction")||l.getAttribute("action");if(r=c?Io(c,e):null,n=i.getAttribute("formmethod")||l.getAttribute("method")||gp,t=f0(i.getAttribute("formenctype"))||f0(l.getAttribute("enctype"))||yp,o=new FormData(l,i),!a4()){let{name:d,type:f,value:p}=i;if(f==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,p)}}else{if(um(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gp,r=null,t=yp,a=i}return o&&t==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:t,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vv(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function c4(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Io(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function d4(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f4(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function h4(i,e,n){let r=await Promise.all(i.map(async t=>{let o=e.routes[t.route.id];if(o){let a=await d4(o,n);return a.links?a.links():[]}return[]}));return y4(r.flat(1).filter(f4).filter(t=>t.rel==="stylesheet"||t.rel==="preload").map(t=>t.rel==="stylesheet"?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"}))}function zA(i,e,n,r,t,o){let a=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>a(c,d)||l(c,d)):o==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(t.pathname+t.search+t.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(i,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function p4(i,e,{includeHydrateFallback:n}={}){return m4(i.map(r=>{let t=e.routes[r.route.id];if(!t)return[];let o=[t.module];return t.clientActionModule&&(o=o.concat(t.clientActionModule)),t.clientLoaderModule&&(o=o.concat(t.clientLoaderModule)),n&&t.hydrateFallbackModule&&(o=o.concat(t.hydrateFallbackModule)),t.imports&&(o=o.concat(t.imports)),o}).flat(1))}function m4(i){return[...new Set(i)]}function g4(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function y4(i,e){let n=new Set;return new Set(e),i.reduce((r,t)=>{let o=JSON.stringify(g4(t));return n.has(o)||(n.add(o),r.push({key:o,link:t})),r},[])}function zO(){let i=Ie.useContext(Ml);return Vv(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _4(){let i=Ie.useContext(am);return Vv(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yv=Ie.createContext(void 0);Yv.displayName="FrameworkContext";function KO(){let i=Ie.useContext(Yv);return Vv(i,"You must render this element inside a <HydratedRouter> element"),i}function v4(i,e){let n=Ie.useContext(Yv),[r,t]=Ie.useState(!1),[o,a]=Ie.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,m=Ie.useRef(null);Ie.useEffect(()=>{if(i==="render"&&a(!0),i==="viewport"){let T=S=>{S.forEach(b=>{a(b.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return m.current&&C.observe(m.current),()=>{C.disconnect()}}},[i]),Ie.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let y=()=>{t(!0)},E=()=>{t(!1),a(!1)};return n?i!=="intent"?[o,m,{}]:[o,m,{onFocus:Fu(l,y),onBlur:Fu(c,E),onMouseEnter:Fu(d,y),onMouseLeave:Fu(f,E),onTouchStart:Fu(p,y)}]:[!1,m,{}]}function Fu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function E4({page:i,...e}){let{router:n}=zO(),r=Ie.useMemo(()=>RO(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?Ie.createElement(w4,{page:i,matches:r,...e}):null}function T4(i){let{manifest:e,routeModules:n}=KO(),[r,t]=Ie.useState([]);return Ie.useEffect(()=>{let o=!1;return h4(i,e,n).then(a=>{o||t(a)}),()=>{o=!0}},[i,e,n]),r}function w4({page:i,matches:e,...n}){let r=Es(),{manifest:t,routeModules:o}=KO(),{basename:a}=zO(),{loaderData:l,matches:c}=_4(),d=Ie.useMemo(()=>zA(i,e,c,t,r,"data"),[i,e,c,t,r]),f=Ie.useMemo(()=>zA(i,e,c,t,r,"assets"),[i,e,c,t,r]),p=Ie.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(S=>{var I;let b=t.routes[S.route.id];!b||!b.hasLoader||(!d.some(N=>N.route.id===S.route.id)&&S.route.id in l&&((I=o[S.route.id])!=null&&I.shouldRevalidate)||b.hasClientLoader?T=!0:E.add(S.route.id))}),E.size===0)return[];let C=c4(i,a,"data");return T&&E.size>0&&C.searchParams.set("_routes",e.filter(S=>E.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[a,l,r,t,d,e,i,o]),m=Ie.useMemo(()=>p4(f,t),[f,t]),y=T4(f);return Ie.createElement(Ie.Fragment,null,p.map(E=>Ie.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),m.map(E=>Ie.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),y.map(({key:E,link:T})=>Ie.createElement("link",{key:E,nonce:n.nonce,...T})))}function S4(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C4&&(window.__reactRouterVersion="7.11.0")}catch{}function A4({basename:i,children:e,unstable_useTransitions:n,window:r}){let t=Ie.useRef();t.current==null&&(t.current=i8({window:r,v5Compat:!0}));let o=t.current,[a,l]=Ie.useState({action:o.action,location:o.location}),c=Ie.useCallback(d=>{n===!1?l(d):Ie.startTransition(()=>l(d))},[n]);return Ie.useLayoutEffect(()=>o.listen(c),[o,c]),Ie.createElement(e4,{basename:i,children:e,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var WO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=Ie.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:t,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},E){let{basename:T,unstable_useTransitions:C}=Ie.useContext(ai),S=typeof d=="string"&&WO.test(d),b=LO(d,T);d=b.to;let I=F8(d,{relative:t}),[N,x,L]=v4(r,y),F=R4(d,{replace:a,state:l,target:c,preventScrollReset:f,relative:t,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:C});function G(j){e&&e(j),j.defaultPrevented||F(j)}let Q=Ie.createElement("a",{...y,...L,href:b.absoluteURL||I,onClick:b.isExternal||o?e:G,ref:S4(E,x),target:c,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?Ie.createElement(Ie.Fragment,null,Q,Ie.createElement(E4,{page:I})):Q});ln.displayName="Link";var b4=Ie.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:t=!1,style:o,to:a,viewTransition:l,children:c,...d},f){let p=Mc(a,{relative:d.relative}),m=Es(),y=Ie.useContext(am),{navigator:E,basename:T}=Ie.useContext(ai),C=y!=null&&k4(p)&&l===!0,S=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,b=m.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(b=b.toLowerCase(),I=I?I.toLowerCase():null,S=S.toLowerCase()),I&&T&&(I=Io(I,T)||I);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let x=b===S||!t&&b.startsWith(S)&&b.charAt(N)==="/",L=I!=null&&(I===S||!t&&I.startsWith(S)&&I.charAt(S.length)==="/"),F={isActive:x,isPending:L,isTransitioning:C},G=x?e:void 0,Q;typeof r=="function"?Q=r(F):Q=[r,x?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(F):o;return Ie.createElement(ln,{...d,"aria-current":G,className:Q,ref:f,style:j,to:a,viewTransition:l},typeof c=="function"?c(F):c)});b4.displayName="NavLink";var I4=Ie.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:t,state:o,method:a=gp,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},E)=>{let{unstable_useTransitions:T}=Ie.useContext(ai),C=D4(),S=M4(l,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",I=typeof l=="string"&&WO.test(l),N=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let L=x.nativeEvent.submitter,F=(L==null?void 0:L.getAttribute("formmethod"))||a,G=()=>C(L||x.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:t,state:o,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m});T&&n!==!1?Ie.startTransition(()=>G()):G()};return Ie.createElement("form",{ref:E,method:b,action:S,onSubmit:r?c:N,...y,"data-discover":!I&&i==="render"?"true":void 0})});I4.displayName="Form";function N4(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $O(i){let e=Ie.useContext(Ml);return vn(e,N4(i)),e}function R4(i,{target:e,replace:n,state:r,preventScrollReset:t,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=B8(),f=Es(),p=Mc(i,{relative:o});return Ie.useCallback(m=>{if(s4(m,e)){m.preventDefault();let y=n!==void 0?n:_c(f)===_c(p),E=()=>d(i,{replace:y,state:r,preventScrollReset:t,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l});c?Ie.startTransition(()=>E()):E()}},[f,d,p,n,r,e,i,t,o,a,l,c])}var x4=0,O4=()=>`__${String(++x4)}__`;function D4(){let{router:i}=$O("useSubmit"),{basename:e}=Ie.useContext(ai),n=J8(),r=i.fetch,t=i.navigate;return Ie.useCallback(async(o,a={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=u4(o,e);if(a.navigate===!1){let m=a.fetcherKey||O4();await r(m,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,t,e,n])}function M4(i,{relative:e}={}){let{basename:n}=Ie.useContext(ai),r=Ie.useContext($i);vn(r,"useFormAction must be used inside a RouteContext");let[t]=r.matches.slice(-1),o={...Mc(i||".",{relative:e})},a=Es();if(i==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();o.search=f?`?${f}`:""}}return(!i||i===".")&&t.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bo([n,o.pathname])),_c(o)}function k4(i,{relative:e}={}){let n=Ie.useContext(FO);vn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$O("useViewTransitionState"),t=Mc(i,{relative:e});if(!n.isTransitioning)return!1;let o=Io(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Io(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Np(t.pathname,a)!=null||Np(t.pathname,o)!=null}/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),KA=i=>{const e=L4(i);return e.charAt(0).toUpperCase()+e.slice(1)},jO=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),U4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ie.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:t="",children:o,iconNode:a,...l},c)=>Ie.createElement("svg",{ref:c,...F4,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:jO("lucide",t),...!o&&!U4(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,f])=>Ie.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(i,e)=>{const n=Ie.forwardRef(({className:r,...t},o)=>Ie.createElement(B4,{ref:o,iconNode:e,className:jO(`lucide-${P4(KA(i))}`,`lucide-${i}`,r),...t}));return n.displayName=KA(i),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gv=Lt("arrow-right",H4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],V4=Lt("award",q4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],G4=Lt("bot",Y4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zv=Lt("calendar",z4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_p=Lt("chevron-right",K4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cm=Lt("circle-check-big",W4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],j4=Lt("circle-x",$4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JO=Lt("copy",J4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kv=Lt("external-link",Q4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Z4=Lt("facebook",X4);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],tF=Lt("folder-open",eF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],W_=Lt("gift",nF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iF=Lt("globe",rF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sF=Lt("info",oF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],lF=Lt("instagram",aF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cF=Lt("loader-circle",uF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fF=Lt("mail",dF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pF=Lt("map-pin",hF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gF=Lt("menu",mF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_F=Lt("message-square",yF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],EF=Lt("monitor",vF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],WA=Lt("moon",TF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],SF=Lt("send",wF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],AF=Lt("share-2",CF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QO=Lt("shield-check",bF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],NF=Lt("shield",IF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vc=Lt("star",RF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$A=Lt("sun",xF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DF=Lt("trophy",OF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],kF=Lt("twitter",MF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$_=Lt("user",PF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XO=Lt("users",LF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZO=Lt("x",UF);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BF=Lt("zap",FF);var gn=(i=>(i.HOME="/",i.REVIEWS="/reviews",i.POKER_SITES="/poker-sites",i.PROMO_CODES="/promo-codes",i.NEWS="/news",i.CATEGORY="/category/:slug",i))(gn||{}),HF={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qF,VF;function YF(){return{geminiUrl:qF,vertexUrl:VF}}function GF(i,e,n,r){var t,o;if(!(i!=null&&i.baseUrl)){const a=YF();return e?(t=a.vertexUrl)!==null&&t!==void 0?t:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{}function Xe(i,e){const n=/\{([^}]+)\}/g;return i.replace(n,(r,t)=>{if(Object.prototype.hasOwnProperty.call(e,t)){const o=e[t];return o!=null?String(o):""}else throw new Error(`Key '${t}' not found in valueMap.`)})}function v(i,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in i))if(Array.isArray(n))i[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(i[l])){const c=i[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];v(f,e.slice(o+1),n[d])}else for(const d of c)v(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in i||(i[l]=[{}]);const c=i[l];v(c[0],e.slice(o+1),n);return}(!i[a]||typeof i[a]!="object")&&(i[a]={}),i=i[a]}const r=e[e.length-1],t=i[r];if(t!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===t)return;if(typeof t=="object"&&typeof n=="object"&&t!==null&&n!==null)Object.assign(t,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(i,n):i[r]=n}function _(i,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let r=0;r<e.length;r++){if(typeof i!="object"||i===null)return n;const t=e[r];if(t.endsWith("[]")){const o=t.slice(0,-2);if(o in i){const a=i[o];return Array.isArray(a)?a.map(l=>_(l,e.slice(r+1),n)):n}else return n}else i=i[t]}return i}catch(r){if(r instanceof TypeError)return n;throw r}}function zF(i,e){for(const[n,r]of Object.entries(e)){const t=n.split("."),o=r.split("."),a=new Set;let l=-1;for(let c=0;c<t.length;c++)if(t[c]==="*"){l=c;break}if(l!==-1&&o.length>l)for(let c=l;c<o.length;c++){const d=o[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}j_(i,t,o,0,a)}}function j_(i,e,n,r,t){if(r>=e.length||typeof i!="object"||i===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),l=i;if(a in l&&Array.isArray(l[a]))for(const c of l[a])j_(c,e,n,r+1,t)}else if(o==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const a=i,l=Object.keys(a).filter(d=>!d.startsWith("_")&&!t.has(d)),c={};for(const d of l)c[d]=a[d];for(const[d,f]of Object.entries(c)){const p=[];for(const m of n.slice(r))m==="*"?p.push(d):p.push(m);v(a,p,f)}for(const d of l)delete a[d]}}else{const a=i;o in a&&j_(a[o],e,n,r+1,t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KF(i){const e={},n=_(i,["operationName"]);n!=null&&v(e,["operationName"],n);const r=_(i,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function WF(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],jF(a)),e}function $F(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response"]);return a!=null&&v(e,["response"],JF(a)),e}function jF(i){const e={},n=_(i,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>QF(a))),v(e,["generatedVideos"],o)}const r=_(i,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const t=_(i,["raiMediaFilteredReasons"]);return t!=null&&v(e,["raiMediaFilteredReasons"],t),e}function JF(i){const e={},n=_(i,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>XF(a))),v(e,["generatedVideos"],o)}const r=_(i,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const t=_(i,["raiMediaFilteredReasons"]);return t!=null&&v(e,["raiMediaFilteredReasons"],t),e}function QF(i){const e={},n=_(i,["video"]);return n!=null&&v(e,["video"],iB(n)),e}function XF(i){const e={},n=_(i,["_self"]);return n!=null&&v(e,["video"],oB(n)),e}function ZF(i){const e={},n=_(i,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function eB(i){const e={},n=_(i,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function tB(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response"]);return a!=null&&v(e,["response"],nB(a)),e}function nB(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["parent"]);r!=null&&v(e,["parent"],r);const t=_(i,["documentName"]);return t!=null&&v(e,["documentName"],t),e}function eD(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response"]);return a!=null&&v(e,["response"],rB(a)),e}function rB(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["parent"]);r!=null&&v(e,["parent"],r);const t=_(i,["documentName"]);return t!=null&&v(e,["documentName"],t),e}function iB(i){const e={},n=_(i,["uri"]);n!=null&&v(e,["uri"],n);const r=_(i,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Wv(r));const t=_(i,["encoding"]);return t!=null&&v(e,["mimeType"],t),e}function oB(i){const e={},n=_(i,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=_(i,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Wv(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["mimeType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jA;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jA||(jA={}));var JA;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(JA||(JA={}));var QA;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(QA||(QA={}));var cs;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(cs||(cs={}));var XA;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(XA||(XA={}));var ZA;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ZA||(ZA={}));var eb;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(eb||(eb={}));var tb;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(tb||(tb={}));var nb;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(nb||(nb={}));var rb;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(rb||(rb={}));var ib;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ib||(ib={}));var ob;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(ob||(ob={}));var sb;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(sb||(sb={}));var ab;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(ab||(ab={}));var lb;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(lb||(lb={}));var ub;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ub||(ub={}));var cb;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cb||(cb={}));var db;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(db||(db={}));var fb;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fb||(fb={}));var Rp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Rp||(Rp={}));var hb;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hb||(hb={}));var pb;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pb||(pb={}));var mb;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mb||(mb={}));var J_;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(J_||(J_={}));var gb;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(gb||(gb={}));var yb;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(yb||(yb={}));var _b;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(_b||(_b={}));var vb;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(vb||(vb={}));var Eb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Eb||(Eb={}));var Tb;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tb||(Tb={}));var wb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(wb||(wb={}));var Sb;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Sb||(Sb={}));var Cb;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Cb||(Cb={}));var Ab;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Ab||(Ab={}));var bb;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bb||(bb={}));var Ib;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ib||(Ib={}));var Nb;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nb||(Nb={}));var Rb;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rb||(Rb={}));var xb;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(xb||(xb={}));var Ob;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Ob||(Ob={}));var Db;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Db||(Db={}));var Mb;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Mb||(Mb={}));var kb;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(kb||(kb={}));var Pb;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Pb||(Pb={}));var Lb;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Lb||(Lb={}));var Ub;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Ub||(Ub={}));var Fb;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fb||(Fb={}));var Bb;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Bb||(Bb={}));var Hb;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Hb||(Hb={}));var qb;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qb||(qb={}));var Vb;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Vb||(Vb={}));var Yb;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Yb||(Yb={}));var Gb;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Gb||(Gb={}));var zb;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zb||(zb={}));var Kb;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Kb||(Kb={}));var cl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(cl||(cl={}));class Q_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bu{get text(){var e,n,r,t,o,a,l,c;if(((t=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||t===void 0?void 0:t.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const m of(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[y,E]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,t,o,a,l,c;if(((t=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||t===void 0?void 0:t.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,t,o,a,l,c;if(((t=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||t===void 0?void 0:t.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,t,o,a,l,c,d;if(((t=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||t===void 0?void 0:t.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,t,o,a,l,c,d;if(((t=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||t===void 0?void 0:t.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Wb{}class $b{}class sB{}class aB{}class lB{}class uB{}class jb{}class Jb{}class Qb{}class cB{}class xp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xp;let t;const o=e;return n?t=$F(o):t=WF(o),Object.assign(r,t),r}}class Xb{}class Zb{}class eI{}class tI{}class dB{}class fB{}class hB{}class $v{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $v,o=tB(e);return Object.assign(r,o),r}}class pB{}class mB{}class gB{}class nI{}class yB{get text(){var e,n,r;let t="",o=!1;const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,t+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?t:void 0}get data(){var e,n,r;let t="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="inlineData"&&c!==null&&o.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(t+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),t.length>0?btoa(t):void 0}}class _B{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jv,o=eD(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $t(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tD(i,e){const n=$t(i,e);return n?n.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:n.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${n}`:n:""}function nD(i){return Array.isArray(i)?i.map(e=>Op(e)):[Op(i)]}function Op(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function rD(i){const e=Op(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iD(i){const e=Op(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rI(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function oD(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>rI(e)):[rI(i)]}function X_(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function iI(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function oI(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function er(i){if(i==null)throw new Error("ContentUnion is required");return X_(i)?i:{role:"user",parts:oD(i)}}function Jv(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=er(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(i.isVertexAI()){const n=er(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>er(n)):[er(e)]}function ri(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(iI(i)||oI(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[er(i)]}const e=[],n=[],r=X_(i[0]);for(const t of i){const o=X_(t);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(t);else{if(iI(t)||oI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(t)}}return r||e.push({role:"user",parts:oD(n)}),e}function vB(i,e){i.includes("null")&&(e.nullable=!0);const n=i.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(cs).includes(n[0].toUpperCase())?n[0].toUpperCase():cs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(cs).includes(r.toUpperCase())?r.toUpperCase():cs.TYPE_UNSPECIFIED})}}function pl(i){const e={},n=["items"],r=["anyOf"],t=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=i.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,i=o[1]):o[1].type==="null"&&(e.nullable=!0,i=o[0])),i.type instanceof Array&&vB(i.type,e);for(const[a,l]of Object.entries(i))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(cs).includes(l.toUpperCase())?l.toUpperCase():cs.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=pl(l);else if(r.includes(a)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(pl(d))}e[a]=c}else if(t.includes(a)){const c={};for(const[d,f]of Object.entries(l))c[d]=pl(f);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=l}return e}function Qv(i){return pl(i)}function Xv(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Zv(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function kl(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=pl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=pl(e.response));return i}function Pl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of i)e.push(n);return e}function EB(i,e,n,r=1){const t=!e.startsWith(`${n}/`)&&e.split("/").length===r;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:t?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}/${e}`:e:t?`${n}/${e}`:e}function Mo(i,e){if(typeof e!="string")throw new Error("name must be a string");return EB(i,e,"cachedContents")}function sD(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ts(i){return Wv(i)}function TB(i){return i!=null&&typeof i=="object"&&"name"in i}function wB(i){return i!=null&&typeof i=="object"&&"video"in i}function SB(i){return i!=null&&typeof i=="object"&&"uri"in i}function aD(i){var e;let n;if(TB(i)&&(n=i.name),!(SB(i)&&(n=i.uri,n===void 0))&&!(wB(i)&&(n=(e=i.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof i=="string"&&(n=i),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const t=n.split("files/")[1].match(/[a-z0-9]+/);if(t===null)throw new Error(`Could not extract file name from URI ${n}`);n=t[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function lD(i,e){let n;return i.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uD(i){for(const e of["models","tunedModels","publisherModels"])if(CB(i,e))return i[e];return[]}function CB(i,e){return i!==null&&typeof i=="object"&&e in i}function AB(i,e={}){const n=i,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function bB(i,e={}){const n=[],r=new Set;for(const t of i){const o=t.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=AB(t,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function cD(i,e){let n;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,t=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(i.isVertexAI()){if(t>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||t!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function IB(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function dD(i){if(typeof i!="object"||i===null)return{};const e=i,n=e.inlinedResponses;if(typeof n!="object"||n===null)return i;const t=n.inlinedResponses;if(!Array.isArray(t)||t.length===0)return i;let o=!1;for(const a of t){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function Ll(i,e){const n=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fD(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NB(i){const e={},n=_(i,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=_(i,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>l6(a))),v(e,["inlinedResponses"],o)}const t=_(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["inlinedEmbedContentResponses"],o)}return e}function RB(i){const e={},n=_(i,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=_(i,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const t=_(i,["bigqueryDestination","outputUri"]);return t!=null&&v(e,["bigqueryUri"],t),e}function xB(i){const e={},n=_(i,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=_(i,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const t=_(i,["bigqueryUri"]);if(t!=null&&v(e,["bigqueryDestination","outputUri"],t),_(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(_(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function vp(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const t=_(i,["metadata","state"]);t!=null&&v(e,["state"],fD(t));const o=_(i,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const a=_(i,["metadata","endTime"]);a!=null&&v(e,["endTime"],a);const l=_(i,["metadata","updateTime"]);l!=null&&v(e,["updateTime"],l);const c=_(i,["metadata","model"]);c!=null&&v(e,["model"],c);const d=_(i,["metadata","output"]);return d!=null&&v(e,["dest"],NB(dD(d))),e}function Z_(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["displayName"]);r!=null&&v(e,["displayName"],r);const t=_(i,["state"]);t!=null&&v(e,["state"],fD(t));const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["createTime"]);a!=null&&v(e,["createTime"],a);const l=_(i,["startTime"]);l!=null&&v(e,["startTime"],l);const c=_(i,["endTime"]);c!=null&&v(e,["endTime"],c);const d=_(i,["updateTime"]);d!=null&&v(e,["updateTime"],d);const f=_(i,["model"]);f!=null&&v(e,["model"],f);const p=_(i,["inputConfig"]);p!=null&&v(e,["src"],OB(p));const m=_(i,["outputConfig"]);m!=null&&v(e,["dest"],RB(dD(m)));const y=_(i,["completionStats"]);return y!=null&&v(e,["completionStats"],y),e}function OB(i){const e={},n=_(i,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=_(i,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const t=_(i,["bigquerySource","inputUri"]);return t!=null&&v(e,["bigqueryUri"],t),e}function DB(i,e){const n={};if(_(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=_(e,["fileName"]);r!=null&&v(n,["fileName"],r);const t=_(e,["inlinedRequests"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a6(i,a))),v(n,["requests","requests"],o)}return n}function MB(i){const e={},n=_(i,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=_(i,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const t=_(i,["bigqueryUri"]);if(t!=null&&v(e,["bigquerySource","inputUri"],t),_(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kB(i){const e={},n=_(i,["data"]);if(n!=null&&v(e,["data"],n),_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function PB(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function LB(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function UB(i){const e={},n=_(i,["content"]);n!=null&&v(e,["content"],n);const r=_(i,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],FB(r));const t=_(i,["tokenCount"]);t!=null&&v(e,["tokenCount"],t);const o=_(i,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=_(i,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const l=_(i,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const c=_(i,["index"]);c!=null&&v(e,["index"],c);const d=_(i,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const f=_(i,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),v(e,["safetyRatings"],m)}const p=_(i,["urlContextMetadata"]);return p!=null&&v(e,["urlContextMetadata"],p),e}function FB(i){const e={},n=_(i,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(t=>t)),v(e,["citations"],r)}return e}function hD(i){const e={},n=_(i,["parts"]);if(n!=null){let t=n;Array.isArray(t)&&(t=t.map(o=>m6(o))),v(e,["parts"],t)}const r=_(i,["role"]);return r!=null&&v(e,["role"],r),e}function BB(i,e){const n={},r=_(i,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),_(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function HB(i,e){const n={},r=_(i,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const t=_(i,["dest"]);return e!==void 0&&t!=null&&v(e,["outputConfig"],xB(IB(t))),n}function sI(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["src"]);t!=null&&v(n,["batch","inputConfig"],DB(i,cD(i,t)));const o=_(e,["config"]);return o!=null&&BB(o,n),n}function qB(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["model"],$t(i,r));const t=_(e,["src"]);t!=null&&v(n,["inputConfig"],MB(cD(i,t)));const o=_(e,["config"]);return o!=null&&HB(o,n),n}function VB(i,e){const n={},r=_(i,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function YB(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["src"]);t!=null&&v(n,["batch","inputConfig"],JB(i,t));const o=_(e,["config"]);return o!=null&&VB(o,n),n}function GB(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function zB(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function KB(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["name"]);r!=null&&v(e,["name"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);return o!=null&&v(e,["error"],o),e}function WB(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["name"]);r!=null&&v(e,["name"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);return o!=null&&v(e,["error"],o),e}function $B(i,e){const n={},r=_(e,["contents"]);if(r!=null){let o=Jv(i,r);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["requests[]","request","content"],o)}const t=_(e,["config"]);return t!=null&&(v(n,["_self"],jB(t,n)),zF(n,{"requests[].*":"requests[].request.*"})),n}function jB(i,e){const n={},r=_(i,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const t=_(i,["title"]);e!==void 0&&t!=null&&v(e,["requests[]","title"],t);const o=_(i,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),_(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function JB(i,e){const n={},r=_(e,["fileName"]);r!=null&&v(n,["file_name"],r);const t=_(e,["inlinedRequests"]);return t!=null&&v(n,["requests"],$B(i,t)),n}function QB(i){const e={};if(_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(i,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function XB(i){const e={},n=_(i,["id"]);n!=null&&v(e,["id"],n);const r=_(i,["args"]);r!=null&&v(e,["args"],r);const t=_(i,["name"]);if(t!=null&&v(e,["name"],t),_(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZB(i){const e={},n=_(i,["mode"]);n!=null&&v(e,["mode"],n);const r=_(i,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),_(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function e6(i,e,n){const r={},t=_(e,["systemInstruction"]);n!==void 0&&t!=null&&v(n,["systemInstruction"],hD(er(t)));const o=_(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=_(e,["topP"]);a!=null&&v(r,["topP"],a);const l=_(e,["topK"]);l!=null&&v(r,["topK"],l);const c=_(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=_(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const f=_(e,["stopSequences"]);f!=null&&v(r,["stopSequences"],f);const p=_(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const m=_(e,["logprobs"]);m!=null&&v(r,["logprobs"],m);const y=_(e,["presencePenalty"]);y!=null&&v(r,["presencePenalty"],y);const E=_(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const T=_(e,["seed"]);T!=null&&v(r,["seed"],T);const C=_(e,["responseMimeType"]);C!=null&&v(r,["responseMimeType"],C);const S=_(e,["responseSchema"]);S!=null&&v(r,["responseSchema"],Qv(S));const b=_(e,["responseJsonSchema"]);if(b!=null&&v(r,["responseJsonSchema"],b),_(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=_(e,["safetySettings"]);if(n!==void 0&&I!=null){let J=I;Array.isArray(J)&&(J=J.map(Re=>g6(Re))),v(n,["safetySettings"],J)}const N=_(e,["tools"]);if(n!==void 0&&N!=null){let J=Pl(N);Array.isArray(J)&&(J=J.map(Re=>_6(kl(Re)))),v(n,["tools"],J)}const x=_(e,["toolConfig"]);if(n!==void 0&&x!=null&&v(n,["toolConfig"],y6(x)),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=_(e,["cachedContent"]);n!==void 0&&L!=null&&v(n,["cachedContent"],Mo(i,L));const F=_(e,["responseModalities"]);F!=null&&v(r,["responseModalities"],F);const G=_(e,["mediaResolution"]);G!=null&&v(r,["mediaResolution"],G);const Q=_(e,["speechConfig"]);if(Q!=null&&v(r,["speechConfig"],Xv(Q)),_(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=_(e,["thinkingConfig"]);j!=null&&v(r,["thinkingConfig"],j);const Z=_(e,["imageConfig"]);Z!=null&&v(r,["imageConfig"],s6(Z));const ie=_(e,["enableEnhancedCivicAnswers"]);return ie!=null&&v(r,["enableEnhancedCivicAnswers"],ie),r}function t6(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>UB(d))),v(e,["candidates"],c)}const t=_(i,["modelVersion"]);t!=null&&v(e,["modelVersion"],t);const o=_(i,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=_(i,["responseId"]);a!=null&&v(e,["responseId"],a);const l=_(i,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function n6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function r6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Ll(i,r)),n}function i6(i){const e={};if(_(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(i,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function o6(i){const e={};if(_(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(i,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function s6(i){const e={},n=_(i,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=_(i,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),_(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function a6(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["request","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let l=ri(t);Array.isArray(l)&&(l=l.map(c=>hD(c))),v(n,["request","contents"],l)}const o=_(e,["metadata"]);o!=null&&v(n,["metadata"],o);const a=_(e,["config"]);return a!=null&&v(n,["request","generationConfig"],e6(i,a,_(n,["request"],{}))),n}function l6(i){const e={},n=_(i,["response"]);n!=null&&v(e,["response"],t6(n));const r=_(i,["error"]);return r!=null&&v(e,["error"],r),e}function u6(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);if(e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),_(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function c6(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);e!==void 0&&t!=null&&v(e,["_query","pageToken"],t);const o=_(i,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function d6(i){const e={},n=_(i,["config"]);return n!=null&&u6(n,e),e}function f6(i){const e={},n=_(i,["config"]);return n!=null&&c6(n,e),e}function h6(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["operations"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>vp(a))),v(e,["batchJobs"],o)}return e}function p6(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["batchPredictionJobs"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>Z_(a))),v(e,["batchJobs"],o)}return e}function m6(i){const e={},n=_(i,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=_(i,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const t=_(i,["executableCode"]);t!=null&&v(e,["executableCode"],t);const o=_(i,["fileData"]);o!=null&&v(e,["fileData"],QB(o));const a=_(i,["functionCall"]);a!=null&&v(e,["functionCall"],XB(a));const l=_(i,["functionResponse"]);l!=null&&v(e,["functionResponse"],l);const c=_(i,["inlineData"]);c!=null&&v(e,["inlineData"],kB(c));const d=_(i,["text"]);d!=null&&v(e,["text"],d);const f=_(i,["thought"]);f!=null&&v(e,["thought"],f);const p=_(i,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const m=_(i,["videoMetadata"]);return m!=null&&v(e,["videoMetadata"],m),e}function g6(i){const e={},n=_(i,["category"]);if(n!=null&&v(e,["category"],n),_(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=_(i,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function y6(i){const e={},n=_(i,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],ZB(n));const r=_(i,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function _6(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["functionDeclarations"],f)}if(_(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(i,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const t=_(i,["computerUse"]);t!=null&&v(e,["computerUse"],t);const o=_(i,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=_(i,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),_(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(i,["googleMaps"]);l!=null&&v(e,["googleMaps"],i6(l));const c=_(i,["googleSearch"]);c!=null&&v(e,["googleSearch"],o6(c));const d=_(i,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var No;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(No||(No={}));class oa{constructor(e,n,r,t){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,t)}init(e,n,r){var t,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(t=a.config)===null||t===void 0?void 0:t.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v6 extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(No.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=sI(this.apiClient,e),r=n._url,t=Xe("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:t,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},t=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${t}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${t}`;else if(a)r.dest=`${a}_dest_${t}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=qB(this.apiClient,e);return l=Xe("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Z_(f))}else{const d=sI(this.apiClient,e);return l=Xe("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>vp(f))}}async createEmbeddingsInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=YB(this.apiClient,e);return o=Xe("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>vp(c))}}async get(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=r6(this.apiClient,e);return l=Xe("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Z_(f))}else{const d=n6(this.apiClient,e);return l=Xe("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>vp(f))}}async cancel(e){var n,r,t,o;let a="",l={};if(this.apiClient.isVertexAI()){const c=LB(this.apiClient,e);a=Xe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=PB(this.apiClient,e);a=Xe("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=f6(e);return l=Xe("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=p6(f),m=new nI;return Object.assign(m,p),m})}else{const d=d6(e);return l=Xe("batches",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=h6(f),m=new nI;return Object.assign(m,p),m})}}async delete(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=zB(this.apiClient,e);return l=Xe("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>WB(f))}else{const d=GB(this.apiClient,e);return l=Xe("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>KB(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E6(i){const e={},n=_(i,["data"]);if(n!=null&&v(e,["data"],n),_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function aI(i){const e={},n=_(i,["parts"]);if(n!=null){let t=n;Array.isArray(t)&&(t=t.map(o=>Y6(o))),v(e,["parts"],t)}const r=_(i,["role"]);return r!=null&&v(e,["role"],r),e}function T6(i,e){const n={},r=_(i,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const t=_(i,["expireTime"]);e!==void 0&&t!=null&&v(e,["expireTime"],t);const o=_(i,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=_(i,["contents"]);if(e!==void 0&&a!=null){let f=ri(a);Array.isArray(f)&&(f=f.map(p=>aI(p))),v(e,["contents"],f)}const l=_(i,["systemInstruction"]);e!==void 0&&l!=null&&v(e,["systemInstruction"],aI(er(l)));const c=_(i,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>z6(p))),v(e,["tools"],f)}const d=_(i,["toolConfig"]);if(e!==void 0&&d!=null&&v(e,["toolConfig"],G6(d)),_(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function w6(i,e){const n={},r=_(i,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const t=_(i,["expireTime"]);e!==void 0&&t!=null&&v(e,["expireTime"],t);const o=_(i,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const a=_(i,["contents"]);if(e!==void 0&&a!=null){let p=ri(a);Array.isArray(p)&&(p=p.map(m=>m)),v(e,["contents"],p)}const l=_(i,["systemInstruction"]);e!==void 0&&l!=null&&v(e,["systemInstruction"],er(l));const c=_(i,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>K6(m))),v(e,["tools"],p)}const d=_(i,["toolConfig"]);e!==void 0&&d!=null&&v(e,["toolConfig"],d);const f=_(i,["kmsKeyName"]);return e!==void 0&&f!=null&&v(e,["encryption_spec","kmsKeyName"],f),n}function S6(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["model"],tD(i,r));const t=_(e,["config"]);return t!=null&&T6(t,n),n}function C6(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["model"],tD(i,r));const t=_(e,["config"]);return t!=null&&w6(t,n),n}function A6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Mo(i,r)),n}function b6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Mo(i,r)),n}function I6(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function N6(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function R6(i){const e={};if(_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(i,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function x6(i){const e={},n=_(i,["id"]);n!=null&&v(e,["id"],n);const r=_(i,["args"]);r!=null&&v(e,["args"],r);const t=_(i,["name"]);if(t!=null&&v(e,["name"],t),_(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O6(i){const e={},n=_(i,["mode"]);n!=null&&v(e,["mode"],n);const r=_(i,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),_(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function D6(i){const e={};if(_(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=_(i,["description"]);n!=null&&v(e,["description"],n);const r=_(i,["name"]);r!=null&&v(e,["name"],r);const t=_(i,["parameters"]);t!=null&&v(e,["parameters"],t);const o=_(i,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=_(i,["response"]);a!=null&&v(e,["response"],a);const l=_(i,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function M6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Mo(i,r)),n}function k6(i,e){const n={},r=_(e,["name"]);return r!=null&&v(n,["_url","name"],Mo(i,r)),n}function P6(i){const e={};if(_(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(i,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function L6(i){const e={};if(_(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(i,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function U6(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);return e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),n}function F6(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);return e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),n}function B6(i){const e={},n=_(i,["config"]);return n!=null&&U6(n,e),e}function H6(i){const e={},n=_(i,["config"]);return n!=null&&F6(n,e),e}function q6(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["cachedContents"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function V6(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["cachedContents"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["cachedContents"],o)}return e}function Y6(i){const e={},n=_(i,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=_(i,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const t=_(i,["executableCode"]);t!=null&&v(e,["executableCode"],t);const o=_(i,["fileData"]);o!=null&&v(e,["fileData"],R6(o));const a=_(i,["functionCall"]);a!=null&&v(e,["functionCall"],x6(a));const l=_(i,["functionResponse"]);l!=null&&v(e,["functionResponse"],l);const c=_(i,["inlineData"]);c!=null&&v(e,["inlineData"],E6(c));const d=_(i,["text"]);d!=null&&v(e,["text"],d);const f=_(i,["thought"]);f!=null&&v(e,["thought"],f);const p=_(i,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const m=_(i,["videoMetadata"]);return m!=null&&v(e,["videoMetadata"],m),e}function G6(i){const e={},n=_(i,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],O6(n));const r=_(i,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function z6(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["functionDeclarations"],f)}if(_(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(i,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const t=_(i,["computerUse"]);t!=null&&v(e,["computerUse"],t);const o=_(i,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=_(i,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),_(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(i,["googleMaps"]);l!=null&&v(e,["googleMaps"],P6(l));const c=_(i,["googleSearch"]);c!=null&&v(e,["googleSearch"],L6(c));const d=_(i,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function K6(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>D6(m))),v(e,["functionDeclarations"],p)}const r=_(i,["retrieval"]);r!=null&&v(e,["retrieval"],r);const t=_(i,["googleSearchRetrieval"]);t!=null&&v(e,["googleSearchRetrieval"],t);const o=_(i,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),_(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=_(i,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const l=_(i,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=_(i,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=_(i,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const f=_(i,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function W6(i,e){const n={},r=_(i,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const t=_(i,["expireTime"]);return e!==void 0&&t!=null&&v(e,["expireTime"],t),n}function $6(i,e){const n={},r=_(i,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const t=_(i,["expireTime"]);return e!==void 0&&t!=null&&v(e,["expireTime"],t),n}function j6(i,e){const n={},r=_(e,["name"]);r!=null&&v(n,["_url","name"],Mo(i,r));const t=_(e,["config"]);return t!=null&&W6(t,n),n}function J6(i,e){const n={},r=_(e,["name"]);r!=null&&v(n,["_url","name"],Mo(i,r));const t=_(e,["config"]);return t!=null&&$6(t,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q6 extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(No.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=C6(this.apiClient,e);return l=Xe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const d=S6(this.apiClient,e);return l=Xe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=k6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const d=M6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=b6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=N6(f),m=new eI;return Object.assign(m,p),m})}else{const d=A6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=I6(f),m=new eI;return Object.assign(m,p),m})}}async update(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=J6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const d=j6(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async listInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=H6(e);return l=Xe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=V6(f),m=new tI;return Object.assign(m,p),m})}else{const d=B6(e);return l=Xe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=q6(f),m=new tI;return Object.assign(m,p),m})}}}function Dp(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(i);t<r.length;t++)e.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(i,r[t])&&(n[r[t]]=i[r[t]]);return n}function lI(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],r=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(i){return this instanceof Et?(this.v=i,this):new Et(i)}function Ci(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(i,e||[]),t,o=[];return t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),t[Symbol.asyncIterator]=function(){return this},t;function a(y){return function(E){return Promise.resolve(E).then(y,p)}}function l(y,E){r[y]&&(t[y]=function(T){return new Promise(function(C,S){o.push([y,T,C,S])>1||c(y,T)})},E&&(t[y]=E(t[y])))}function c(y,E){try{d(r[y](E))}catch(T){m(o[0][3],T)}}function d(y){y.value instanceof Et?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,E){y(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ai(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof lI=="function"?lI(i):i[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=i[o]&&function(a){return new Promise(function(l,c){a=i[o](a),t(l,c,a.done,a.value)})}}function t(o,a,l,c){Promise.resolve(c).then(function(d){o({value:d,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X6(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:pD(n)}function pD(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Z6(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function uI(i){if(i===void 0||i.length===0)return[];const e=[],n=i.length;let r=0;for(;r<n;)if(i[r].role==="user")e.push(i[r]),r++;else{const t=[];let o=!0;for(;r<n&&i[r].role==="model";)t.push(i[r]),o&&!pD(i[r])&&(o=!1),r++;o?e.push(...t):e.pop()}return e}class e3{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new t3(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class t3{constructor(e,n,r,t={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=t,this.history=o,this.sendPromise=Promise.resolve(),Z6(o)}async sendMessage(e){var n;await this.sendPromise;const r=er(e.message),t=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,l;const c=await t,d=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(l=f.slice(p))!==null&&l!==void 0?l:[]);const y=d?[d]:[];this.recordHistory(r,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),t}async sendMessageStream(e){var n;await this.sendPromise;const r=er(e.message),t=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=t.then(()=>{}).catch(()=>{});const o=await t;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?uI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ci(this,arguments,function*(){var t,o,a,l,c,d;const f=[];try{for(var p=!0,m=Ai(e),y;y=yield Et(m.next()),t=y.done,!t;p=!0){l=y.value,p=!1;const E=l;if(X6(E)){const T=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;T!==void 0&&f.push(T)}yield yield Et(E)}}catch(E){o={error:E}}finally{try{!p&&!t&&(a=m.return)&&(yield Et(a.call(m)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let t=[];n.length>0&&n.every(o=>o.role!==void 0)?t=n:t.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...uI(r)):this.history.push(e),this.history.push(...t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,dm.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n3(i){const e={},n=_(i,["file"]);return n!=null&&v(e,["file"],n),e}function r3(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function i3(i){const e={},n=_(i,["name"]);return n!=null&&v(e,["_url","file"],aD(n)),e}function o3(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function s3(i){const e={},n=_(i,["name"]);return n!=null&&v(e,["_url","file"],aD(n)),e}function a3(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);return e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),n}function l3(i){const e={},n=_(i,["config"]);return n!=null&&a3(n,e),e}function u3(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["files"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c3 extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(No.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=l3(e);return o=Xe("files",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>{const d=u3(c),f=new pB;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=n3(e);return o=Xe("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=r3(c),f=new mB;return Object.assign(f,d),f})}}async get(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=s3(e);return o=Xe("files/{file}",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>c)}}async delete(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=i3(e);return o=Xe("files/{file}",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>{const d=o3(c),f=new gB;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ep(i){const e={},n=_(i,["data"]);if(n!=null&&v(e,["data"],n),_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function d3(i){const e={},n=_(i,["parts"]);if(n!=null){let t=n;Array.isArray(t)&&(t=t.map(o=>I3(o))),v(e,["parts"],t)}const r=_(i,["role"]);return r!=null&&v(e,["role"],r),e}function f3(i){const e={};if(_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(i,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function h3(i){const e={},n=_(i,["id"]);n!=null&&v(e,["id"],n);const r=_(i,["args"]);r!=null&&v(e,["args"],r);const t=_(i,["name"]);if(t!=null&&v(e,["name"],t),_(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function p3(i){const e={};if(_(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=_(i,["description"]);n!=null&&v(e,["description"],n);const r=_(i,["name"]);r!=null&&v(e,["name"],r);const t=_(i,["parameters"]);t!=null&&v(e,["parameters"],t);const o=_(i,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=_(i,["response"]);a!=null&&v(e,["response"],a);const l=_(i,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function m3(i){const e={},n=_(i,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=_(i,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const t=_(i,["audioTimestamp"]);t!=null&&v(e,["audioTimestamp"],t);const o=_(i,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=_(i,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const l=_(i,["frequencyPenalty"]);l!=null&&v(e,["frequencyPenalty"],l);const c=_(i,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=_(i,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const f=_(i,["mediaResolution"]);f!=null&&v(e,["mediaResolution"],f);const p=_(i,["presencePenalty"]);p!=null&&v(e,["presencePenalty"],p);const m=_(i,["responseLogprobs"]);m!=null&&v(e,["responseLogprobs"],m);const y=_(i,["responseMimeType"]);y!=null&&v(e,["responseMimeType"],y);const E=_(i,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const T=_(i,["responseSchema"]);T!=null&&v(e,["responseSchema"],T);const C=_(i,["routingConfig"]);C!=null&&v(e,["routingConfig"],C);const S=_(i,["seed"]);S!=null&&v(e,["seed"],S);const b=_(i,["speechConfig"]);b!=null&&v(e,["speechConfig"],b);const I=_(i,["stopSequences"]);I!=null&&v(e,["stopSequences"],I);const N=_(i,["temperature"]);N!=null&&v(e,["temperature"],N);const x=_(i,["thinkingConfig"]);x!=null&&v(e,["thinkingConfig"],x);const L=_(i,["topK"]);L!=null&&v(e,["topK"],L);const F=_(i,["topP"]);if(F!=null&&v(e,["topP"],F),_(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function g3(i){const e={};if(_(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(i,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function y3(i){const e={};if(_(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(i,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function _3(i,e){const n={},r=_(i,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const t=_(i,["responseModalities"]);e!==void 0&&t!=null&&v(e,["setup","generationConfig","responseModalities"],t);const o=_(i,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=_(i,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const l=_(i,["topK"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topK"],l);const c=_(i,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=_(i,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const f=_(i,["seed"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","seed"],f);const p=_(i,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Zv(p));const m=_(i,["thinkingConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","thinkingConfig"],m);const y=_(i,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=_(i,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],d3(er(E)));const T=_(i,["tools"]);if(e!==void 0&&T!=null){let L=Pl(T);Array.isArray(L)&&(L=L.map(F=>R3(kl(F)))),v(e,["setup","tools"],L)}const C=_(i,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],N3(C));const S=_(i,["inputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","inputAudioTranscription"],S);const b=_(i,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const I=_(i,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],I);const N=_(i,["contextWindowCompression"]);e!==void 0&&N!=null&&v(e,["setup","contextWindowCompression"],N);const x=_(i,["proactivity"]);if(e!==void 0&&x!=null&&v(e,["setup","proactivity"],x),_(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function v3(i,e){const n={},r=_(i,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],m3(r));const t=_(i,["responseModalities"]);e!==void 0&&t!=null&&v(e,["setup","generationConfig","responseModalities"],t);const o=_(i,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=_(i,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const l=_(i,["topK"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topK"],l);const c=_(i,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=_(i,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const f=_(i,["seed"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","seed"],f);const p=_(i,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Zv(p));const m=_(i,["thinkingConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","thinkingConfig"],m);const y=_(i,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=_(i,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],er(E));const T=_(i,["tools"]);if(e!==void 0&&T!=null){let F=Pl(T);Array.isArray(F)&&(F=F.map(G=>x3(kl(G)))),v(e,["setup","tools"],F)}const C=_(i,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],C);const S=_(i,["inputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","inputAudioTranscription"],S);const b=_(i,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const I=_(i,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],I);const N=_(i,["contextWindowCompression"]);e!==void 0&&N!=null&&v(e,["setup","contextWindowCompression"],N);const x=_(i,["proactivity"]);e!==void 0&&x!=null&&v(e,["setup","proactivity"],x);const L=_(i,["explicitVadSignal"]);return e!==void 0&&L!=null&&v(e,["setup","explicitVadSignal"],L),n}function E3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["setup","model"],$t(i,r));const t=_(e,["config"]);return t!=null&&v(n,["config"],_3(t,n)),n}function T3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["setup","model"],$t(i,r));const t=_(e,["config"]);return t!=null&&v(n,["config"],v3(t,n)),n}function w3(i){const e={},n=_(i,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function S3(i){const e={},n=_(i,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(t=>t)),v(e,["weightedPrompts"],r)}return e}function C3(i){const e={},n=_(i,["media"]);if(n!=null){let d=nD(n);Array.isArray(d)&&(d=d.map(f=>Ep(f))),v(e,["mediaChunks"],d)}const r=_(i,["audio"]);r!=null&&v(e,["audio"],Ep(iD(r)));const t=_(i,["audioStreamEnd"]);t!=null&&v(e,["audioStreamEnd"],t);const o=_(i,["video"]);o!=null&&v(e,["video"],Ep(rD(o)));const a=_(i,["text"]);a!=null&&v(e,["text"],a);const l=_(i,["activityStart"]);l!=null&&v(e,["activityStart"],l);const c=_(i,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function A3(i){const e={},n=_(i,["media"]);if(n!=null){let d=nD(n);Array.isArray(d)&&(d=d.map(f=>f)),v(e,["mediaChunks"],d)}const r=_(i,["audio"]);r!=null&&v(e,["audio"],iD(r));const t=_(i,["audioStreamEnd"]);t!=null&&v(e,["audioStreamEnd"],t);const o=_(i,["video"]);o!=null&&v(e,["video"],rD(o));const a=_(i,["text"]);a!=null&&v(e,["text"],a);const l=_(i,["activityStart"]);l!=null&&v(e,["activityStart"],l);const c=_(i,["activityEnd"]);return c!=null&&v(e,["activityEnd"],c),e}function b3(i){const e={},n=_(i,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=_(i,["serverContent"]);r!=null&&v(e,["serverContent"],r);const t=_(i,["toolCall"]);t!=null&&v(e,["toolCall"],t);const o=_(i,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const a=_(i,["usageMetadata"]);a!=null&&v(e,["usageMetadata"],O3(a));const l=_(i,["goAway"]);l!=null&&v(e,["goAway"],l);const c=_(i,["sessionResumptionUpdate"]);c!=null&&v(e,["sessionResumptionUpdate"],c);const d=_(i,["voiceActivityDetectionSignal"]);return d!=null&&v(e,["voiceActivityDetectionSignal"],d),e}function I3(i){const e={},n=_(i,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=_(i,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const t=_(i,["executableCode"]);t!=null&&v(e,["executableCode"],t);const o=_(i,["fileData"]);o!=null&&v(e,["fileData"],f3(o));const a=_(i,["functionCall"]);a!=null&&v(e,["functionCall"],h3(a));const l=_(i,["functionResponse"]);l!=null&&v(e,["functionResponse"],l);const c=_(i,["inlineData"]);c!=null&&v(e,["inlineData"],Ep(c));const d=_(i,["text"]);d!=null&&v(e,["text"],d);const f=_(i,["thought"]);f!=null&&v(e,["thought"],f);const p=_(i,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const m=_(i,["videoMetadata"]);return m!=null&&v(e,["videoMetadata"],m),e}function N3(i){const e={},n=_(i,["handle"]);if(n!=null&&v(e,["handle"],n),_(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R3(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["functionDeclarations"],f)}if(_(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(i,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const t=_(i,["computerUse"]);t!=null&&v(e,["computerUse"],t);const o=_(i,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=_(i,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),_(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(i,["googleMaps"]);l!=null&&v(e,["googleMaps"],g3(l));const c=_(i,["googleSearch"]);c!=null&&v(e,["googleSearch"],y3(c));const d=_(i,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function x3(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>p3(m))),v(e,["functionDeclarations"],p)}const r=_(i,["retrieval"]);r!=null&&v(e,["retrieval"],r);const t=_(i,["googleSearchRetrieval"]);t!=null&&v(e,["googleSearchRetrieval"],t);const o=_(i,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),_(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=_(i,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const l=_(i,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=_(i,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=_(i,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const f=_(i,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function O3(i){const e={},n=_(i,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=_(i,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const t=_(i,["candidatesTokenCount"]);t!=null&&v(e,["responseTokenCount"],t);const o=_(i,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const a=_(i,["thoughtsTokenCount"]);a!=null&&v(e,["thoughtsTokenCount"],a);const l=_(i,["totalTokenCount"]);l!=null&&v(e,["totalTokenCount"],l);const c=_(i,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["promptTokensDetails"],y)}const d=_(i,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["cacheTokensDetails"],y)}const f=_(i,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["responseTokensDetails"],y)}const p=_(i,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["toolUsePromptTokensDetails"],y)}const m=_(i,["trafficType"]);return m!=null&&v(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D3(i){const e={},n=_(i,["data"]);if(n!=null&&v(e,["data"],n),_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function M3(i){const e={},n=_(i,["content"]);n!=null&&v(e,["content"],n);const r=_(i,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],k3(r));const t=_(i,["tokenCount"]);t!=null&&v(e,["tokenCount"],t);const o=_(i,["finishReason"]);o!=null&&v(e,["finishReason"],o);const a=_(i,["avgLogprobs"]);a!=null&&v(e,["avgLogprobs"],a);const l=_(i,["groundingMetadata"]);l!=null&&v(e,["groundingMetadata"],l);const c=_(i,["index"]);c!=null&&v(e,["index"],c);const d=_(i,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const f=_(i,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),v(e,["safetyRatings"],m)}const p=_(i,["urlContextMetadata"]);return p!=null&&v(e,["urlContextMetadata"],p),e}function k3(i){const e={},n=_(i,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(t=>t)),v(e,["citations"],r)}return e}function P3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let o=ri(t);Array.isArray(o)&&(o=o.map(a=>a)),v(n,["contents"],o)}return n}function L3(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["tokensInfo"]);if(r!=null){let t=r;Array.isArray(t)&&(t=t.map(o=>o)),v(e,["tokensInfo"],t)}return e}function U3(i){const e={},n=_(i,["values"]);n!=null&&v(e,["values"],n);const r=_(i,["statistics"]);return r!=null&&v(e,["statistics"],F3(r)),e}function F3(i){const e={},n=_(i,["truncated"]);n!=null&&v(e,["truncated"],n);const r=_(i,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function fm(i){const e={},n=_(i,["parts"]);if(n!=null){let t=n;Array.isArray(t)&&(t=t.map(o=>W5(o))),v(e,["parts"],t)}const r=_(i,["role"]);return r!=null&&v(e,["role"],r),e}function B3(i){const e={},n=_(i,["controlType"]);n!=null&&v(e,["controlType"],n);const r=_(i,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function H3(i){const e={};if(_(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(_(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(_(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function q3(i,e){const n={},r=_(i,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],er(r));const t=_(i,["tools"]);if(e!==void 0&&t!=null){let a=t;Array.isArray(a)&&(a=a.map(l=>_D(l))),v(e,["tools"],a)}const o=_(i,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],D5(o)),n}function V3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let a=ri(t);Array.isArray(a)&&(a=a.map(l=>fm(l))),v(n,["contents"],a)}const o=_(e,["config"]);return o!=null&&H3(o),n}function Y3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let a=ri(t);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["contents"],a)}const o=_(e,["config"]);return o!=null&&q3(o,n),n}function G3(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const t=_(i,["cachedContentTokenCount"]);return t!=null&&v(e,["cachedContentTokenCount"],t),e}function z3(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function K3(i,e){const n={},r=_(e,["model"]);return r!=null&&v(n,["_url","name"],$t(i,r)),n}function W3(i,e){const n={},r=_(e,["model"]);return r!=null&&v(n,["_url","name"],$t(i,r)),n}function $3(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function j3(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function J3(i,e){const n={},r=_(i,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const t=_(i,["negativePrompt"]);e!==void 0&&t!=null&&v(e,["parameters","negativePrompt"],t);const o=_(i,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=_(i,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const l=_(i,["guidanceScale"]);e!==void 0&&l!=null&&v(e,["parameters","guidanceScale"],l);const c=_(i,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=_(i,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const f=_(i,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const p=_(i,["includeSafetyAttributes"]);e!==void 0&&p!=null&&v(e,["parameters","includeSafetyAttributes"],p);const m=_(i,["includeRaiReason"]);e!==void 0&&m!=null&&v(e,["parameters","includeRaiReason"],m);const y=_(i,["language"]);e!==void 0&&y!=null&&v(e,["parameters","language"],y);const E=_(i,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const T=_(i,["outputCompressionQuality"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","compressionQuality"],T);const C=_(i,["addWatermark"]);e!==void 0&&C!=null&&v(e,["parameters","addWatermark"],C);const S=_(i,["labels"]);e!==void 0&&S!=null&&v(e,["labels"],S);const b=_(i,["editMode"]);e!==void 0&&b!=null&&v(e,["parameters","editMode"],b);const I=_(i,["baseSteps"]);return e!==void 0&&I!=null&&v(e,["parameters","editConfig","baseSteps"],I),n}function Q3(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["prompt"]);t!=null&&v(n,["instances[0]","prompt"],t);const o=_(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Z5(c))),v(n,["instances[0]","referenceImages"],l)}const a=_(e,["config"]);return a!=null&&J3(a,n),n}function X3(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["predictions"]);if(r!=null){let t=r;Array.isArray(t)&&(t=t.map(o=>hm(o))),v(e,["generatedImages"],t)}return e}function Z3(i,e){const n={},r=_(i,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const t=_(i,["title"]);e!==void 0&&t!=null&&v(e,["requests[]","title"],t);const o=_(i,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),_(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function e5(i,e){const n={},r=_(i,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const t=_(i,["title"]);e!==void 0&&t!=null&&v(e,["instances[]","title"],t);const o=_(i,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const a=_(i,["mimeType"]);e!==void 0&&a!=null&&v(e,["instances[]","mimeType"],a);const l=_(i,["autoTruncate"]);return e!==void 0&&l!=null&&v(e,["parameters","autoTruncate"],l),n}function t5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let l=Jv(i,t);Array.isArray(l)&&(l=l.map(c=>c)),v(n,["requests[]","content"],l)}const o=_(e,["config"]);o!=null&&Z3(o,n);const a=_(e,["model"]);return a!==void 0&&v(n,["requests[]","model"],$t(i,a)),n}function n5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let a=Jv(i,t);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["instances[]","content"],a)}const o=_(e,["config"]);return o!=null&&e5(o,n),n}function r5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["embeddings"],o)}const t=_(i,["metadata"]);return t!=null&&v(e,["metadata"],t),e}function i5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>U3(a))),v(e,["embeddings"],o)}const t=_(i,["metadata"]);return t!=null&&v(e,["metadata"],t),e}function o5(i){const e={},n=_(i,["endpoint"]);n!=null&&v(e,["name"],n);const r=_(i,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function s5(i){const e={};if(_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(i,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function a5(i){const e={},n=_(i,["id"]);n!=null&&v(e,["id"],n);const r=_(i,["args"]);r!=null&&v(e,["args"],r);const t=_(i,["name"]);if(t!=null&&v(e,["name"],t),_(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l5(i){const e={},n=_(i,["mode"]);n!=null&&v(e,["mode"],n);const r=_(i,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),_(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function u5(i){const e={};if(_(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=_(i,["description"]);n!=null&&v(e,["description"],n);const r=_(i,["name"]);r!=null&&v(e,["name"],r);const t=_(i,["parameters"]);t!=null&&v(e,["parameters"],t);const o=_(i,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const a=_(i,["response"]);a!=null&&v(e,["response"],a);const l=_(i,["responseJsonSchema"]);return l!=null&&v(e,["responseJsonSchema"],l),e}function c5(i,e,n){const r={},t=_(e,["systemInstruction"]);n!==void 0&&t!=null&&v(n,["systemInstruction"],fm(er(t)));const o=_(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=_(e,["topP"]);a!=null&&v(r,["topP"],a);const l=_(e,["topK"]);l!=null&&v(r,["topK"],l);const c=_(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=_(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const f=_(e,["stopSequences"]);f!=null&&v(r,["stopSequences"],f);const p=_(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const m=_(e,["logprobs"]);m!=null&&v(r,["logprobs"],m);const y=_(e,["presencePenalty"]);y!=null&&v(r,["presencePenalty"],y);const E=_(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const T=_(e,["seed"]);T!=null&&v(r,["seed"],T);const C=_(e,["responseMimeType"]);C!=null&&v(r,["responseMimeType"],C);const S=_(e,["responseSchema"]);S!=null&&v(r,["responseSchema"],Qv(S));const b=_(e,["responseJsonSchema"]);if(b!=null&&v(r,["responseJsonSchema"],b),_(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=_(e,["safetySettings"]);if(n!==void 0&&I!=null){let J=I;Array.isArray(J)&&(J=J.map(Re=>eH(Re))),v(n,["safetySettings"],J)}const N=_(e,["tools"]);if(n!==void 0&&N!=null){let J=Pl(N);Array.isArray(J)&&(J=J.map(Re=>aH(kl(Re)))),v(n,["tools"],J)}const x=_(e,["toolConfig"]);if(n!==void 0&&x!=null&&v(n,["toolConfig"],sH(x)),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=_(e,["cachedContent"]);n!==void 0&&L!=null&&v(n,["cachedContent"],Mo(i,L));const F=_(e,["responseModalities"]);F!=null&&v(r,["responseModalities"],F);const G=_(e,["mediaResolution"]);G!=null&&v(r,["mediaResolution"],G);const Q=_(e,["speechConfig"]);if(Q!=null&&v(r,["speechConfig"],Xv(Q)),_(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=_(e,["thinkingConfig"]);j!=null&&v(r,["thinkingConfig"],j);const Z=_(e,["imageConfig"]);Z!=null&&v(r,["imageConfig"],U5(Z));const ie=_(e,["enableEnhancedCivicAnswers"]);return ie!=null&&v(r,["enableEnhancedCivicAnswers"],ie),r}function d5(i,e,n){const r={},t=_(e,["systemInstruction"]);n!==void 0&&t!=null&&v(n,["systemInstruction"],er(t));const o=_(e,["temperature"]);o!=null&&v(r,["temperature"],o);const a=_(e,["topP"]);a!=null&&v(r,["topP"],a);const l=_(e,["topK"]);l!=null&&v(r,["topK"],l);const c=_(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=_(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const f=_(e,["stopSequences"]);f!=null&&v(r,["stopSequences"],f);const p=_(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const m=_(e,["logprobs"]);m!=null&&v(r,["logprobs"],m);const y=_(e,["presencePenalty"]);y!=null&&v(r,["presencePenalty"],y);const E=_(e,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const T=_(e,["seed"]);T!=null&&v(r,["seed"],T);const C=_(e,["responseMimeType"]);C!=null&&v(r,["responseMimeType"],C);const S=_(e,["responseSchema"]);S!=null&&v(r,["responseSchema"],Qv(S));const b=_(e,["responseJsonSchema"]);b!=null&&v(r,["responseJsonSchema"],b);const I=_(e,["routingConfig"]);I!=null&&v(r,["routingConfig"],I);const N=_(e,["modelSelectionConfig"]);N!=null&&v(r,["modelConfig"],N);const x=_(e,["safetySettings"]);if(n!==void 0&&x!=null){let ee=x;Array.isArray(ee)&&(ee=ee.map(Ee=>Ee)),v(n,["safetySettings"],ee)}const L=_(e,["tools"]);if(n!==void 0&&L!=null){let ee=Pl(L);Array.isArray(ee)&&(ee=ee.map(Ee=>_D(kl(Ee)))),v(n,["tools"],ee)}const F=_(e,["toolConfig"]);n!==void 0&&F!=null&&v(n,["toolConfig"],F);const G=_(e,["labels"]);n!==void 0&&G!=null&&v(n,["labels"],G);const Q=_(e,["cachedContent"]);n!==void 0&&Q!=null&&v(n,["cachedContent"],Mo(i,Q));const j=_(e,["responseModalities"]);j!=null&&v(r,["responseModalities"],j);const Z=_(e,["mediaResolution"]);Z!=null&&v(r,["mediaResolution"],Z);const ie=_(e,["speechConfig"]);ie!=null&&v(r,["speechConfig"],Xv(ie));const J=_(e,["audioTimestamp"]);J!=null&&v(r,["audioTimestamp"],J);const Re=_(e,["thinkingConfig"]);Re!=null&&v(r,["thinkingConfig"],Re);const Fe=_(e,["imageConfig"]);if(Fe!=null&&v(r,["imageConfig"],F5(Fe)),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function cI(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let a=ri(t);Array.isArray(a)&&(a=a.map(l=>fm(l))),v(n,["contents"],a)}const o=_(e,["config"]);return o!=null&&v(n,["generationConfig"],c5(i,o,n)),n}function dI(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["contents"]);if(t!=null){let a=ri(t);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["contents"],a)}const o=_(e,["config"]);return o!=null&&v(n,["generationConfig"],d5(i,o,n)),n}function fI(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>M3(d))),v(e,["candidates"],c)}const t=_(i,["modelVersion"]);t!=null&&v(e,["modelVersion"],t);const o=_(i,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const a=_(i,["responseId"]);a!=null&&v(e,["responseId"],a);const l=_(i,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function hI(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),v(e,["candidates"],d)}const t=_(i,["createTime"]);t!=null&&v(e,["createTime"],t);const o=_(i,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const a=_(i,["promptFeedback"]);a!=null&&v(e,["promptFeedback"],a);const l=_(i,["responseId"]);l!=null&&v(e,["responseId"],l);const c=_(i,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function f5(i,e){const n={};if(_(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=_(i,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const t=_(i,["aspectRatio"]);e!==void 0&&t!=null&&v(e,["parameters","aspectRatio"],t);const o=_(i,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),_(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=_(i,["safetyFilterLevel"]);e!==void 0&&a!=null&&v(e,["parameters","safetySetting"],a);const l=_(i,["personGeneration"]);e!==void 0&&l!=null&&v(e,["parameters","personGeneration"],l);const c=_(i,["includeSafetyAttributes"]);e!==void 0&&c!=null&&v(e,["parameters","includeSafetyAttributes"],c);const d=_(i,["includeRaiReason"]);e!==void 0&&d!=null&&v(e,["parameters","includeRaiReason"],d);const f=_(i,["language"]);e!==void 0&&f!=null&&v(e,["parameters","language"],f);const p=_(i,["outputMimeType"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","mimeType"],p);const m=_(i,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&v(e,["parameters","outputOptions","compressionQuality"],m),_(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(_(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=_(i,["imageSize"]);if(e!==void 0&&y!=null&&v(e,["parameters","sampleImageSize"],y),_(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function h5(i,e){const n={},r=_(i,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const t=_(i,["negativePrompt"]);e!==void 0&&t!=null&&v(e,["parameters","negativePrompt"],t);const o=_(i,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const a=_(i,["aspectRatio"]);e!==void 0&&a!=null&&v(e,["parameters","aspectRatio"],a);const l=_(i,["guidanceScale"]);e!==void 0&&l!=null&&v(e,["parameters","guidanceScale"],l);const c=_(i,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const d=_(i,["safetyFilterLevel"]);e!==void 0&&d!=null&&v(e,["parameters","safetySetting"],d);const f=_(i,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const p=_(i,["includeSafetyAttributes"]);e!==void 0&&p!=null&&v(e,["parameters","includeSafetyAttributes"],p);const m=_(i,["includeRaiReason"]);e!==void 0&&m!=null&&v(e,["parameters","includeRaiReason"],m);const y=_(i,["language"]);e!==void 0&&y!=null&&v(e,["parameters","language"],y);const E=_(i,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const T=_(i,["outputCompressionQuality"]);e!==void 0&&T!=null&&v(e,["parameters","outputOptions","compressionQuality"],T);const C=_(i,["addWatermark"]);e!==void 0&&C!=null&&v(e,["parameters","addWatermark"],C);const S=_(i,["labels"]);e!==void 0&&S!=null&&v(e,["labels"],S);const b=_(i,["imageSize"]);e!==void 0&&b!=null&&v(e,["parameters","sampleImageSize"],b);const I=_(i,["enhancePrompt"]);return e!==void 0&&I!=null&&v(e,["parameters","enhancePrompt"],I),n}function p5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["prompt"]);t!=null&&v(n,["instances[0]","prompt"],t);const o=_(e,["config"]);return o!=null&&f5(o,n),n}function m5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["prompt"]);t!=null&&v(n,["instances[0]","prompt"],t);const o=_(e,["config"]);return o!=null&&h5(o,n),n}function g5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>N5(a))),v(e,["generatedImages"],o)}const t=_(i,["positivePromptSafetyAttributes"]);return t!=null&&v(e,["positivePromptSafetyAttributes"],gD(t)),e}function y5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>hm(a))),v(e,["generatedImages"],o)}const t=_(i,["positivePromptSafetyAttributes"]);return t!=null&&v(e,["positivePromptSafetyAttributes"],yD(t)),e}function _5(i,e){const n={},r=_(i,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),_(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const t=_(i,["durationSeconds"]);if(e!==void 0&&t!=null&&v(e,["parameters","durationSeconds"],t),_(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=_(i,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const a=_(i,["resolution"]);e!==void 0&&a!=null&&v(e,["parameters","resolution"],a);const l=_(i,["personGeneration"]);if(e!==void 0&&l!=null&&v(e,["parameters","personGeneration"],l),_(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=_(i,["negativePrompt"]);e!==void 0&&c!=null&&v(e,["parameters","negativePrompt"],c);const d=_(i,["enhancePrompt"]);if(e!==void 0&&d!=null&&v(e,["parameters","enhancePrompt"],d),_(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=_(i,["lastFrame"]);e!==void 0&&f!=null&&v(e,["instances[0]","lastFrame"],pm(f));const p=_(i,["referenceImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>EH(y))),v(e,["instances[0]","referenceImages"],m)}if(_(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(_(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function v5(i,e){const n={},r=_(i,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const t=_(i,["outputGcsUri"]);e!==void 0&&t!=null&&v(e,["parameters","storageUri"],t);const o=_(i,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const a=_(i,["durationSeconds"]);e!==void 0&&a!=null&&v(e,["parameters","durationSeconds"],a);const l=_(i,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const c=_(i,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const d=_(i,["resolution"]);e!==void 0&&d!=null&&v(e,["parameters","resolution"],d);const f=_(i,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const p=_(i,["pubsubTopic"]);e!==void 0&&p!=null&&v(e,["parameters","pubsubTopic"],p);const m=_(i,["negativePrompt"]);e!==void 0&&m!=null&&v(e,["parameters","negativePrompt"],m);const y=_(i,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const E=_(i,["generateAudio"]);e!==void 0&&E!=null&&v(e,["parameters","generateAudio"],E);const T=_(i,["lastFrame"]);e!==void 0&&T!=null&&v(e,["instances[0]","lastFrame"],Ni(T));const C=_(i,["referenceImages"]);if(e!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(N=>TH(N))),v(e,["instances[0]","referenceImages"],I)}const S=_(i,["mask"]);e!==void 0&&S!=null&&v(e,["instances[0]","mask"],vH(S));const b=_(i,["compressionQuality"]);return e!==void 0&&b!=null&&v(e,["parameters","compressionQuality"],b),n}function E5(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response","generateVideoResponse"]);return a!=null&&v(e,["response"],C5(a)),e}function T5(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response"]);return a!=null&&v(e,["response"],A5(a)),e}function w5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["prompt"]);t!=null&&v(n,["instances[0]","prompt"],t);const o=_(e,["image"]);o!=null&&v(n,["instances[0]","image"],pm(o));const a=_(e,["video"]);a!=null&&v(n,["instances[0]","video"],vD(a));const l=_(e,["source"]);l!=null&&b5(l,n);const c=_(e,["config"]);return c!=null&&_5(c,n),n}function S5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["prompt"]);t!=null&&v(n,["instances[0]","prompt"],t);const o=_(e,["image"]);o!=null&&v(n,["instances[0]","image"],Ni(o));const a=_(e,["video"]);a!=null&&v(n,["instances[0]","video"],ED(a));const l=_(e,["source"]);l!=null&&I5(l,n);const c=_(e,["config"]);return c!=null&&v5(c,n),n}function C5(i){const e={},n=_(i,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>x5(a))),v(e,["generatedVideos"],o)}const r=_(i,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const t=_(i,["raiMediaFilteredReasons"]);return t!=null&&v(e,["raiMediaFilteredReasons"],t),e}function A5(i){const e={},n=_(i,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>O5(a))),v(e,["generatedVideos"],o)}const r=_(i,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const t=_(i,["raiMediaFilteredReasons"]);return t!=null&&v(e,["raiMediaFilteredReasons"],t),e}function b5(i,e){const n={},r=_(i,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const t=_(i,["image"]);e!==void 0&&t!=null&&v(e,["instances[0]","image"],pm(t));const o=_(i,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],vD(o)),n}function I5(i,e){const n={},r=_(i,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const t=_(i,["image"]);e!==void 0&&t!=null&&v(e,["instances[0]","image"],Ni(t));const o=_(i,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],ED(o)),n}function N5(i){const e={},n=_(i,["_self"]);n!=null&&v(e,["image"],B5(n));const r=_(i,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const t=_(i,["_self"]);return t!=null&&v(e,["safetyAttributes"],gD(t)),e}function hm(i){const e={},n=_(i,["_self"]);n!=null&&v(e,["image"],mD(n));const r=_(i,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const t=_(i,["_self"]);t!=null&&v(e,["safetyAttributes"],yD(t));const o=_(i,["prompt"]);return o!=null&&v(e,["enhancedPrompt"],o),e}function R5(i){const e={},n=_(i,["_self"]);n!=null&&v(e,["mask"],mD(n));const r=_(i,["labels"]);if(r!=null){let t=r;Array.isArray(t)&&(t=t.map(o=>o)),v(e,["labels"],t)}return e}function x5(i){const e={},n=_(i,["video"]);return n!=null&&v(e,["video"],yH(n)),e}function O5(i){const e={},n=_(i,["_self"]);return n!=null&&v(e,["video"],_H(n)),e}function D5(i){const e={},n=_(i,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=_(i,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const t=_(i,["audioTimestamp"]);t!=null&&v(e,["audioTimestamp"],t);const o=_(i,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const a=_(i,["enableAffectiveDialog"]);a!=null&&v(e,["enableAffectiveDialog"],a);const l=_(i,["frequencyPenalty"]);l!=null&&v(e,["frequencyPenalty"],l);const c=_(i,["logprobs"]);c!=null&&v(e,["logprobs"],c);const d=_(i,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const f=_(i,["mediaResolution"]);f!=null&&v(e,["mediaResolution"],f);const p=_(i,["presencePenalty"]);p!=null&&v(e,["presencePenalty"],p);const m=_(i,["responseLogprobs"]);m!=null&&v(e,["responseLogprobs"],m);const y=_(i,["responseMimeType"]);y!=null&&v(e,["responseMimeType"],y);const E=_(i,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const T=_(i,["responseSchema"]);T!=null&&v(e,["responseSchema"],T);const C=_(i,["routingConfig"]);C!=null&&v(e,["routingConfig"],C);const S=_(i,["seed"]);S!=null&&v(e,["seed"],S);const b=_(i,["speechConfig"]);b!=null&&v(e,["speechConfig"],b);const I=_(i,["stopSequences"]);I!=null&&v(e,["stopSequences"],I);const N=_(i,["temperature"]);N!=null&&v(e,["temperature"],N);const x=_(i,["thinkingConfig"]);x!=null&&v(e,["thinkingConfig"],x);const L=_(i,["topK"]);L!=null&&v(e,["topK"],L);const F=_(i,["topP"]);if(F!=null&&v(e,["topP"],F),_(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function M5(i,e){const n={},r=_(e,["model"]);return r!=null&&v(n,["_url","name"],$t(i,r)),n}function k5(i,e){const n={},r=_(e,["model"]);return r!=null&&v(n,["_url","name"],$t(i,r)),n}function P5(i){const e={};if(_(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(i,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function L5(i){const e={};if(_(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(i,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function U5(i){const e={},n=_(i,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=_(i,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),_(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function F5(i){const e={},n=_(i,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=_(i,["imageSize"]);r!=null&&v(e,["imageSize"],r);const t=_(i,["outputMimeType"]);t!=null&&v(e,["imageOutputOptions","mimeType"],t);const o=_(i,["outputCompressionQuality"]);return o!=null&&v(e,["imageOutputOptions","compressionQuality"],o),e}function B5(i){const e={},n=_(i,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],Ts(n));const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function mD(i){const e={},n=_(i,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=_(i,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],Ts(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["mimeType"],t),e}function pm(i){const e={};if(_(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=_(i,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],Ts(n));const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Ni(i){const e={},n=_(i,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=_(i,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Ts(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["mimeType"],t),e}function H5(i,e,n){const r={},t=_(e,["pageSize"]);n!==void 0&&t!=null&&v(n,["_query","pageSize"],t);const o=_(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const a=_(e,["filter"]);n!==void 0&&a!=null&&v(n,["_query","filter"],a);const l=_(e,["queryBase"]);return n!==void 0&&l!=null&&v(n,["_url","models_url"],lD(i,l)),r}function q5(i,e,n){const r={},t=_(e,["pageSize"]);n!==void 0&&t!=null&&v(n,["_query","pageSize"],t);const o=_(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const a=_(e,["filter"]);n!==void 0&&a!=null&&v(n,["_query","filter"],a);const l=_(e,["queryBase"]);return n!==void 0&&l!=null&&v(n,["_url","models_url"],lD(i,l)),r}function V5(i,e){const n={},r=_(e,["config"]);return r!=null&&H5(i,r,n),n}function Y5(i,e){const n={},r=_(e,["config"]);return r!=null&&q5(i,r,n),n}function G5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["_self"]);if(t!=null){let o=uD(t);Array.isArray(o)&&(o=o.map(a=>ev(a))),v(e,["models"],o)}return e}function z5(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["_self"]);if(t!=null){let o=uD(t);Array.isArray(o)&&(o=o.map(a=>tv(a))),v(e,["models"],o)}return e}function K5(i){const e={},n=_(i,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=_(i,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const t=_(i,["maskDilation"]);return t!=null&&v(e,["dilation"],t),e}function ev(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["displayName"]);r!=null&&v(e,["displayName"],r);const t=_(i,["description"]);t!=null&&v(e,["description"],t);const o=_(i,["version"]);o!=null&&v(e,["version"],o);const a=_(i,["_self"]);a!=null&&v(e,["tunedModelInfo"],lH(a));const l=_(i,["inputTokenLimit"]);l!=null&&v(e,["inputTokenLimit"],l);const c=_(i,["outputTokenLimit"]);c!=null&&v(e,["outputTokenLimit"],c);const d=_(i,["supportedGenerationMethods"]);d!=null&&v(e,["supportedActions"],d);const f=_(i,["temperature"]);f!=null&&v(e,["temperature"],f);const p=_(i,["maxTemperature"]);p!=null&&v(e,["maxTemperature"],p);const m=_(i,["topP"]);m!=null&&v(e,["topP"],m);const y=_(i,["topK"]);y!=null&&v(e,["topK"],y);const E=_(i,["thinking"]);return E!=null&&v(e,["thinking"],E),e}function tv(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["displayName"]);r!=null&&v(e,["displayName"],r);const t=_(i,["description"]);t!=null&&v(e,["description"],t);const o=_(i,["versionId"]);o!=null&&v(e,["version"],o);const a=_(i,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>o5(m))),v(e,["endpoints"],p)}const l=_(i,["labels"]);l!=null&&v(e,["labels"],l);const c=_(i,["_self"]);c!=null&&v(e,["tunedModelInfo"],uH(c));const d=_(i,["defaultCheckpointId"]);d!=null&&v(e,["defaultCheckpointId"],d);const f=_(i,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),v(e,["checkpoints"],p)}return e}function W5(i){const e={},n=_(i,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=_(i,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const t=_(i,["executableCode"]);t!=null&&v(e,["executableCode"],t);const o=_(i,["fileData"]);o!=null&&v(e,["fileData"],s5(o));const a=_(i,["functionCall"]);a!=null&&v(e,["functionCall"],a5(a));const l=_(i,["functionResponse"]);l!=null&&v(e,["functionResponse"],l);const c=_(i,["inlineData"]);c!=null&&v(e,["inlineData"],D3(c));const d=_(i,["text"]);d!=null&&v(e,["text"],d);const f=_(i,["thought"]);f!=null&&v(e,["thought"],f);const p=_(i,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const m=_(i,["videoMetadata"]);return m!=null&&v(e,["videoMetadata"],m),e}function $5(i){const e={},n=_(i,["productImage"]);return n!=null&&v(e,["image"],Ni(n)),e}function j5(i,e){const n={},r=_(i,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const t=_(i,["baseSteps"]);e!==void 0&&t!=null&&v(e,["parameters","baseSteps"],t);const o=_(i,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const a=_(i,["seed"]);e!==void 0&&a!=null&&v(e,["parameters","seed"],a);const l=_(i,["safetyFilterLevel"]);e!==void 0&&l!=null&&v(e,["parameters","safetySetting"],l);const c=_(i,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const d=_(i,["addWatermark"]);e!==void 0&&d!=null&&v(e,["parameters","addWatermark"],d);const f=_(i,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const p=_(i,["outputCompressionQuality"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","compressionQuality"],p);const m=_(i,["enhancePrompt"]);e!==void 0&&m!=null&&v(e,["parameters","enhancePrompt"],m);const y=_(i,["labels"]);return e!==void 0&&y!=null&&v(e,["labels"],y),n}function J5(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["source"]);t!=null&&X5(t,n);const o=_(e,["config"]);return o!=null&&j5(o,n),n}function Q5(i){const e={},n=_(i,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(t=>hm(t))),v(e,["generatedImages"],r)}return e}function X5(i,e){const n={},r=_(i,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const t=_(i,["personImage"]);e!==void 0&&t!=null&&v(e,["instances[0]","personImage","image"],Ni(t));const o=_(i,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>$5(l))),v(e,["instances[0]","productImages"],a)}return n}function Z5(i){const e={},n=_(i,["referenceImage"]);n!=null&&v(e,["referenceImage"],Ni(n));const r=_(i,["referenceId"]);r!=null&&v(e,["referenceId"],r);const t=_(i,["referenceType"]);t!=null&&v(e,["referenceType"],t);const o=_(i,["maskImageConfig"]);o!=null&&v(e,["maskImageConfig"],K5(o));const a=_(i,["controlImageConfig"]);a!=null&&v(e,["controlImageConfig"],B3(a));const l=_(i,["styleImageConfig"]);l!=null&&v(e,["styleImageConfig"],l);const c=_(i,["subjectImageConfig"]);return c!=null&&v(e,["subjectImageConfig"],c),e}function gD(i){const e={},n=_(i,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=_(i,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const t=_(i,["contentType"]);return t!=null&&v(e,["contentType"],t),e}function yD(i){const e={},n=_(i,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=_(i,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const t=_(i,["contentType"]);return t!=null&&v(e,["contentType"],t),e}function eH(i){const e={},n=_(i,["category"]);if(n!=null&&v(e,["category"],n),_(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=_(i,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function tH(i){const e={},n=_(i,["image"]);return n!=null&&v(e,["image"],Ni(n)),e}function nH(i,e){const n={},r=_(i,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const t=_(i,["maxPredictions"]);e!==void 0&&t!=null&&v(e,["parameters","maxPredictions"],t);const o=_(i,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const a=_(i,["maskDilation"]);e!==void 0&&a!=null&&v(e,["parameters","maskDilation"],a);const l=_(i,["binaryColorThreshold"]);e!==void 0&&l!=null&&v(e,["parameters","binaryColorThreshold"],l);const c=_(i,["labels"]);return e!==void 0&&c!=null&&v(e,["labels"],c),n}function rH(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["source"]);t!=null&&oH(t,n);const o=_(e,["config"]);return o!=null&&nH(o,n),n}function iH(i){const e={},n=_(i,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(t=>R5(t))),v(e,["generatedMasks"],r)}return e}function oH(i,e){const n={},r=_(i,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const t=_(i,["image"]);e!==void 0&&t!=null&&v(e,["instances[0]","image"],Ni(t));const o=_(i,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],tH(o)),n}function sH(i){const e={},n=_(i,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],l5(n));const r=_(i,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function aH(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["functionDeclarations"],f)}if(_(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(i,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const t=_(i,["computerUse"]);t!=null&&v(e,["computerUse"],t);const o=_(i,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=_(i,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),_(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(i,["googleMaps"]);l!=null&&v(e,["googleMaps"],P5(l));const c=_(i,["googleSearch"]);c!=null&&v(e,["googleSearch"],L5(c));const d=_(i,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function _D(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>u5(m))),v(e,["functionDeclarations"],p)}const r=_(i,["retrieval"]);r!=null&&v(e,["retrieval"],r);const t=_(i,["googleSearchRetrieval"]);t!=null&&v(e,["googleSearchRetrieval"],t);const o=_(i,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),_(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=_(i,["codeExecution"]);a!=null&&v(e,["codeExecution"],a);const l=_(i,["enterpriseWebSearch"]);l!=null&&v(e,["enterpriseWebSearch"],l);const c=_(i,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const d=_(i,["googleSearch"]);d!=null&&v(e,["googleSearch"],d);const f=_(i,["urlContext"]);return f!=null&&v(e,["urlContext"],f),e}function lH(i){const e={},n=_(i,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=_(i,["createTime"]);r!=null&&v(e,["createTime"],r);const t=_(i,["updateTime"]);return t!=null&&v(e,["updateTime"],t),e}function uH(i){const e={},n=_(i,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=_(i,["createTime"]);r!=null&&v(e,["createTime"],r);const t=_(i,["updateTime"]);return t!=null&&v(e,["updateTime"],t),e}function cH(i,e){const n={},r=_(i,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const t=_(i,["description"]);e!==void 0&&t!=null&&v(e,["description"],t);const o=_(i,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function dH(i,e){const n={},r=_(i,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const t=_(i,["description"]);e!==void 0&&t!=null&&v(e,["description"],t);const o=_(i,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function fH(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","name"],$t(i,r));const t=_(e,["config"]);return t!=null&&cH(t,n),n}function hH(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["config"]);return t!=null&&dH(t,n),n}function pH(i,e){const n={},r=_(i,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const t=_(i,["safetyFilterLevel"]);e!==void 0&&t!=null&&v(e,["parameters","safetySetting"],t);const o=_(i,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const a=_(i,["includeRaiReason"]);e!==void 0&&a!=null&&v(e,["parameters","includeRaiReason"],a);const l=_(i,["outputMimeType"]);e!==void 0&&l!=null&&v(e,["parameters","outputOptions","mimeType"],l);const c=_(i,["outputCompressionQuality"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","compressionQuality"],c);const d=_(i,["enhanceInputImage"]);e!==void 0&&d!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=_(i,["imagePreservationFactor"]);e!==void 0&&f!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=_(i,["labels"]);e!==void 0&&p!=null&&v(e,["labels"],p);const m=_(i,["numberOfImages"]);e!==void 0&&m!=null&&v(e,["parameters","sampleCount"],m);const y=_(i,["mode"]);return e!==void 0&&y!=null&&v(e,["parameters","mode"],y),n}function mH(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["_url","model"],$t(i,r));const t=_(e,["image"]);t!=null&&v(n,["instances[0]","image"],Ni(t));const o=_(e,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=_(e,["config"]);return a!=null&&pH(a,n),n}function gH(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["predictions"]);if(r!=null){let t=r;Array.isArray(t)&&(t=t.map(o=>hm(o))),v(e,["generatedImages"],t)}return e}function yH(i){const e={},n=_(i,["uri"]);n!=null&&v(e,["uri"],n);const r=_(i,["encodedVideo"]);r!=null&&v(e,["videoBytes"],Ts(r));const t=_(i,["encoding"]);return t!=null&&v(e,["mimeType"],t),e}function _H(i){const e={},n=_(i,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=_(i,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],Ts(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["mimeType"],t),e}function vH(i){const e={},n=_(i,["image"]);n!=null&&v(e,["_self"],Ni(n));const r=_(i,["maskMode"]);return r!=null&&v(e,["maskMode"],r),e}function EH(i){const e={},n=_(i,["image"]);n!=null&&v(e,["image"],pm(n));const r=_(i,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function TH(i){const e={},n=_(i,["image"]);n!=null&&v(e,["image"],Ni(n));const r=_(i,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function vD(i){const e={},n=_(i,["uri"]);n!=null&&v(e,["uri"],n);const r=_(i,["videoBytes"]);r!=null&&v(e,["encodedVideo"],Ts(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["encoding"],t),e}function ED(i){const e={},n=_(i,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=_(i,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],Ts(r));const t=_(i,["mimeType"]);return t!=null&&v(e,["mimeType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wH(i,e){const n={},r=_(i,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function SH(i){const e={},n=_(i,["config"]);return n!=null&&wH(n,e),e}function CH(i,e){const n={},r=_(i,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function AH(i){const e={},n=_(i,["name"]);n!=null&&v(e,["_url","name"],n);const r=_(i,["config"]);return r!=null&&CH(r,e),e}function bH(i){const e={},n=_(i,["name"]);return n!=null&&v(e,["_url","name"],n),e}function IH(i,e){const n={},r=_(i,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["customMetadata"],o)}const t=_(i,["chunkingConfig"]);return e!==void 0&&t!=null&&v(e,["chunkingConfig"],t),n}function NH(i){const e={},n=_(i,["name"]);n!=null&&v(e,["name"],n);const r=_(i,["metadata"]);r!=null&&v(e,["metadata"],r);const t=_(i,["done"]);t!=null&&v(e,["done"],t);const o=_(i,["error"]);o!=null&&v(e,["error"],o);const a=_(i,["response"]);return a!=null&&v(e,["response"],xH(a)),e}function RH(i){const e={},n=_(i,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=_(i,["fileName"]);r!=null&&v(e,["fileName"],r);const t=_(i,["config"]);return t!=null&&IH(t,e),e}function xH(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["parent"]);r!=null&&v(e,["parent"],r);const t=_(i,["documentName"]);return t!=null&&v(e,["documentName"],t),e}function OH(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);return e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),n}function DH(i){const e={},n=_(i,["config"]);return n!=null&&OH(n,e),e}function MH(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["fileSearchStores"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["fileSearchStores"],o)}return e}function TD(i,e){const n={},r=_(i,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const t=_(i,["displayName"]);e!==void 0&&t!=null&&v(e,["displayName"],t);const o=_(i,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),v(e,["customMetadata"],l)}const a=_(i,["chunkingConfig"]);return e!==void 0&&a!=null&&v(e,["chunkingConfig"],a),n}function kH(i){const e={},n=_(i,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=_(i,["config"]);return r!=null&&TD(r,e),e}function PH(i){const e={},n=_(i,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LH="Content-Type",UH="X-Server-Timeout",FH="User-Agent",nv="x-goog-api-client",BH="1.34.0",HH=`google-genai-sdk/${BH}`,qH="v1beta1",VH="v1beta";class YH{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const t={};this.clientOptions.vertexai?(t.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qH,t.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(t.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VH,t.baseUrl="https://generativelanguage.googleapis.com/"),t.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=t,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(t,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const t=[this.getRequestUrlInternal(n)];return r&&t.push(this.getBaseResourcePath()),e!==""&&t.push(e),new URL(`${t.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),t=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))t.searchParams.append(a,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.toString(),e.abortSignal),this.unaryApiCall(t,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[t,o]of Object.entries(n))typeof o=="object"?r[t]=Object.assign(Object.assign({},r[t]),o):o!==void 0&&(r[t]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),t=this.constructUrl(e.path,n,r);(!t.searchParams.has("alt")||t.searchParams.get("alt")!=="sse")&&t.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.toString(),e.abortSignal),this.streamApiCall(t,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,t){if(n&&n.timeout||t){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}t&&t.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&GH(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async t=>(await pI(t),new Q_(t))).catch(t=>{throw t instanceof Error?t:new Error(JSON.stringify(t))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async t=>(await pI(t),this.processStreamResponse(t))).catch(t=>{throw t instanceof Error?t:new Error(JSON.stringify(t))})}processStreamResponse(e){return Ci(this,arguments,function*(){var r;const t=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!t)throw new Error("Response body is empty");try{let a="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield Et(t.read());if(d){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(f,{stream:!0});try{const E=JSON.parse(p);if("error"in E){const T=JSON.parse(JSON.stringify(E.error)),C=T.status,S=T.code,b=`got status: ${C}. ${JSON.stringify(E)}`;if(S>=400&&S<600)throw new dm({message:b,status:S})}}catch(E){if(E.name==="ApiError")throw E}a+=p;let m=-1,y=0;for(;;){m=-1,y=0;for(const C of c){const S=a.indexOf(C);S!==-1&&(m===-1||S<m)&&(m=S,y=C.length)}if(m===-1)break;const E=a.substring(0,m);a=a.substring(m+y);const T=E.trim();if(T.startsWith(l)){const C=T.substring(l.length).trim();try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Et(new Q_(S))}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}}finally{t.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=HH+" "+this.clientOptions.userAgentExtra;return e[FH]=n,e[nv]=n,e[LH]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[t,o]of Object.entries(e.headers))r.append(t,o);e.timeout&&e.timeout>0&&r.append(UH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const t={};n!=null&&(t.mimeType=n.mimeType,t.name=n.name,t.displayName=n.displayName),t.name&&!t.name.startsWith("files/")&&(t.name=`files/${t.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);t.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");t.mimeType=l;const c={file:t},d=this.getFileName(e),f=Xe("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,t.sizeBytes,t.mimeType,d,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var t;const o=this.clientOptions.uploader,a=await o.stat(n),l=String(a.size),c=(t=r==null?void 0:r.mimeType)!==null&&t!==void 0?t:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&TD(r,p);const m=await this.fetchUploadUrl(d,l,c,f,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,t,o,a){var l;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},t?{"X-Goog-Upload-File-Name":t}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function pI(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const n=i.status;let r;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const t=JSON.stringify(r);throw n>=400&&n<600?new dm({message:t,status:n}):new Error(t)}}function GH(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof i.body=="string"&&i.body.length>0)try{const o=JSON.parse(i.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const l=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=a[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}const t=r(n,e);i.body=JSON.stringify(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zH="mcp_used/unknown";let KH=!1;function wD(i){for(const e of i)if(WH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return KH}function SD(i){var e;const n=(e=i[nv])!==null&&e!==void 0?e:"";i[nv]=(n+` ${zH}`).trimStart()}function WH(i){return i!==null&&typeof i=="object"&&i instanceof eE}function $H(i){return Ci(this,arguments,function*(n,r=100){let t,o=0;for(;o<r;){const a=yield Et(n.listTools({cursor:t}));for(const l of a.tools)yield yield Et(l),o++;if(!a.nextCursor)break;t=a.nextCursor}})}class eE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new eE(e,n)}async initialize(){var e,n,r,t;if(this.mcpTools.length>0)return;const o={},a=[];for(const f of this.mcpClients)try{for(var l=!0,c=(n=void 0,Ai($H(f))),d;d=await c.next(),e=d.done,!e;l=!0){t=d.value,l=!1;const p=t;a.push(p);const m=p.name;if(o[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);o[m]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),bB(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const t=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await t.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jH(i,e,n){const r=new _B;let t;n.data instanceof Blob?t=JSON.parse(await n.data.text()):t=JSON.parse(n.data),Object.assign(r,t),e(r)}class JH{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const t=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=ZH(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${t}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(I=>{d=I}),p=e.callbacks,m=function(){d({})},y=this.apiClient,E={onopen:m,onmessage:I=>{jH(y,p.onmessage,I)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,XH(a),E);T.connect(),await f;const b={setup:{model:$t(this.apiClient,e.model)}};return T.send(JSON.stringify(b)),new QH(T,this.apiClient)}}class QH{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=S3(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=w3(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(cl.PLAY)}pause(){this.sendPlaybackControl(cl.PAUSE)}stop(){this.sendPlaybackControl(cl.STOP)}resetContext(){this.sendPlaybackControl(cl.RESET_CONTEXT)}close(){this.conn.close()}}function XH(i){const e={};return i.forEach((n,r)=>{e[r]=n}),e}function ZH(i){const e=new Headers;for(const[n,r]of Object.entries(i))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eq="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tq(i,e,n){const r=new yB;let t;n.data instanceof Blob?t=await n.data.text():n.data instanceof ArrayBuffer?t=new TextDecoder().decode(n.data):t=n.data;const o=JSON.parse(t);if(i.isVertexAI()){const a=b3(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class nq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new JH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,t,o,a,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&wD(e.config.tools)&&SD(p);const m=sq(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const Q=this.apiClient.getApiKey();let j="BidiGenerateContent",Z="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",Z="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${j}?${Z}=${Q}`}let y=()=>{};const E=new Promise(Q=>{y=Q}),T=e.callbacks,C=function(){var Q;(Q=T==null?void 0:T.onopen)===null||Q===void 0||Q.call(T),y({})},S=this.apiClient,b={onopen:C,onmessage:Q=>{tq(S,T.onmessage,Q)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(Q){}},I=this.webSocketFactory.create(f,oq(m),b);I.connect(),await E;let N=$t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const Q=this.apiClient.getProject(),j=this.apiClient.getLocation();N=`projects/${Q}/locations/${j}/`+N}let x={};this.apiClient.isVertexAI()&&((t=e.config)===null||t===void 0?void 0:t.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rp.AUDIO]}:e.config.responseModalities=[Rp.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],F=[];for(const Q of L)if(this.isCallableTool(Q)){const j=Q;F.push(await j.tool())}else F.push(Q);F.length>0&&(e.config.tools=F);const G={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=T3(this.apiClient,G):x=E3(this.apiClient,G),delete x.config,I.send(JSON.stringify(x)),new iq(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rq={turnComplete:!0};class iq{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ri(n.turns),e.isVertexAI()||(r=r.map(t=>fm(t)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(eq)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},rq),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:A3(e)}:n={realtimeInput:C3(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oq(i){const e={};return i.forEach((n,r)=>{e[r]=n}),e}function sq(i){const e=new Headers;for(const[n,r]of Object.entries(i))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mI=10;function gI(i){var e,n,r;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let t=!1;for(const a of(n=i==null?void 0:i.tools)!==null&&n!==void 0?n:[])if(ml(a)){t=!0;break}if(!t)return!0;const o=(r=i==null?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ml(i){return"callTool"in i&&typeof i.callTool=="function"}function aq(i){var e,n,r;return(r=(n=(e=i.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(t=>ml(t)))!==null&&r!==void 0?r:!1}function yI(i){var e;const n=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((r,t)=>{if(ml(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(t)}),n}function _I(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lq extends Do{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,t,o,a,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aq(n)||gI(n.config))return await this.generateContentInternal(c);const d=yI(n);if(d.length>0){const T=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,p;const m=ri(c.contents),y=(o=(t=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||t===void 0?void 0:t.maximumRemoteCalls)!==null&&o!==void 0?o:mI;let E=0;for(;E<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,C=[];for(const S of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(ml(S)){const I=await S.callTool(f.functionCalls);C.push(...I)}E++,p={role:"user",parts:C},c.contents=ri(c.contents),c.contents.push(T),c.contents.push(p),_I(c.config)&&(m.push(T),m.push(p))}return _I(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var r,t,o,a,l;if(this.maybeMoveToResponseJsonSchem(n),gI(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=yI(n);if(c.length>0){const p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(t=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||t===void 0?void 0:t.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(l=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var t;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((t=c==null?void 0:c.safetyAttributes)===null||t===void 0?void 0:t.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let l;return o?l={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new oa(No.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(t=>t.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const t={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(t)},this.generateVideos=async n=>{var r,t,o,a,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((t=n.video)===null||t===void 0)&&t.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,t;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>ml(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&wD(e.config.tools)){const c=(t=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&t!==void 0?t:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),SD(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,t;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ml(a)){const l=a,c=await l.tool();for(const d of(t=c.functionDeclarations)!==null&&t!==void 0?t:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,l)}}return o}async processAfcStream(e){var n,r,t;const o=(t=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&t!==void 0?t:mI;let a=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(d,f,p){return Ci(this,arguments,function*(){for(var m,y,E,T,C,S;l<o;){a&&(l++,a=!1);const x=yield Et(d.processParamsMaybeAddMcpUsage(p)),L=yield Et(d.generateContentStreamInternal(x)),F=[],G=[];try{for(var b=!0,I=(y=void 0,Ai(L)),N;N=yield Et(I.next()),m=N.done,!m;b=!0){T=N.value,b=!1;const Q=T;if(yield yield Et(Q),Q.candidates&&(!((C=Q.candidates[0])===null||C===void 0)&&C.content)){G.push(Q.candidates[0].content);for(const j of(S=Q.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(l<o&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(j.functionCall.name)){const Z=yield Et(f.get(j.functionCall.name).callTool([j.functionCall]));F.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(Q){y={error:Q}}finally{try{!b&&!m&&(E=I.return)&&(yield Et(E.call(I)))}finally{if(y)throw y.error}}if(F.length>0){a=!0;const Q=new Bu;Q.candidates=[{content:{role:"user",parts:F}}],yield yield Et(Q);const j=[];j.push(...G),j.push({role:"user",parts:F});const Z=ri(p.contents).concat(j);p.contents=Z}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=dI(this.apiClient,e);return l=Xe("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=hI(f),m=new Bu;return Object.assign(m,p),m})}else{const d=cI(this.apiClient,e);return l=Xe("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=fI(f),m=new Bu;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=dI(this.apiClient,e);return l=Xe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Ci(this,arguments,function*(){var m,y,E,T;try{for(var C=!0,S=Ai(p),b;b=yield Et(S.next()),m=b.done,!m;C=!0){T=b.value,C=!1;const I=T,N=hI(yield Et(I.json()));N.sdkHttpResponse={headers:I.headers};const x=new Bu;Object.assign(x,N),yield yield Et(x)}}catch(I){y={error:I}}finally{try{!C&&!m&&(E=S.return)&&(yield Et(E.call(S)))}finally{if(y)throw y.error}}})})}else{const d=cI(this.apiClient,e);return l=Xe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Ci(this,arguments,function*(){var m,y,E,T;try{for(var C=!0,S=Ai(p),b;b=yield Et(S.next()),m=b.done,!m;C=!0){T=b.value,C=!1;const I=T,N=fI(yield Et(I.json()));N.sdkHttpResponse={headers:I.headers};const x=new Bu;Object.assign(x,N),yield yield Et(x)}}catch(I){y={error:I}}finally{try{!C&&!m&&(E=S.return)&&(yield Et(E.call(S)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=n5(this.apiClient,e);return l=Xe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=i5(f),m=new Wb;return Object.assign(m,p),m})}else{const d=t5(this.apiClient,e);return l=Xe("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=r5(f),m=new Wb;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=m5(this.apiClient,e);return l=Xe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=y5(f),m=new $b;return Object.assign(m,p),m})}else{const d=p5(this.apiClient,e);return l=Xe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=g5(f),m=new $b;return Object.assign(m,p),m})}}async editImageInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=Q3(this.apiClient,e);return o=Xe("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>{const d=X3(c),f=new sB;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=mH(this.apiClient,e);return o=Xe("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>{const d=gH(c),f=new aB;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=J5(this.apiClient,e);return o=Xe("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=Q5(c),f=new lB;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=rH(this.apiClient,e);return o=Xe("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=iH(c),f=new uB;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=k5(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>tv(f))}else{const d=M5(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>ev(f))}}async listInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=Y5(this.apiClient,e);return l=Xe("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=z5(f),m=new jb;return Object.assign(m,p),m})}else{const d=V5(this.apiClient,e);return l=Xe("{models_url}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=G5(f),m=new jb;return Object.assign(m,p),m})}}async update(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=hH(this.apiClient,e);return l=Xe("{model}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>tv(f))}else{const d=fH(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>ev(f))}}async delete(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=W3(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=j3(f),m=new Jb;return Object.assign(m,p),m})}else{const d=K3(this.apiClient,e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=$3(f),m=new Jb;return Object.assign(m,p),m})}}async countTokens(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=Y3(this.apiClient,e);return l=Xe("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=z3(f),m=new Qb;return Object.assign(m,p),m})}else{const d=V3(this.apiClient,e);return l=Xe("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=G3(f),m=new Qb;return Object.assign(m,p),m})}}async computeTokens(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=P3(this.apiClient,e);return o=Xe("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>{const d=L3(c),f=new cB;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=S5(this.apiClient,e);return l=Xe("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=T5(f),m=new xp;return Object.assign(m,p),m})}else{const d=w5(this.apiClient,e);return l=Xe("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=E5(f),m=new xp;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uq extends Do{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const t=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:t,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const t=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:t,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const t=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:t,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const t=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:t,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=eB(e);return l=Xe("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else{const d=ZF(e);return l=Xe("{operationName}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=KF(e);return o=Xe("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cq(i){const e={},n=_(i,["data"]);if(n!=null&&v(e,["data"],n),_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function dq(i){const e={},n=_(i,["parts"]);if(n!=null){let t=n;Array.isArray(t)&&(t=t.map(o=>Eq(o))),v(e,["parts"],t)}const r=_(i,["role"]);return r!=null&&v(e,["role"],r),e}function fq(i,e,n){const r={},t=_(e,["expireTime"]);n!==void 0&&t!=null&&v(n,["expireTime"],t);const o=_(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const a=_(e,["uses"]);n!==void 0&&a!=null&&v(n,["uses"],a);const l=_(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&v(n,["bidiGenerateContentSetup"],vq(i,l));const c=_(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function hq(i,e){const n={},r=_(e,["config"]);return r!=null&&v(n,["config"],fq(i,r,n)),n}function pq(i){const e={};if(_(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(i,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=_(i,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function mq(i){const e={},n=_(i,["id"]);n!=null&&v(e,["id"],n);const r=_(i,["args"]);r!=null&&v(e,["args"],r);const t=_(i,["name"]);if(t!=null&&v(e,["name"],t),_(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gq(i){const e={};if(_(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(i,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function yq(i){const e={};if(_(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(i,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function _q(i,e){const n={},r=_(i,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const t=_(i,["responseModalities"]);e!==void 0&&t!=null&&v(e,["setup","generationConfig","responseModalities"],t);const o=_(i,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const a=_(i,["topP"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topP"],a);const l=_(i,["topK"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","topK"],l);const c=_(i,["maxOutputTokens"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","maxOutputTokens"],c);const d=_(i,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const f=_(i,["seed"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","seed"],f);const p=_(i,["speechConfig"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","speechConfig"],Zv(p));const m=_(i,["thinkingConfig"]);e!==void 0&&m!=null&&v(e,["setup","generationConfig","thinkingConfig"],m);const y=_(i,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=_(i,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],dq(er(E)));const T=_(i,["tools"]);if(e!==void 0&&T!=null){let L=Pl(T);Array.isArray(L)&&(L=L.map(F=>wq(kl(F)))),v(e,["setup","tools"],L)}const C=_(i,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],Tq(C));const S=_(i,["inputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","inputAudioTranscription"],S);const b=_(i,["outputAudioTranscription"]);e!==void 0&&b!=null&&v(e,["setup","outputAudioTranscription"],b);const I=_(i,["realtimeInputConfig"]);e!==void 0&&I!=null&&v(e,["setup","realtimeInputConfig"],I);const N=_(i,["contextWindowCompression"]);e!==void 0&&N!=null&&v(e,["setup","contextWindowCompression"],N);const x=_(i,["proactivity"]);if(e!==void 0&&x!=null&&v(e,["setup","proactivity"],x),_(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function vq(i,e){const n={},r=_(e,["model"]);r!=null&&v(n,["setup","model"],$t(i,r));const t=_(e,["config"]);return t!=null&&v(n,["config"],_q(t,n)),n}function Eq(i){const e={},n=_(i,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=_(i,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const t=_(i,["executableCode"]);t!=null&&v(e,["executableCode"],t);const o=_(i,["fileData"]);o!=null&&v(e,["fileData"],pq(o));const a=_(i,["functionCall"]);a!=null&&v(e,["functionCall"],mq(a));const l=_(i,["functionResponse"]);l!=null&&v(e,["functionResponse"],l);const c=_(i,["inlineData"]);c!=null&&v(e,["inlineData"],cq(c));const d=_(i,["text"]);d!=null&&v(e,["text"],d);const f=_(i,["thought"]);f!=null&&v(e,["thought"],f);const p=_(i,["thoughtSignature"]);p!=null&&v(e,["thoughtSignature"],p);const m=_(i,["videoMetadata"]);return m!=null&&v(e,["videoMetadata"],m),e}function Tq(i){const e={},n=_(i,["handle"]);if(n!=null&&v(e,["handle"],n),_(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wq(i){const e={},n=_(i,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["functionDeclarations"],f)}if(_(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(i,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const t=_(i,["computerUse"]);t!=null&&v(e,["computerUse"],t);const o=_(i,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const a=_(i,["codeExecution"]);if(a!=null&&v(e,["codeExecution"],a),_(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=_(i,["googleMaps"]);l!=null&&v(e,["googleMaps"],gq(l));const c=_(i,["googleSearch"]);c!=null&&v(e,["googleSearch"],yq(c));const d=_(i,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sq(i){const e=[];for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){const r=i[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const t=Object.keys(r).map(o=>`${n}.${o}`);e.push(...t)}else e.push(n)}return e.join(",")}function Cq(i,e){let n=null;const r=i.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(i.bidiGenerateContentSetup=o,n=o):delete i.bidiGenerateContentSetup}else r!==void 0&&delete i.bidiGenerateContentSetup;const t=i.fieldMask;if(n){const o=Sq(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?i.fieldMask=o:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&t!==null&&Array.isArray(t)&&t.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];t.length>0&&(l=t.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),l.length>0&&c.push(...l),c.length>0?i.fieldMask=c.join(","):delete i.fieldMask}else delete i.fieldMask}else t!==null&&Array.isArray(t)&&t.length>0?i.fieldMask=t.join(","):delete i.fieldMask;return i}class Aq extends Do{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=hq(this.apiClient,e);o=Xe("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const c=Cq(l,e.config);return t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),t.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bq(i,e){const n={},r=_(i,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Iq(i){const e={},n=_(i,["name"]);n!=null&&v(e,["_url","name"],n);const r=_(i,["config"]);return r!=null&&bq(r,e),e}function Nq(i){const e={},n=_(i,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Rq(i,e){const n={},r=_(i,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const t=_(i,["pageToken"]);return e!==void 0&&t!=null&&v(e,["_query","pageToken"],t),n}function xq(i){const e={},n=_(i,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=_(i,["config"]);return r!=null&&Rq(r,e),e}function Oq(i){const e={},n=_(i,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=_(i,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const t=_(i,["documents"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(a=>a)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dq extends Do{constructor(e){super(),this.apiClient=e,this.list=async n=>new oa(No.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Nq(e);return o=Xe("{name}",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>c)}}async delete(e){var n,r;let t="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Iq(e);t=Xe("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:t,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xq(e);return o=Xe("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=Oq(c),f=new dB;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mq extends Do{constructor(e,n=new Dq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new oa(No.PAGED_ITEM_FILE_SEARCH_STORES,t=>this.listInternal(t),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SH(e);return o=Xe("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>c)}}async get(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=bH(e);return o=Xe("{name}",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>c)}}async delete(e){var n,r;let t="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AH(e);t=Xe("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:t,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=DH(e);return o=Xe("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=MH(c),f=new fB;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kH(e);return o=Xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=PH(c),f=new hB;return Object.assign(f,d),f})}}async importFile(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RH(e);return o=Xe("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),t.then(c=>{const d=NH(c),f=new $v;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CD=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return CD=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),n=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const kq=()=>CD();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const iv=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class si extends Error{}class dr extends si{constructor(e,n,r,t){super(`${dr.makeMessage(e,n,r)}`),this.status=e,this.headers=t,this.error=n}static makeMessage(e,n,r){const t=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&t?`${e} ${t}`:e?`${e} status code (no body)`:t||"(no status code or body)"}static generate(e,n,r,t){if(!e||!t)return new mm({message:r,cause:iv(n)});const o=n;return e===400?new bD(e,o,r,t):e===401?new ID(e,o,r,t):e===403?new ND(e,o,r,t):e===404?new RD(e,o,r,t):e===409?new xD(e,o,r,t):e===422?new OD(e,o,r,t):e===429?new DD(e,o,r,t):e>=500?new MD(e,o,r,t):new dr(e,o,r,t)}}class ov extends dr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class mm extends dr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class AD extends mm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class bD extends dr{}let ID=class extends dr{};class ND extends dr{}class RD extends dr{}class xD extends dr{}class OD extends dr{}class DD extends dr{}class MD extends dr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pq=/^[a-z][a-z0-9+.-]*:/i,Lq=i=>Pq.test(i);let sv=i=>(sv=Array.isArray,sv(i));const Uq=sv;let Fq=Uq;const vI=Fq;function Bq(i){if(!i)return!0;for(const e in i)return!1;return!0}function Hq(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const qq=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new si(`${i} must be an integer`);if(e<0)throw new si(`${i} must be a positive integer`);return e},Vq=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yq=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const il="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zq=()=>{var i,e,n,r,t;const o=Gq();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":TI(Deno.build.os),"X-Stainless-Arch":EI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":TI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":EI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(t=globalThis.process.version)!==null&&t!==void 0?t:"unknown"};const a=Kq();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Kq(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of i){const r=n.exec(navigator.userAgent);if(r){const t=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${t}.${o}.${a}`}}}return null}const EI=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",TI=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let sf;const Wq=()=>sf??(sf=zq());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $q(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kD(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function jq(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return kD({start(){},async pull(n){const{done:r,value:t}=await e.next();r?n.close():n.enqueue(t)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function PD(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Jq(i){var e,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(e=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=i.getReader(),t=r.cancel();r.releaseLock(),await t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qq=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LD=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function h0(i,e,n){return LD(),new File(i,e??"unknown_file",n)}function Xq(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Zq=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",e9=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&UD(i),t9=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function n9(i,e,n){if(LD(),i=await i,e9(i))return i instanceof File?i:h0([await i.arrayBuffer()],i.name);if(t9(i)){const t=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),h0(await av(t),e,n)}const r=await av(i);if(e||(e=Xq(i)),!(n!=null&&n.type)){const t=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof t=="string"&&(n=Object.assign(Object.assign({},n),{type:t}))}return h0(r,e,n)}async function av(i){var e,n,r,t,o;let a=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)a.push(i);else if(UD(i))a.push(i instanceof Blob?i:await i.arrayBuffer());else if(Zq(i))try{for(var l=!0,c=Ai(i),d;d=await c.next(),e=d.done,!e;l=!0){t=d.value,l=!1;const f=t;a.push(...await av(f))}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const f=(o=i==null?void 0:i.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof i}${f?`; constructor: ${f}`:""}${r9(i)}`)}return a}function r9(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FD{constructor(e){this._client=e}}FD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BD(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wI=Object.freeze(Object.create(null)),i9=(i=BD)=>(function(n,...r){if(n.length===1)return n[0];let t=!1;const o=[],a=n.reduce((f,p,m)=>{var y,E,T;/[?#]/.test(p)&&(t=!0);const C=r[m];let S=(t?encodeURIComponent:i)(""+C);return m!==r.length&&(C==null||typeof C=="object"&&C.toString===((T=Object.getPrototypeOf((E=Object.getPrototypeOf((y=C.hasOwnProperty)!==null&&y!==void 0?y:wI))!==null&&E!==void 0?E:wI))===null||T===void 0?void 0:T.toString))&&(S=C+"",o.push({start:f.length+p.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),f+p+(m===r.length?"":S)},""),l=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(l))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((f,p)=>f.start-p.start),o.length>0){let f=0;const p=o.reduce((m,y)=>{const E=" ".repeat(y.start-f),T="^".repeat(y.length);return f=y.start+y.length,m+E+T},"");throw new si(`Path parameters result in path with invalid segments:
${o.map(m=>m.error).join(`
`)}
${a}
${p}`)}return a}),af=i9(BD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HD extends FD{create(e,n){var r;const{api_version:t=this._client.apiVersion}=e,o=Dp(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new si("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new si("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(af`/${t}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:t=this._client.apiVersion}=n??{};return this._client.delete(af`/${t}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:t=this._client.apiVersion}=n??{};return this._client.post(af`/${t}/interactions/${e}/cancel`,r)}get(e,n={},r){var t;const o=n??{},{api_version:a=this._client.apiVersion}=o,l=Dp(o,["api_version"]);return this._client.get(af`/${a}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(t=n==null?void 0:n.stream)!==null&&t!==void 0?t:!1}))}}HD._key=Object.freeze(["interactions"]);class qD extends HD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o9(i){let e=0;for(const t of i)e+=t.length;const n=new Uint8Array(e);let r=0;for(const t of i)n.set(t,r),r+=t.length;return n}let lf;function tE(i){let e;return(lf??(e=new globalThis.TextEncoder,lf=e.encode.bind(e)))(i)}let uf;function SI(i){let e;return(uf??(e=new globalThis.TextDecoder,uf=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?tE(e):e;this.buffer=o9([this.buffer,n]);const r=[];let t;for(;(t=s9(this.buffer,this.carriageReturnIndex))!=null;){if(t.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=t.index;continue}if(this.carriageReturnIndex!=null&&(t.index!==this.carriageReturnIndex+1||t.carriage)){r.push(SI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?t.preceding-1:t.preceding,a=SI(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(t.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}gm.NEWLINE_CHARS=new Set([`
`,"\r"]);gm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function s9(i,e){for(let t=e??0;t<i.length;t++){if(i[t]===10)return{preceding:t,index:t+1,carriage:!1};if(i[t]===13)return{preceding:t,index:t+1,carriage:!0}}return null}function a9(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mp={off:0,error:200,warn:300,info:400,debug:500},CI=(i,e,n)=>{if(i){if(Hq(Mp,i))return i;or(n).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Mp))}`)}};function rc(){}function cf(i,e,n){return!e||Mp[i]>Mp[n]?rc:e[i].bind(e)}const l9={error:rc,warn:rc,info:rc,debug:rc};let AI=new WeakMap;function or(i){var e;const n=i.logger,r=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!n)return l9;const t=AI.get(n);if(t&&t[0]===r)return t[1];const o={error:cf("error",n,r),warn:cf("warn",n,r),info:cf("info",n,r),debug:cf("debug",n,r)};return AI.set(n,[r,o]),o}const Ks=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let t=!1;const o=r?or(r):console;function a(){return Ci(this,arguments,function*(){var c,d,f,p;if(t)throw new si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");t=!0;let m=!1;try{try{for(var y=!0,E=Ai(u9(e,n)),T;T=yield Et(E.next()),c=T.done,!c;y=!0){p=T.value,y=!1;const C=p;if(!m)if(C.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield Et(JSON.parse(C.data))}catch(S){throw o.error("Could not parse message into JSON:",C.data),o.error("From chunk:",C.raw),S}}}catch(C){d={error:C}}finally{try{!y&&!c&&(f=E.return)&&(yield Et(f.call(E)))}finally{if(d)throw d.error}}m=!0}catch(C){if(rv(C))return yield Et(void 0);throw C}finally{m||n.abort()}})}return new dl(a,n,r)}static fromReadableStream(e,n,r){let t=!1;function o(){return Ci(this,arguments,function*(){var c,d,f,p;const m=new gm,y=PD(e);try{for(var E=!0,T=Ai(y),C;C=yield Et(T.next()),c=C.done,!c;E=!0){p=C.value,E=!1;const S=p;for(const b of m.decode(S))yield yield Et(b)}}catch(S){d={error:S}}finally{try{!E&&!c&&(f=T.return)&&(yield Et(f.call(T)))}finally{if(d)throw d.error}}for(const S of m.flush())yield yield Et(S)})}function a(){return Ci(this,arguments,function*(){var c,d,f,p;if(t)throw new si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");t=!0;let m=!1;try{try{for(var y=!0,E=Ai(o()),T;T=yield Et(E.next()),c=T.done,!c;y=!0){p=T.value,y=!1;const C=p;m||C&&(yield yield Et(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!y&&!c&&(f=E.return)&&(yield Et(f.call(E)))}finally{if(d)throw d.error}}m=!0}catch(C){if(rv(C))return yield Et(void 0);throw C}finally{m||n.abort()}})}return new dl(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),t=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new dl(()=>t(e),this.controller,this.client),new dl(()=>t(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return kD({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:t,done:o}=await n.next();if(o)return r.close();const a=tE(JSON.stringify(t)+`
`);r.enqueue(a)}catch(t){r.error(t)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function u9(i,e){return Ci(this,arguments,function*(){var r,t,o,a;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new si("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new si("Attempted to iterate over a response with no body");const l=new d9,c=new gm,d=PD(i.body);try{for(var f=!0,p=Ai(c9(d)),m;m=yield Et(p.next()),r=m.done,!r;f=!0){a=m.value,f=!1;const y=a;for(const E of c.decode(y)){const T=l.decode(E);T&&(yield yield Et(T))}}}catch(y){t={error:y}}finally{try{!f&&!r&&(o=p.return)&&(yield Et(o.call(p)))}finally{if(t)throw t.error}}for(const y of c.flush()){const E=l.decode(y);E&&(yield yield Et(E))}})}function c9(i){return Ci(this,arguments,function*(){var n,r,t,o;let a=new Uint8Array;try{for(var l=!0,c=Ai(i),d;d=yield Et(c.next()),n=d.done,!n;l=!0){o=d.value,l=!1;const f=o;if(f==null)continue;const p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?tE(f):f;let m=new Uint8Array(a.length+p.length);m.set(a),m.set(p,a.length),a=m;let y;for(;(y=a9(a))!==-1;)yield yield Et(a.slice(0,y)),a=a.slice(y)}}catch(f){r={error:f}}finally{try{!l&&!n&&(t=c.return)&&(yield Et(t.call(c)))}finally{if(r)throw r.error}}a.length>0&&(yield yield Et(a))})}class d9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,t]=f9(e,":");return t.startsWith(" ")&&(t=t.substring(1)),n==="event"?this.event=t:n==="data"&&this.data.push(t),null}}function f9(i,e){const n=i.indexOf(e);return n!==-1?[i.substring(0,n),e,i.substring(n+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function h9(i,e){const{response:n,requestLogID:r,retryOfRequestLogID:t,startTime:o}=e,a=await(async()=>{var l;if(e.options.stream)return or(i).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,i):dl.fromSSEResponse(n,e.controller,i);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return or(i).debug(`[${r}] response parsed`,Ks({retryOfRequestLogID:t,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nE extends Promise{constructor(e,n,r=h9){super(t=>{t(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new nE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VD=Symbol("brand.privateNullableHeaders");function*p9(i){if(!i)return;if(VD in i){const{values:r,nulls:t}=i;yield*r.entries();for(const o of t)yield[o,null];return}let e=!1,n;i instanceof Headers?n=i.entries():vI(i)?n=i:(e=!0,n=Object.entries(i??{}));for(let r of n){const t=r[0];if(typeof t!="string")throw new TypeError("expected header name to be a string");const o=vI(r[1])?r[1]:[r[1]];let a=!1;for(const l of o)l!==void 0&&(e&&!a&&(a=!0,yield[t,null]),yield[t,l])}}const Hu=i=>{const e=new Headers,n=new Set;for(const r of i){const t=new Set;for(const[o,a]of p9(r)){const l=o.toLowerCase();t.has(l)||(e.delete(o),t.add(l)),a===null?(e.delete(o),n.add(l)):(e.append(o,a),n.delete(l))}}return{[VD]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p0=i=>{var e,n,r,t,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=HF)===null||e===void 0?void 0:e[i])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(t=globalThis.Deno.env)===null||t===void 0?void 0:t.get)===null||o===void 0?void 0:o.call(t,i))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YD;class ym{constructor(e){var n,r,t,o,a,l,c,{baseURL:d=p0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=p0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,m=Dp(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:f,apiVersion:p},m),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:ym.DEFAULT_TIMEOUT,this.logger=(t=y.logger)!==null&&t!==void 0?t:console;const E="warn";this.logLevel=E,this.logLevel=(a=(o=CI(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:CI(p0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:E,this.fetchOptions=y.fetchOptions,this.maxRetries=(l=y.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:$q(),this.encoder=Qq,this._options=y,this.apiKey=f,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Hu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Hu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Hu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new si(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${il}`}defaultIdempotencyKey(){return`stainless-node-retry-${kq()}`}makeStatusError(e,n,r,t){return dr.generate(e,n,r,t)}buildURL(e,n,r){const t=!this.baseURLOverridden()&&r||this.baseURL,o=Lq(e)?new URL(e):new URL(t+(t.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Bq(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(t=>Object.assign({method:e,path:n},t)))}request(e,n=null){return new nE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var t,o,a;const l=await e,c=(t=l.maxRetries)!==null&&t!==void 0?t:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:d,url:f,timeout:p}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:l});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(or(this).debug(`[${m}] sending request`,Ks({retryOfRequestLogID:r,method:l.method,url:f,options:l,headers:d.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new ov;const T=new AbortController,C=await this.fetchWithTimeout(f,d,p,T).catch(iv),S=Date.now();if(C instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((a=l.signal)===null||a===void 0)&&a.aborted)throw new ov;const N=rv(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return or(this).info(`[${m}] connection ${N?"timed out":"failed"} - ${I}`),or(this).debug(`[${m}] connection ${N?"timed out":"failed"} (${I})`,Ks({retryOfRequestLogID:r,url:f,durationMs:S-E,message:C.message})),this.retryRequest(l,n,r??m);throw or(this).info(`[${m}] connection ${N?"timed out":"failed"} - error; no more retries left`),or(this).debug(`[${m}] connection ${N?"timed out":"failed"} (error; no more retries left)`,Ks({retryOfRequestLogID:r,url:f,durationMs:S-E,message:C.message})),N?new AD:new mm({cause:C})}const b=`[${m}${y}] ${d.method} ${f} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${S-E}ms`;if(!C.ok){const I=await this.shouldRetry(C);if(n&&I){const Q=`retrying, ${n} attempts remaining`;return await Jq(C.body),or(this).info(`${b} - ${Q}`),or(this).debug(`[${m}] response error (${Q})`,Ks({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:S-E})),this.retryRequest(l,n,r??m,C.headers)}const N=I?"error; no more retries left":"error; not retryable";or(this).info(`${b} - ${N}`);const x=await C.text().catch(Q=>iv(Q).message),L=Vq(x),F=L?void 0:x;throw or(this).debug(`[${m}] response error (${N})`,Ks({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:F,durationMs:Date.now()-E})),this.makeStatusError(C.status,L,F,C.headers)}return or(this).info(b),or(this).debug(`[${m}] response start`,Ks({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:S-E})),{response:C,options:l,controller:T,requestLogID:m,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(e,n,r,t){const o=n||{},{signal:a,method:l}=o,c=Dp(o,["signal","method"]);a&&a.addEventListener("abort",()=>t.abort());const d=setTimeout(()=>t.abort(),r),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:t.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);l&&(p.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,t){var o;let a;const l=t==null?void 0:t.get("retry-after-ms");if(l){const d=parseFloat(l);Number.isNaN(d)||(a=d)}const c=t==null?void 0:t.get("retry-after");if(c&&!a){const d=parseFloat(c);Number.isNaN(d)?a=Date.parse(c)-Date.now():a=d*1e3}if(!(a&&0<=a&&a<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Yq(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,t,o;const a=Object.assign({},e),{method:l,path:c,query:d,defaultBaseURL:f}=a,p=this.buildURL(c,d,f);"timeout"in a&&qq("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:a}),E=await this.buildHeaders({options:e,method:l,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:E},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(t=this.fetchOptions)!==null&&t!==void 0?t:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:t}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let l=Hu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(t)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Wq()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Hu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jq(e)}:this.encoder({body:e,headers:r})}}ym.DEFAULT_TIMEOUT=6e4;class qn extends ym{constructor(){super(...arguments),this.interactions=new qD(this)}}YD=qn;qn.GeminiNextGenAPIClient=YD;qn.GeminiNextGenAPIClientError=si;qn.APIError=dr;qn.APIConnectionError=mm;qn.APIConnectionTimeoutError=AD;qn.APIUserAbortError=ov;qn.NotFoundError=RD;qn.ConflictError=xD;qn.RateLimitError=DD;qn.BadRequestError=bD;qn.AuthenticationError=ID;qn.InternalServerError=MD;qn.PermissionDeniedError=ND;qn.UnprocessableEntityError=OD;qn.toFile=n9;qn.Interactions=qD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m9(i,e){const n={},r=_(i,["name"]);return r!=null&&v(n,["_url","name"],r),n}function g9(i,e){const n={},r=_(i,["name"]);return r!=null&&v(n,["_url","name"],r),n}function y9(i,e){const n={},r=_(i,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function _9(i,e){const n={},r=_(i,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function v9(i,e,n){const r={};if(_(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const t=_(i,["tunedModelDisplayName"]);if(e!==void 0&&t!=null&&v(e,["displayName"],t),_(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=_(i,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const a=_(i,["learningRateMultiplier"]);if(a!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),_(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(_(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(_(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=_(i,["batchSize"]);e!==void 0&&l!=null&&v(e,["tuningTask","hyperparameters","batchSize"],l);const c=_(i,["learningRate"]);if(e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","learningRate"],c),_(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(_(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function E9(i,e,n){const r={};let t=_(n,["config","method"]);if(t===void 0&&(t="SUPERVISED_FINE_TUNING"),t==="SUPERVISED_FINE_TUNING"){const y=_(i,["validationDataset"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec"],bI(y))}else if(t==="PREFERENCE_TUNING"){const y=_(i,["validationDataset"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec"],bI(y))}const o=_(i,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const a=_(i,["description"]);e!==void 0&&a!=null&&v(e,["description"],a);let l=_(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=_(i,["epochCount"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){const y=_(i,["epochCount"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=_(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=_(i,["learningRateMultiplier"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=_(i,["learningRateMultiplier"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=_(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=_(i,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=_(i,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=_(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=_(i,["adapterSize"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=_(i,["adapterSize"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(_(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(_(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=_(i,["labels"]);e!==void 0&&p!=null&&v(e,["labels"],p);const m=_(i,["beta"]);return e!==void 0&&m!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function T9(i,e){const n={},r=_(i,["baseModel"]);r!=null&&v(n,["baseModel"],r);const t=_(i,["preTunedModel"]);t!=null&&v(n,["preTunedModel"],t);const o=_(i,["trainingDataset"]);o!=null&&D9(o);const a=_(i,["config"]);return a!=null&&v9(a,n),n}function w9(i,e){const n={},r=_(i,["baseModel"]);r!=null&&v(n,["baseModel"],r);const t=_(i,["preTunedModel"]);t!=null&&v(n,["preTunedModel"],t);const o=_(i,["trainingDataset"]);o!=null&&M9(o,n,e);const a=_(i,["config"]);return a!=null&&E9(a,n,e),n}function S9(i,e){const n={},r=_(i,["name"]);return r!=null&&v(n,["_url","name"],r),n}function C9(i,e){const n={},r=_(i,["name"]);return r!=null&&v(n,["_url","name"],r),n}function A9(i,e,n){const r={},t=_(i,["pageSize"]);e!==void 0&&t!=null&&v(e,["_query","pageSize"],t);const o=_(i,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=_(i,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function b9(i,e,n){const r={},t=_(i,["pageSize"]);e!==void 0&&t!=null&&v(e,["_query","pageSize"],t);const o=_(i,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const a=_(i,["filter"]);return e!==void 0&&a!=null&&v(e,["_query","filter"],a),r}function I9(i,e){const n={},r=_(i,["config"]);return r!=null&&A9(r,n),n}function N9(i,e){const n={},r=_(i,["config"]);return r!=null&&b9(r,n),n}function R9(i,e){const n={},r=_(i,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const t=_(i,["nextPageToken"]);t!=null&&v(n,["nextPageToken"],t);const o=_(i,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>GD(l))),v(n,["tuningJobs"],a)}return n}function x9(i,e){const n={},r=_(i,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const t=_(i,["nextPageToken"]);t!=null&&v(n,["nextPageToken"],t);const o=_(i,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>lv(l))),v(n,["tuningJobs"],a)}return n}function O9(i,e){const n={},r=_(i,["name"]);r!=null&&v(n,["model"],r);const t=_(i,["name"]);return t!=null&&v(n,["endpoint"],t),n}function D9(i,e){const n={};if(_(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=_(i,["examples"]);if(r!=null){let t=r;Array.isArray(t)&&(t=t.map(o=>o)),v(n,["examples","examples"],t)}return n}function M9(i,e,n){const r={};let t=_(n,["config","method"]);if(t===void 0&&(t="SUPERVISED_FINE_TUNING"),t==="SUPERVISED_FINE_TUNING"){const a=_(i,["gcsUri"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(t==="PREFERENCE_TUNING"){const a=_(i,["gcsUri"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=_(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=_(i,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=_(i,["vertexDatasetResource"]);e!==void 0&&a!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(_(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function GD(i,e){const n={},r=_(i,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const t=_(i,["name"]);t!=null&&v(n,["name"],t);const o=_(i,["state"]);o!=null&&v(n,["state"],sD(o));const a=_(i,["createTime"]);a!=null&&v(n,["createTime"],a);const l=_(i,["tuningTask","startTime"]);l!=null&&v(n,["startTime"],l);const c=_(i,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const d=_(i,["updateTime"]);d!=null&&v(n,["updateTime"],d);const f=_(i,["description"]);f!=null&&v(n,["description"],f);const p=_(i,["baseModel"]);p!=null&&v(n,["baseModel"],p);const m=_(i,["_self"]);return m!=null&&v(n,["tunedModel"],O9(m)),n}function lv(i,e){const n={},r=_(i,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const t=_(i,["name"]);t!=null&&v(n,["name"],t);const o=_(i,["state"]);o!=null&&v(n,["state"],sD(o));const a=_(i,["createTime"]);a!=null&&v(n,["createTime"],a);const l=_(i,["startTime"]);l!=null&&v(n,["startTime"],l);const c=_(i,["endTime"]);c!=null&&v(n,["endTime"],c);const d=_(i,["updateTime"]);d!=null&&v(n,["updateTime"],d);const f=_(i,["error"]);f!=null&&v(n,["error"],f);const p=_(i,["description"]);p!=null&&v(n,["description"],p);const m=_(i,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=_(i,["tunedModel"]);y!=null&&v(n,["tunedModel"],y);const E=_(i,["preTunedModel"]);E!=null&&v(n,["preTunedModel"],E);const T=_(i,["supervisedTuningSpec"]);T!=null&&v(n,["supervisedTuningSpec"],T);const C=_(i,["preferenceOptimizationSpec"]);C!=null&&v(n,["preferenceOptimizationSpec"],C);const S=_(i,["tuningDataStats"]);S!=null&&v(n,["tuningDataStats"],S);const b=_(i,["encryptionSpec"]);b!=null&&v(n,["encryptionSpec"],b);const I=_(i,["partnerModelTuningSpec"]);I!=null&&v(n,["partnerModelTuningSpec"],I);const N=_(i,["customBaseModel"]);N!=null&&v(n,["customBaseModel"],N);const x=_(i,["experiment"]);x!=null&&v(n,["experiment"],x);const L=_(i,["labels"]);L!=null&&v(n,["labels"],L);const F=_(i,["outputUri"]);F!=null&&v(n,["outputUri"],F);const G=_(i,["pipelineJob"]);G!=null&&v(n,["pipelineJob"],G);const Q=_(i,["serviceAccount"]);Q!=null&&v(n,["serviceAccount"],Q);const j=_(i,["tunedModelDisplayName"]);j!=null&&v(n,["tunedModelDisplayName"],j);const Z=_(i,["veoTuningSpec"]);return Z!=null&&v(n,["veoTuningSpec"],Z),n}function k9(i,e){const n={},r=_(i,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const t=_(i,["name"]);t!=null&&v(n,["name"],t);const o=_(i,["metadata"]);o!=null&&v(n,["metadata"],o);const a=_(i,["done"]);a!=null&&v(n,["done"],a);const l=_(i,["error"]);return l!=null&&v(n,["error"],l),n}function bI(i,e){const n={},r=_(i,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const t=_(i,["vertexDatasetResource"]);return t!=null&&v(n,["validationDatasetUri"],t),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P9 extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new oa(No.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const t={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(t.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:t});return o.baseModel=void 0,await this.tuneInternal(o)}else{const t=Object.assign({},n);return await this.tuneInternal(t)}else{const t=Object.assign({},n),o=await this.tuneMldevInternal(t);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:J_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=C9(e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>lv(f))}else{const d=S9(e);return l=Xe("{name}",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>GD(f))}}async listInternal(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=N9(e);return l=Xe("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=x9(f),m=new Xb;return Object.assign(m,p),m})}else{const d=I9(e);return l=Xe("tunedModels",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=R9(f),m=new Xb;return Object.assign(m,p),m})}}async cancel(e){var n,r,t,o;let a,l="",c={};if(this.apiClient.isVertexAI()){const d=g9(e);return l=Xe("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=_9(f),m=new Zb;return Object.assign(m,p),m})}else{const d=m9(e);return l=Xe("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=y9(f),m=new Zb;return Object.assign(m,p),m})}}async tuneInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI()){const l=w9(e,e);return o=Xe("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>lv(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let t,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=T9(e);return o=Xe("tunedModels",l._url),a=l._query,delete l._url,delete l._query,t=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),t.then(c=>k9(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L9{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const U9=1024*1024*8,F9=3,B9=1e3,H9=2,kp="x-goog-upload-status";async function q9(i,e,n){var r;const t=await zD(i,e,n),o=await(t==null?void 0:t.json());if(((r=t==null?void 0:t.headers)===null||r===void 0?void 0:r[kp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function V9(i,e,n){var r;const t=await zD(i,e,n),o=await(t==null?void 0:t.json());if(((r=t==null?void 0:t.headers)===null||r===void 0?void 0:r[kp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=eD(o),l=new jv;return Object.assign(l,a),l}async function zD(i,e,n){var r,t;let o=0,a=0,l=new Q_(new Response),c="upload";for(o=i.size;a<o;){const d=Math.min(U9,o-a),f=i.slice(a,a+d);a+d>=o&&(c+=", finalize");let p=0,m=B9;for(;p<F9&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[kp]));)p++,await G9(m),m=m*H9;if(a+=d,((t=l==null?void 0:l.headers)===null||t===void 0?void 0:t[kp])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Y9(i){return{size:i.size,type:i.type}}function G9(i){return new Promise(e=>setTimeout(e,i))}class z9{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await q9(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V9(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Y9(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K9{create(e,n,r){return new W9(e,n,r)}}class W9{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const II="x-goog-api-key";class $9{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(II)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(II,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j9="gl-node/";class J9{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new qn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=GF(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const t=new $9(this.apiKey);this.apiClient=new YH({auth:t,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:j9+"web",uploader:new z9,downloader:new L9}),this.models=new lq(this.apiClient),this.live=new nq(this.apiClient,t,new K9),this.batches=new v6(this.apiClient),this.chats=new e3(this.models,this.apiClient),this.caches=new Q6(this.apiClient),this.files=new c3(this.apiClient),this.operations=new uq(this.apiClient),this.authTokens=new Aq(this.apiClient),this.tunings=new P9(this.apiClient),this.fileSearchStores=new Mq(this.apiClient)}}const Q9='"AIzaSyDncSmvlqhJcdvTV5scb8fhv_sDnwWbEgM";',X9=new J9({apiKey:Q9}),Z9=async i=>{try{return(await X9.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{systemInstruction:`You are a professional poker expert and assistant for 'PokerWired Redux'. 
    You help users with:
    1. Poker rules and strategy (Hold'em, Omaha, etc.).
    2. Explaining bonus terms (wagering requirements, rakeback).
    3. Suggesting poker sites based on user preferences (use the following context: GGPoker is good for tournaments, PokerStars for software, 888poker for beginners, WPT Global for bonuses).
    
    Keep answers concise, professional, and friendly. Do not hallucinate promotions that don't exist.`,temperature:.7}})).text||"I couldn't generate a response at this time."}catch(e){return console.error("Gemini API Error:",e),"Sorry, I'm having trouble connecting to the poker strategy database right now. Please try again later."}},eV=()=>{const[i,e]=Ie.useState(!1),[n,r]=Ie.useState(""),[t,o]=Ie.useState([{id:"welcome",role:"model",text:"Hi! I'm your PokerWired assistant. Ask me about poker strategies, site reviews, or bonus codes!",timestamp:Date.now()}]),[a,l]=Ie.useState(!1),c=Ie.useRef(null),d=()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})};Ie.useEffect(()=>{d()},[t,i]);const f=async p=>{if(p.preventDefault(),!n.trim()||a)return;const m={id:Date.now().toString(),role:"user",text:n,timestamp:Date.now()};o(T=>[...T,m]),r(""),l(!0);const y=await Z9(n),E={id:(Date.now()+1).toString(),role:"model",text:y,timestamp:Date.now()};o(T=>[...T,E]),l(!1)};return k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:()=>e(!0),className:`fixed bottom-6 right-6 p-4 rounded-full bg-poker-primary text-white shadow-xl hover:bg-blue-600 transition-all z-40 ${i?"scale-0 opacity-0":"scale-100 opacity-100"}`,children:k.jsx(_F,{className:"w-6 h-6"})}),k.jsxs("div",{className:`fixed bottom-6 right-6 w-full max-w-sm bg-white dark:bg-slate-900 border border-poker-border dark:border-white/10 rounded-2xl shadow-2xl z-50 flex flex-col transition-all duration-300 transform origin-bottom-right ${i?"scale-100 opacity-100 translate-y-0":"scale-90 opacity-0 translate-y-10 pointer-events-none"}`,style:{height:"500px",maxHeight:"80vh"},children:[k.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-poker-border dark:border-white/5 bg-slate-50 dark:bg-slate-900 rounded-t-2xl",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-poker-primary to-purple-600 flex items-center justify-center",children:k.jsx(G4,{className:"w-5 h-5 text-white"})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-sm font-bold text-poker-text dark:text-white",children:"PokerBot"}),k.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[k.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Online"]})]})]}),k.jsx("button",{onClick:()=>e(!1),className:"text-poker-muted hover:text-poker-text dark:text-slate-400 dark:hover:text-white",children:k.jsx(ZO,{className:"w-5 h-5"})})]}),k.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4 bg-white dark:bg-slate-950/50",children:[t.map(p=>k.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:k.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 text-sm leading-relaxed ${p.role==="user"?"bg-poker-primary text-white rounded-br-none":"bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded-bl-none border border-slate-200 dark:border-white/5"}`,children:p.text})},p.id)),a&&k.jsx("div",{className:"flex justify-start",children:k.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 flex items-center gap-2",children:[k.jsx(cF,{className:"w-4 h-4 animate-spin text-poker-primary"}),k.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Thinking..."})]})}),k.jsx("div",{ref:c})]}),k.jsx("form",{onSubmit:f,className:"p-3 border-t border-poker-border dark:border-white/5 bg-white dark:bg-slate-900 rounded-b-2xl",children:k.jsxs("div",{className:"relative flex items-center",children:[k.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"Ask about poker...",className:"w-full bg-slate-100 dark:bg-slate-800 text-poker-text dark:text-white text-sm rounded-full pl-4 pr-12 py-3 focus:outline-none focus:ring-2 focus:ring-poker-primary/50 border border-transparent focus:border-poker-primary/50 placeholder:text-slate-400"}),k.jsx("button",{type:"submit",disabled:a||!n.trim(),className:"absolute right-2 p-2 bg-poker-primary text-white rounded-full hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k.jsx(SF,{className:"w-4 h-4"})})]})})]})]})},tV=({children:i})=>{const[e,n]=Ie.useState(!1),[r,t]=Ie.useState(!1),o=Es();Ie.useEffect(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(t(!0),document.documentElement.classList.add("dark")):(t(!1),document.documentElement.classList.remove("dark"))},[]);const a=()=>{r?(document.documentElement.classList.remove("dark"),localStorage.theme="light",t(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",t(!0))},l=[{name:"Home",path:gn.HOME},{name:"Poker Sites",path:gn.POKER_SITES},{name:"Reviews",path:gn.REVIEWS},{name:"Promo Codes",path:gn.PROMO_CODES},{name:"News",path:gn.NEWS}];return k.jsxs("div",{className:"min-h-screen flex flex-col font-sans transition-colors duration-300",children:[k.jsxs("header",{className:"sticky top-0 z-40 w-full border-b border-poker-border dark:border-white/5 bg-white/90 dark:bg-black/80 backdrop-blur-md",children:[k.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[k.jsxs(ln,{to:gn.HOME,className:"flex items-center gap-2 group",children:[k.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-poker-primary to-orange-600 flex items-center justify-center text-white font-bold shadow-lg shadow-poker-primary/20 group-hover:shadow-poker-primary/40 transition-all",children:"P"}),k.jsxs("span",{className:"text-xl font-bold tracking-tight text-poker-text dark:text-white",children:["Poker",k.jsx("span",{className:"text-poker-primary",children:"Wired"})]})]}),k.jsx("nav",{className:"hidden md:flex items-center gap-8",children:l.map(c=>k.jsx(ln,{to:c.path,className:`text-sm font-semibold transition-colors hover:text-poker-primary ${o.pathname===c.path?"text-poker-primary":"text-poker-muted dark:text-slate-300"}`,children:c.name},c.name))}),k.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[k.jsx("button",{onClick:a,className:"p-2 rounded-full text-poker-muted hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors","aria-label":"Toggle Theme",children:r?k.jsx($A,{className:"w-5 h-5"}):k.jsx(WA,{className:"w-5 h-5"})}),k.jsx("div",{className:"h-6 w-px bg-poker-border dark:bg-slate-700 mx-1"}),k.jsx(ln,{to:gn.REVIEWS,className:"px-5 py-2 bg-poker-primary text-white font-bold rounded-full text-sm hover:bg-poker-primaryHover shadow-lg shadow-poker-primary/25 transition-all",children:"Play Now"})]}),k.jsxs("div",{className:"flex items-center gap-4 md:hidden",children:[k.jsx("button",{onClick:a,className:"p-2 text-poker-text dark:text-white",children:r?k.jsx($A,{className:"w-5 h-5"}):k.jsx(WA,{className:"w-5 h-5"})}),k.jsx("button",{className:"p-2 text-poker-text dark:text-white",onClick:()=>n(!e),children:e?k.jsx(ZO,{}):k.jsx(gF,{})})]})]}),e&&k.jsxs("div",{className:"md:hidden absolute top-16 left-0 w-full bg-poker-surface dark:bg-poker-darkSurface border-b border-poker-border dark:border-white/10 p-4 flex flex-col gap-4 shadow-2xl animate-in slide-in-from-top-2",children:[l.map(c=>k.jsx(ln,{to:c.path,onClick:()=>n(!1),className:`text-lg font-medium ${o.pathname===c.path?"text-poker-primary":"text-poker-text dark:text-slate-200"}`,children:c.name},c.name)),k.jsx("div",{className:"h-px bg-poker-border dark:bg-white/10 my-2"}),k.jsx(ln,{to:gn.REVIEWS,className:"w-full py-3 bg-poker-primary text-white font-bold rounded-lg text-center shadow-lg shadow-poker-primary/20",children:"Top Poker Sites"})]})]}),k.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 relative",children:i}),k.jsx(eV,{}),k.jsx("footer",{className:"bg-white dark:bg-poker-darkSurface border-t border-poker-border dark:border-white/5 pt-16 pb-8 transition-colors duration-300",children:k.jsxs("div",{className:"container mx-auto px-4",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[k.jsxs("div",{className:"col-span-1 md:col-span-1",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[k.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-poker-primary to-orange-600 flex items-center justify-center text-xs font-bold text-white",children:"P"}),k.jsx("span",{className:"text-lg font-bold text-poker-text dark:text-white",children:"PokerWired"})]}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm leading-relaxed",children:"Your ultimate guide to online poker. We provide honest reviews, exclusive bonus codes, and the latest industry news to help you win big."})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-poker-text dark:text-white font-bold mb-4",children:"Quick Links"}),k.jsxs("ul",{className:"space-y-2 text-sm text-poker-muted dark:text-slate-400",children:[k.jsx("li",{children:k.jsx(ln,{to:gn.POKER_SITES,className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Poker Sites"})}),k.jsx("li",{children:k.jsx(ln,{to:gn.REVIEWS,className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Room Reviews"})}),k.jsx("li",{children:k.jsx(ln,{to:gn.PROMO_CODES,className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"No Deposit Bonuses"})}),k.jsx("li",{children:k.jsx(ln,{to:gn.NEWS,className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Latest News"})})]})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-poker-text dark:text-white font-bold mb-4",children:"Categories"}),k.jsxs("ul",{className:"space-y-2 text-sm text-poker-muted dark:text-slate-400",children:[k.jsx("li",{children:k.jsx(ln,{to:"/category/tournaments",className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Tournaments"})}),k.jsx("li",{children:k.jsx(ln,{to:"/category/cash-games",className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Cash Games"})}),k.jsx("li",{children:k.jsx(ln,{to:"/category/software",className:"hover:text-poker-primary dark:hover:text-white transition-colors",children:"Software Reviews"})})]})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-poker-text dark:text-white font-bold mb-4",children:"Connect"}),k.jsxs("div",{className:"flex gap-4 mb-6",children:[k.jsx("a",{href:"#",className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-poker-primary hover:text-white dark:hover:bg-poker-primary transition-all text-poker-muted dark:text-slate-300",children:k.jsx(kF,{className:"w-4 h-4"})}),k.jsx("a",{href:"#",className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-poker-primary hover:text-white dark:hover:bg-poker-primary transition-all text-poker-muted dark:text-slate-300",children:k.jsx(Z4,{className:"w-4 h-4"})}),k.jsx("a",{href:"#",className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-poker-primary hover:text-white dark:hover:bg-poker-primary transition-all text-poker-muted dark:text-slate-300",children:k.jsx(lF,{className:"w-4 h-4"})})]}),k.jsx("p",{className:"text-xs text-poker-muted dark:text-slate-500",children:"Gambling involves risk. Please gamble responsibly. 18+ only."})]})]}),k.jsxs("div",{className:"border-t border-poker-border dark:border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[k.jsx("p",{className:"text-poker-muted dark:text-slate-500 text-xs",children:" 2024 PokerWired Redux. All rights reserved."}),k.jsxs("div",{className:"flex gap-6 text-xs text-poker-muted dark:text-slate-500",children:[k.jsx("a",{href:"#",className:"hover:text-poker-text dark:hover:text-slate-300",children:"Privacy Policy"}),k.jsx("a",{href:"#",className:"hover:text-poker-text dark:hover:text-slate-300",children:"Terms of Service"}),k.jsx("a",{href:"#",className:"hover:text-poker-text dark:hover:text-slate-300",children:"Cookie Policy"})]})]})]})})]})},rE=({article:i})=>k.jsxs("article",{className:"flex flex-col bg-white dark:bg-poker-darkSurface rounded-xl overflow-hidden border border-poker-border dark:border-white/5 group hover:border-poker-primary/30 dark:hover:border-white/10 transition-all h-full shadow-sm hover:shadow-lg dark:hover:shadow-none",children:[k.jsxs("div",{className:"relative h-48 overflow-hidden",children:[k.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),k.jsx("div",{className:"absolute top-3 left-3 bg-white/90 dark:bg-poker-darkBg/80 backdrop-blur-sm text-poker-text dark:text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider border border-white/20",children:i.category})]}),k.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[k.jsxs("div",{className:"flex items-center gap-4 text-xs text-poker-muted dark:text-slate-500 mb-3",children:[k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(zv,{className:"w-3 h-3"}),k.jsx("span",{children:i.date})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx($_,{className:"w-3 h-3"}),k.jsx("span",{children:i.author})]})]}),k.jsx("h3",{className:"text-lg font-bold text-poker-text dark:text-white mb-3 leading-snug group-hover:text-poker-primary transition-colors",children:k.jsx(ln,{to:`/news/${i.id}`,children:i.title})}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm mb-4 line-clamp-3 flex-grow",children:i.excerpt}),k.jsxs(ln,{to:`/news/${i.id}`,className:"inline-flex items-center text-sm font-medium text-poker-primary hover:text-poker-primaryHover dark:hover:text-white transition-colors mt-auto",children:["Read Full Story ",k.jsx(Gv,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]}),ic=[{id:"gg-poker",name:"GGPoker",rating:4.9,bonus:"100% Match up to $600",promoCode:"WIREDVIP",logoUrl:"https://picsum.photos/seed/gg/200/200",features:["Fish Buffet Rewards","Smart HUD","Massive Tournaments"],reviewSummary:"The world's largest poker room with innovative features and huge prize pools.",link:"#ggpoker",pros:["Massive player traffic 24/7","Innovative software features (staking, smart HUD)","Huge tournament guarantees (WSOP Online)"],cons:["No HUDs allowed (except internal Smart HUD)","Rake can be higher for high stakes"],verdict:"GGPoker is the undisputed king of online poker in 2024. Whether you are a grinder or a recreational player, the software and promotions are unmatched.",softwareRating:5,trafficRating:5,bonusRating:4.5},{id:"pokerstars",name:"PokerStars",rating:4.8,bonus:"$30 Free Play or 100% up to $600",promoCode:"STARS600",logoUrl:"https://picsum.photos/seed/stars/200/200",features:["Best Software","Home Games","Zoom Poker"],reviewSummary:"The industry standard for software stability and game variety.",link:"#pokerstars",pros:["Industry-leading software stability","Wide variety of mixed games","Excellent security and fast withdrawals"],cons:["Rewards system is harder to clear than competitors","Tougher competition at mid-stakes"],verdict:"PokerStars remains the gold standard for software and game integrity. It is the best place for mixed game players and tournament grinders.",softwareRating:5,trafficRating:4.8,bonusRating:4.2},{id:"888poker",name:"888poker",rating:4.5,bonus:"$88 Free No Deposit Needed",promoCode:"NEW888",logoUrl:"https://picsum.photos/seed/888/200/200",features:["Soft Fields","Blast Poker","Daily Freerolls"],reviewSummary:"Excellent for beginners with softer competition and great no-deposit offers.",link:"#888poker",pros:["Very soft competition","Great no-deposit bonus for new players","Excellent webcam tables"],cons:["Software feels slightly dated","Traffic is lower than GG or Stars"],verdict:"888poker is the perfect site for casual players and beginners. The fields are incredibly soft, making it easier to win.",softwareRating:3.8,trafficRating:4,bonusRating:4.9},{id:"wpt-global",name:"WPT Global",rating:4.6,bonus:"100% Match up to $1,200",promoCode:"WPTWIRE",logoUrl:"https://picsum.photos/seed/wpt/200/200",features:["WPT Satellites","NFT Avatars","Global Pool"],reviewSummary:"The new challenger bringing the WPT experience online with a massive welcome bonus.",link:"#wptglobal",pros:["Massive welcome bonus","Access to global liquidity pool","Exclusive satellites to live WPT events"],cons:["Mobile-focused interface might annoy desktop users","Newer platform has occasional bugs"],verdict:"WPT Global is the most exciting new entrant. If you want to qualify for live events and enjoy a massive deposit match, this is the place.",softwareRating:4.2,trafficRating:4.3,bonusRating:5}],oc=[{id:"1",title:"WSOP 2025 Schedule Announced: What to Expect",excerpt:"The World Series of Poker has released the preliminary schedule for 2025, featuring record-breaking guarantees.",category:"Tournaments",author:"Daniel Smyth",date:"Oct 24, 2024",imageUrl:"https://picsum.photos/seed/news1/600/400",content:`<p>The World Series of Poker (WSOP) has officially unveiled the preliminary schedule for its 2025 iteration, setting the stage for what organizers promise will be the "biggest and boldest" series in history. Returning to the Las Vegas Strip, the series will once again take place at the Horseshoe and Paris Las Vegas.</p>
    <h3>Record-Breaking Guarantees</h3>
    <p>Among the highlights is the confirmation of the Main Event, which will maintain its $10,000 buy-in. Last year's event shattered attendance records, and officials are aiming even higher for 2025. "We are building on the momentum of the past few years to deliver an experience that every poker player dreams of," said WSOP Executive Director Ty Stewart.</p>
    <h3>New Events on the Horizon</h3>
    <p>Rumors are circulating about several new bracelet events, including a Mystery Bounty PLO tournament and a higher buy-in Seniors Event. The full schedule is expected to be released in early 2025, but players can already start planning their summer pilgrimage.</p>
    <p>Stay tuned to PokerWired for full breakdowns of the schedule as more details emerge.</p>`},{id:"2",title:"Top 5 Strategies for Mystery Bounty Tournaments",excerpt:"Mystery Bounties are taking the world by storm. Here is how to adjust your math and aggression.",category:"Strategy",author:"Ike Haxton",date:"Oct 22, 2024",imageUrl:"https://picsum.photos/seed/news2/600/400",content:`<p>Mystery Bounty tournaments have revolutionized the live and online poker landscape. Unlike standard KOs, where the bounty value is fixed, Mystery Bounties offer a randomized prize that is only revealed after you eliminate a player and draw an envelope (or open a chest online).</p>
    <h3>1. Survive Until the Bounty Stage</h3>
    <p>In most Mystery Bounty events, the bounties only kick in during Day 2 or after the money bubble bursts. This means your early game strategy should be focused purely on survival and chip accumulation, similar to a standard freezeout. Do not make -EV calls early just to bust a player.</p>
    <h3>2. Adjust Your Calling Ranges Late</h3>
    <p>Once bounties are in play, the math changes drastically. If the top bounty is massive (e.g., $100k in a $1k buy-in), the chip value of covering a short stack skyrockets. You should be calling significantly wider when you cover opponents.</p>
    <h3>3. Know the Remaining Bounty Pool</h3>
    <p>Always keep an eye on the tournament clock or lobby to see which big bounties have already been pulled. If the top prizes are gone, revert to a more standard strategy.</p>`},{id:"3",title:"Online Poker Regulation: New States Entering the Fold?",excerpt:"Rumors swirl about New York and Kentucky potentially legalizing online poker in the coming legislative session.",category:"Industry",author:"Sarah Cole",date:"Oct 20, 2024",imageUrl:"https://picsum.photos/seed/news3/600/400",content:`<p>The landscape of regulated online poker in the United States could be set for a major expansion in 2025. Legislative sources in New York and Kentucky have indicated renewed interest in bills that would legalize and regulate interactive gaming, including poker.</p>
    <p>New York State Senator Joseph Addabbo has been a vocal proponent of iGaming, arguing that the state is losing millions in potential tax revenue to neighboring New Jersey and Pennsylvania. "It's time to bring these activities out of the shadows and into a regulated market that protects consumers and benefits the state," Addabbo stated in a recent interview.</p>
    <p>Meanwhile, Kentucky is exploring online poker as part of a broader sports betting expansion package. If successful, these states could join the Multi-State Internet Gaming Agreement (MSIGA), potentially creating a liquidity pool rivaling international sites.</p>`},{id:"4",title:"Review: Is PLO5 the Future of Cash Games?",excerpt:"Why five-card Pot Limit Omaha is attracting action players away from traditional Hold'em tables.",category:"Opinion",author:"Tom Dwan",date:"Oct 18, 2024",imageUrl:"https://picsum.photos/seed/news4/600/400",content:`<p>If you've logged into GGPoker or PokerStars recently, you may have noticed the explosion of 5-Card Pot Limit Omaha (PLO5) tables. Once a niche variant, PLO5 is rapidly becoming the game of choice for high-action players.</p>
    <h3>More Cards, More Action</h3>
    <p>The appeal is simple: five cards give you more playable hands and more ways to connect with the board. This leads to bigger pots, more multi-way action, and inevitably, higher variance. For recreational players, this is a dream; for pros, it requires a significant adjustment in hand selection.</p>
    <p>In traditional PLO, top two pair or a naked nut flush draw might be strong enough to stack off. In PLO5, the equities run much closer together, meaning you often need the nuts with redraws to feel comfortable getting 100 big blinds in.</p>`}],df=[{id:"p1",siteName:"GGPoker",offerTitle:"Exclusive $600 Match + Ticket",code:"WIREDVIP",expiry:"Dec 31, 2024",verified:!0,type:"Deposit",description:"Get a 100% matched bonus on your first deposit up to $600. The bonus is released in $5 increments for every $20 paid in rake.",terms:["New players only","Min deposit $10","Wagering requirement applies","18+"],stepsToClaim:["Download GGPoker App","Create an Account","Enter code WIREDVIP during registration","Make a deposit of at least $10"]},{id:"p2",siteName:"888poker",offerTitle:"$88 Free Play (No Deposit)",code:"AUTOMATIC",expiry:"Ongoing",verified:!0,type:"No Deposit",description:"Receive $88 in free play just for signing up. No deposit required. The bonus is granted in tournament tickets and pending bonus.",terms:["New players only","Email verification required","Bonus expires in 7 days","18+"],stepsToClaim:["Register at 888poker via our link","Verify your email address","Log in to claim your free package"]},{id:"p3",siteName:"PokerStars",offerTitle:"Spin & Go Ticket Bundle",code:"SPIN100",expiry:"Nov 30, 2024",verified:!0,type:"Deposit",description:"Deposit $20 or more and receive $30 worth of Spin & Go tickets instantly.",terms:["Min deposit $20","Tickets expire in 21 days","18+"],stepsToClaim:["Register at PokerStars","Go to Cashier","Select Deposit","Enter code SPIN100"]},{id:"p4",siteName:"PartyPoker",offerTitle:"$30 Free Play",code:"PARTY30",expiry:"Dec 15, 2024",verified:!1,type:"Deposit",description:"Deposit $10 and get $10 in tickets. Deposit $20 and get $30 in tickets.",terms:["New players only","Min deposit $10","18+"],stepsToClaim:["Register at PartyPoker","Deposit at least $10","Tickets credited automatically"]}],NI=[{id:"1",brand:"WPT",brandLogoUrl:"https://picsum.photos/seed/wptlogo/100/100",eventName:"WPT World Championship",date:"Dec 03 - Dec 21, 2024",buyIn:"$10,400",prizePool:"$40,000,000 GTD",location:"Wynn Las Vegas",status:"Upcoming"},{id:"2",brand:"WSOP",brandLogoUrl:"https://picsum.photos/seed/wsoplogo/100/100",eventName:"WSOP Paradise",date:"Dec 06 - Dec 19, 2024",buyIn:"$5,300",prizePool:"$50,000,000 GTD",location:"Atlantis Bahamas",status:"Upcoming"},{id:"3",brand:"EPT",brandLogoUrl:"https://picsum.photos/seed/eptlogo/100/100",eventName:"EPT Prague",date:"Dec 04 - Dec 15, 2024",buyIn:"5,300",prizePool:"5,000,000 Est.",location:"Hilton Prague",status:"Live"},{id:"4",brand:"GG",brandLogoUrl:"https://picsum.photos/seed/gglogo/100/100",eventName:"WSOP Winter Circuit",date:"Dec 15 - Jan 10, 2025",buyIn:"$525",prizePool:"$100,000,000 GTD",location:"GGPoker (Online)",status:"Upcoming"},{id:"5",brand:"888",brandLogoUrl:"https://picsum.photos/seed/888logo/100/100",eventName:"The Festival Online",date:"Jan 05 - Jan 25, 2025",buyIn:"$109",prizePool:"$1,000,000 GTD",location:"888poker (Online)",status:"Upcoming"}],nV=[{name:"Tournaments",icon:k.jsx(DF,{className:"w-5 h-5"}),slug:"tournaments"},{name:"Strategy",icon:k.jsx(BF,{className:"w-5 h-5"}),slug:"strategy"},{name:"Industry News",icon:k.jsx(iF,{className:"w-5 h-5"}),slug:"industry"},{name:"Security",icon:k.jsx(NF,{className:"w-5 h-5"}),slug:"security"}];var m0={exports:{}},g0={exports:{}};const rV={},iV=Object.freeze(Object.defineProperty({__proto__:null,default:rV},Symbol.toStringTag,{value:"Module"})),Kt=sm(iV);var ff={exports:{}},y0,RI;function oV(){if(RI)return y0;RI=1;var i=1e3,e=i*60,n=e*60,r=n*24,t=r*7,o=r*365.25;y0=function(f,p){p=p||{};var m=typeof f;if(m==="string"&&f.length>0)return a(f);if(m==="number"&&isFinite(f))return p.long?c(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var m=parseFloat(p[1]),y=(p[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*t;case"days":case"day":case"d":return m*r;case"hours":case"hour":case"hrs":case"hr":case"h":return m*n;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function l(f){var p=Math.abs(f);return p>=r?Math.round(f/r)+"d":p>=n?Math.round(f/n)+"h":p>=e?Math.round(f/e)+"m":p>=i?Math.round(f/i)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=r?d(f,p,r,"day"):p>=n?d(f,p,n,"hour"):p>=e?d(f,p,e,"minute"):p>=i?d(f,p,i,"second"):f+" ms"}function d(f,p,m,y){var E=p>=m*1.5;return Math.round(f/m)+" "+y+(E?"s":"")}return y0}var _0,xI;function sV(){if(xI)return _0;xI=1;function i(e){r.debug=r,r.default=r,r.coerce=d,r.disable=l,r.enable=o,r.enabled=c,r.humanize=oV(),r.destroy=f,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function n(p){let m=0;for(let y=0;y<p.length;y++)m=(m<<5)-m+p.charCodeAt(y),m|=0;return r.colors[Math.abs(m)%r.colors.length]}r.selectColor=n;function r(p){let m,y=null,E,T;function C(...S){if(!C.enabled)return;const b=C,I=Number(new Date),N=I-(m||I);b.diff=N,b.prev=m,b.curr=I,m=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let x=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(F,G)=>{if(F==="%%")return"%";x++;const Q=r.formatters[G];if(typeof Q=="function"){const j=S[x];F=Q.call(b,j),S.splice(x,1),x--}return F}),r.formatArgs.call(b,S),(b.log||r.log).apply(b,S)}return C.namespace=p,C.useColors=r.useColors(),C.color=r.selectColor(p),C.extend=t,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(E!==r.namespaces&&(E=r.namespaces,T=r.enabled(p)),T),set:S=>{y=S}}),typeof r.init=="function"&&r.init(C),C}function t(p,m){const y=r(this.namespace+(typeof m>"u"?":":m)+p);return y.log=this.log,y}function o(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];const m=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const y of m)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function a(p,m){let y=0,E=0,T=-1,C=0;for(;y<p.length;)if(E<m.length&&(m[E]===p[y]||m[E]==="*"))m[E]==="*"?(T=E,C=y,E++):(y++,E++);else if(T!==-1)E=T+1,C++,y=C;else return!1;for(;E<m.length&&m[E]==="*";)E++;return E===m.length}function l(){const p=[...r.names,...r.skips.map(m=>"-"+m)].join(",");return r.enable(""),p}function c(p){for(const m of r.skips)if(a(p,m))return!1;for(const m of r.names)if(a(p,m))return!0;return!1}function d(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return _0=i,_0}var OI;function sa(){return OI||(OI=1,(function(i,e){var n={};e.formatArgs=t,e.save=o,e.load=a,e.useColors=r,e.storage=l(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;d.splice(1,0,f,"color: inherit");let p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(m=p))}),d.splice(m,0,f)}e.log=console.debug||console.log||(()=>{});function o(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function a(){let d;try{d=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}function l(){try{return localStorage}catch{}}i.exports=sV()(e);const{formatters:c}=i.exports;c.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(ff,ff.exports)),ff.exports}var yo={},hf={},DI;function KD(){if(DI)return hf;DI=1,Object.defineProperty(hf,"__esModule",{value:!0});var i;(function(r){r[r.key=0]="key",r[r.value=1]="value"})(i||(i={}));const e=Object.freeze({key:{terminator:"=",quotes:{}},value:{terminator:";",quotes:{'"':'"',"'":"'","{":"}"}}});function n(r,t=e){const o={};let a=i.key,l=!1,c=!1,d=!1,f="",p="",m="",y=0;function E(){l=!0}function T(){c=!0}function C(){l=!1,c=!1,d=!1,f="",p=""}function S(){return a===i.key?t.key:t.value}function b(F){return S().terminator===F}function I(F){return Object.keys(S().quotes).some(G=>F===G)}function N(F){return d&&F===S().quotes[f]}function x(F){p+=F}function L(){switch(d||(p=p.trim()),a){case i.key:m=p.toLowerCase(),a=i.value;break;case i.value:a=i.key,o[m]=p,m="";break}C()}for(;y<r.length;){const F=r.charAt(y);if(c){if(b(F))L();else if(F.trim())throw new Error("Malformed connection string")}else if(!l)F.trim()&&(E(),I(F)?(d=!0,f=F):x(F));else if(d&&N(F)){const G=r.charAt(y+1);F===G?(x(F),y++):T()}else if(!d&&b(F)){const G=r.charAt(y+1);F===G?(x(F),y++):L()}else x(F);y++}if(d&&!c)throw new Error("Connection string terminated unexpectedly");return L(),o}return hf.default=n,hf}var qu={},MI;function aV(){return MI||(MI=1,(function(i){var e=qu&&qu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.SCHEMA=i.SchemaTypes=void 0;const n=e(KD());var r;(function(c){c[c.BOOL=0]="BOOL",c[c.STRING=1]="STRING",c[c.NUMBER=2]="NUMBER"})(r=i.SchemaTypes||(i.SchemaTypes={})),i.SCHEMA={"Application Name":{type:r.STRING,aliases:["App"],validator(c){return typeof c=="string"&&c.length<=128}},ApplicationIntent:{type:r.STRING,allowedValues:["ReadOnly","ReadWrite"],default:"ReadWrite"},"Asynchronous Processing":{type:r.BOOL,default:!1,aliases:["Async"]},AttachDBFilename:{type:r.STRING,aliases:["Extended Properties","Initial File Name"]},Authentication:{type:r.STRING,allowedValues:["Active Directory Default","Active Directory Device Code Flow","Active Directory Integrated","Active Directory Interactive","Active Directory Managed Identity","Active Directory Password","Active Directory Service Principal","SQL Password"]},"Column Encryption Setting":{type:r.STRING},"Connection Timeout":{type:r.NUMBER,aliases:["Connect Timeout","Timeout"],default:15},"Connection Lifetime":{type:r.NUMBER,aliases:["Load Balance Timeout"],default:0},ConnectRetryCount:{type:r.NUMBER,default:1,validator(c){return c>0&&c<=255}},ConnectRetryInterval:{type:r.NUMBER,default:10},"Context Connection":{type:r.BOOL,default:!1},"Current Language":{aliases:["Language"],type:r.STRING,validator(c){return typeof c=="string"&&c.length<=128}},"Data Source":{aliases:["Addr","Address","Server","Network Address"],type:r.STRING},Encrypt:{type:r.BOOL,default:!1},Enlist:{type:r.BOOL,default:!0},"Failover Partner":{type:r.STRING},"Initial Catalog":{type:r.STRING,aliases:["Database"],validator(c){return typeof c=="string"&&c.length<=128}},"Integrated Security":{type:r.BOOL,aliases:["Trusted_Connection"],coerce(c){return c==="sspi"||null}},"Max Pool Size":{type:r.NUMBER,default:100,validator(c){return c>=1}},"Min Pool Size":{type:r.NUMBER,default:0,validator(c){return c>=0}},MultipleActiveResultSets:{type:r.BOOL,default:!1},MultiSubnetFailover:{type:r.BOOL,default:!1},"Network Library":{type:r.STRING,aliases:["Network","Net"],allowedValues:["dbnmpntw","dbmsrpcn","dbmsadsn","dbmsgnet","dbmslpcn","dbmsspxn","dbmssocn","Dbmsvinn"]},"Packet Size":{type:r.NUMBER,default:8e3,validator(c){return c>=512&&c<=32768}},Password:{type:r.STRING,aliases:["PWD"],validator(c){return typeof c=="string"&&c.length<=128}},"Persist Security Info":{type:r.BOOL,aliases:["PersistSecurityInfo"],default:!1},PoolBlockingPeriod:{type:r.NUMBER,default:0,coerce(c){if(typeof c!="string")return null;switch(c.toLowerCase()){case"alwaysblock":return 1;case"auto":return 0;case"neverblock":return 2}return null}},Pooling:{type:r.BOOL,default:!0},Replication:{type:r.BOOL,default:!1},"Transaction Binding":{type:r.STRING,allowedValues:["Implicit Unbind","Explicit Unbind"],default:"Implicit Unbind"},TransparentNetworkIPResolution:{type:r.BOOL,default:!0},TrustServerCertificate:{type:r.BOOL,default:!1},"Type System Version":{type:r.STRING,allowedValues:["SQL Server 2012","SQL Server 2008","SQL Server 2005","Latest"]},"User ID":{type:r.STRING,aliases:["UID"],validator(c){return typeof c=="string"&&c.length<=128}},"User Instance":{type:r.BOOL,default:!1},"Workstation ID":{type:r.STRING,aliases:["WSID"],validator(c){return typeof c=="string"&&c.length<=128}}};function t(c){if(c.trim()==="")return r.STRING;const d=parseInt(c,10);return!Number.isNaN(d)&&d.toString()===c?r.NUMBER:["true","false","yes","no"].includes(c.toLowerCase())?r.BOOL:r.STRING}function o(c,d,f){if(f){const p=f(c);if(p!==null)return p}switch(d){case r.BOOL:return["true","yes","1"].includes(c.toLowerCase())?!0:["false","no","0"].includes(c.toLowerCase())?!1:c;case r.NUMBER:return parseInt(c,10)}return c}function a(c,d,f){let p=!0;return f&&(p=f(c)),p&&(p=(d==null?void 0:d.includes(c))||!1),p}function l(c,d=!1,f=!1,p=!1,m=i.SCHEMA){const y=Object.entries(m).reduce((E,[T,C])=>{var S;return Object.assign(E,{[T.toLowerCase()]:C}),((S=C.aliases)===null||S===void 0?void 0:S.reduce((b,I)=>Object.assign(b,{[I.toLowerCase()]:{...C,canonical:T.toLowerCase()}}),E))||E},{});return Object.entries((0,n.default)(c)).reduce((E,[T,C])=>{if(!Object.prototype.hasOwnProperty.call(y,T))return Object.assign(E,{[T]:o(C,t(C))});let S=o(C,y[T].type,y[T].coerce);p&&!a(S,y[T].allowedValues,y[T].validator)&&(S=y[T].default);const b=d&&y[T].canonical||T;return Object.assign(E,{[b]:S})},{})}i.default=l})(qu)),qu}var Vu={},kI;function lV(){if(kI)return Vu;kI=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.buildConnectionString=void 0;function i(t){if(t[0]!=="{")return!1;for(let o=1;o<t.length;o++)if(t[o]==="}"){if(o+1===t.length)return!0;if(t[o+1]!=="}")return!1;o++}return!1}function e(t){var o;return!i(t)&&!!(!((o=t.match(/\[|]|{|}|\|\(|\)|,|;|\?|\*|=|!|@/))===null||o===void 0)&&o.length)}function n(t,o){if(o==null)return[t,""];switch(typeof o){case"boolean":return[t,o?"Yes":"No"];default:{const a=o.toString();return e(a)?[t,`{${a.replace(/}/g,"}}")}}`]:[t,a]}}}function r(t){return Object.entries(t).map(([o,a])=>n(o.trim(),a).join("=")).join(";")}return Vu.buildConnectionString=r,Vu}var PI;function uV(){return PI||(PI=1,(function(i){var e=yo&&yo.__createBinding||(Object.create?(function(a,l,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,d,f)}):(function(a,l,c,d){d===void 0&&(d=c),a[d]=l[c]})),n=yo&&yo.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,a,c)},r=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(i,"__esModule",{value:!0}),i.parseSqlConnectionString=i.parseConnectionString=void 0;const t=r(KD());i.parseConnectionString=t.default;const o=r(aV());i.parseSqlConnectionString=o.default,n(lV(),i)})(yo)),yo}var pf={exports:{}},mf={},gf={},yf={},LI;function WD(){if(LI)return yf;LI=1,Object.defineProperty(yf,"__esModule",{value:!0});let i=class extends Error{};return yf.TimeoutError=i,yf}var hi={},_f={},UI;function cV(){if(UI)return _f;UI=1,Object.defineProperty(_f,"__esModule",{value:!0});let i=class{constructor(n){this._value=n.value,this._error=n.error}value(){return this._value}reason(){return this._error}isRejected(){return!!this._error}isFulfilled(){return!!this._value}};return _f.PromiseInspection=i,_f}var FI;function iE(){if(FI)return hi;FI=1,Object.defineProperty(hi,"__esModule",{value:!0});const i=cV();function e(){let d=null,f=null;return{promise:new Promise((m,y)=>{d=m,f=y}),resolve:d,reject:f}}hi.defer=e;function n(){return Date.now()}hi.now=n;function r(d,f){return Math.abs(f-d)}hi.duration=r;function t(d){return typeof d>"u"?!0:o(d)}hi.checkOptionalTime=t;function o(d){return typeof d=="number"&&d===Math.round(d)&&d>0}hi.checkRequiredTime=o;function a(d){return new Promise(f=>setTimeout(f,d))}hi.delay=a;function l(d){return d.then(f=>new i.PromiseInspection({value:f})).catch(f=>new i.PromiseInspection({error:f}))}hi.reflect=l;function c(d){try{const f=d();return Promise.resolve(f)}catch(f){return Promise.reject(f)}}return hi.tryPromise=c,hi}var BI;function dV(){if(BI)return gf;BI=1,Object.defineProperty(gf,"__esModule",{value:!0});const i=WD(),e=iE();let n=class{constructor(o){this.timeoutMillis=o,this.deferred=e.defer(),this.possibleTimeoutCause=null,this.isRejected=!1,this.promise=r(this.deferred.promise,o).catch(a=>(a instanceof i.TimeoutError&&(this.possibleTimeoutCause?a=new i.TimeoutError(this.possibleTimeoutCause.message):a=new i.TimeoutError("operation timed out for an unknown reason")),this.isRejected=!0,Promise.reject(a)))}abort(){this.reject(new Error("aborted"))}reject(o){this.deferred.reject(o)}resolve(o){this.deferred.resolve(o)}};gf.PendingOperation=n;function r(t,o){return new Promise((a,l)=>{const c=setTimeout(()=>l(new i.TimeoutError),o);t.then(d=>{clearTimeout(c),a(d)}).catch(d=>{clearTimeout(c),l(d)})})}return gf}var vf={},HI;function fV(){if(HI)return vf;HI=1,Object.defineProperty(vf,"__esModule",{value:!0});const i=iE();let e=class $D{constructor(r){this.resource=r,this.resource=r,this.timestamp=i.now(),this.deferred=i.defer()}get promise(){return this.deferred.promise}resolve(){return this.deferred.resolve(void 0),new $D(this.resource)}};return vf.Resource=e,vf}var Ef={exports:{}},qI;function Ri(){if(qI)return Ef.exports;qI=1;var i=typeof Reflect=="object"?Reflect:null,e=i&&typeof i.apply=="function"?i.apply:function(x,L,F){return Function.prototype.apply.call(x,L,F)},n;i&&typeof i.ownKeys=="function"?n=i.ownKeys:Object.getOwnPropertySymbols?n=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:n=function(x){return Object.getOwnPropertyNames(x)};function r(N){console&&console.warn&&console.warn(N)}var t=Number.isNaN||function(x){return x!==x};function o(){o.init.call(this)}Ef.exports=o,Ef.exports.once=S,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function l(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(N){if(typeof N!="number"||N<0||t(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");a=N}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||t(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function c(N){return N._maxListeners===void 0?o.defaultMaxListeners:N._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(x){for(var L=[],F=1;F<arguments.length;F++)L.push(arguments[F]);var G=x==="error",Q=this._events;if(Q!==void 0)G=G&&Q.error===void 0;else if(!G)return!1;if(G){var j;if(L.length>0&&(j=L[0]),j instanceof Error)throw j;var Z=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw Z.context=j,Z}var ie=Q[x];if(ie===void 0)return!1;if(typeof ie=="function")e(ie,this,L);else for(var J=ie.length,Re=E(ie,J),F=0;F<J;++F)e(Re[F],this,L);return!0};function d(N,x,L,F){var G,Q,j;if(l(L),Q=N._events,Q===void 0?(Q=N._events=Object.create(null),N._eventsCount=0):(Q.newListener!==void 0&&(N.emit("newListener",x,L.listener?L.listener:L),Q=N._events),j=Q[x]),j===void 0)j=Q[x]=L,++N._eventsCount;else if(typeof j=="function"?j=Q[x]=F?[L,j]:[j,L]:F?j.unshift(L):j.push(L),G=c(N),G>0&&j.length>G&&!j.warned){j.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=N,Z.type=x,Z.count=j.length,r(Z)}return N}o.prototype.addListener=function(x,L){return d(this,x,L,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(x,L){return d(this,x,L,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(N,x,L){var F={fired:!1,wrapFn:void 0,target:N,type:x,listener:L},G=f.bind(F);return G.listener=L,F.wrapFn=G,G}o.prototype.once=function(x,L){return l(L),this.on(x,p(this,x,L)),this},o.prototype.prependOnceListener=function(x,L){return l(L),this.prependListener(x,p(this,x,L)),this},o.prototype.removeListener=function(x,L){var F,G,Q,j,Z;if(l(L),G=this._events,G===void 0)return this;if(F=G[x],F===void 0)return this;if(F===L||F.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete G[x],G.removeListener&&this.emit("removeListener",x,F.listener||L));else if(typeof F!="function"){for(Q=-1,j=F.length-1;j>=0;j--)if(F[j]===L||F[j].listener===L){Z=F[j].listener,Q=j;break}if(Q<0)return this;Q===0?F.shift():T(F,Q),F.length===1&&(G[x]=F[0]),G.removeListener!==void 0&&this.emit("removeListener",x,Z||L)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(x){var L,F,G;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[x]),this;if(arguments.length===0){var Q=Object.keys(F),j;for(G=0;G<Q.length;++G)j=Q[G],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=F[x],typeof L=="function")this.removeListener(x,L);else if(L!==void 0)for(G=L.length-1;G>=0;G--)this.removeListener(x,L[G]);return this};function m(N,x,L){var F=N._events;if(F===void 0)return[];var G=F[x];return G===void 0?[]:typeof G=="function"?L?[G.listener||G]:[G]:L?C(G):E(G,G.length)}o.prototype.listeners=function(x){return m(this,x,!0)},o.prototype.rawListeners=function(x){return m(this,x,!1)},o.listenerCount=function(N,x){return typeof N.listenerCount=="function"?N.listenerCount(x):y.call(N,x)},o.prototype.listenerCount=y;function y(N){var x=this._events;if(x!==void 0){var L=x[N];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(N,x){for(var L=new Array(x),F=0;F<x;++F)L[F]=N[F];return L}function T(N,x){for(;x+1<N.length;x++)N[x]=N[x+1];N.pop()}function C(N){for(var x=new Array(N.length),L=0;L<x.length;++L)x[L]=N[L].listener||N[L];return x}function S(N,x){return new Promise(function(L,F){function G(j){N.removeListener(x,Q),F(j)}function Q(){typeof N.removeListener=="function"&&N.removeListener("error",G),L([].slice.call(arguments))}I(N,x,Q,{once:!0}),x!=="error"&&b(N,G,{once:!0})})}function b(N,x,L){typeof N.on=="function"&&I(N,"error",x,L)}function I(N,x,L,F){if(typeof N.on=="function")F.once?N.once(x,L):N.on(x,L);else if(typeof N.addEventListener=="function")N.addEventListener(x,function G(Q){F.once&&N.removeEventListener(x,G),L(Q)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Ef.exports}var VI;function hV(){if(VI)return mf;VI=1,Object.defineProperty(mf,"__esModule",{value:!0});const i=dV(),e=fV(),n=iE(),r=Ri(),t=Kt;let o=class{constructor(d){if(this.destroyed=!1,this.emitter=new r.EventEmitter,d=d||{},!d.create)throw new Error("Tarn: opt.create function most be provided");if(!d.destroy)throw new Error("Tarn: opt.destroy function most be provided");if(typeof d.min!="number"||d.min<0||d.min!==Math.round(d.min))throw new Error("Tarn: opt.min must be an integer >= 0");if(typeof d.max!="number"||d.max<=0||d.max!==Math.round(d.max))throw new Error("Tarn: opt.max must be an integer > 0");if(d.min>d.max)throw new Error("Tarn: opt.max is smaller than opt.min");if(!n.checkOptionalTime(d.acquireTimeoutMillis))throw new Error("Tarn: invalid opt.acquireTimeoutMillis "+JSON.stringify(d.acquireTimeoutMillis));if(!n.checkOptionalTime(d.createTimeoutMillis))throw new Error("Tarn: invalid opt.createTimeoutMillis "+JSON.stringify(d.createTimeoutMillis));if(!n.checkOptionalTime(d.destroyTimeoutMillis))throw new Error("Tarn: invalid opt.destroyTimeoutMillis "+JSON.stringify(d.destroyTimeoutMillis));if(!n.checkOptionalTime(d.idleTimeoutMillis))throw new Error("Tarn: invalid opt.idleTimeoutMillis "+JSON.stringify(d.idleTimeoutMillis));if(!n.checkOptionalTime(d.reapIntervalMillis))throw new Error("Tarn: invalid opt.reapIntervalMillis "+JSON.stringify(d.reapIntervalMillis));if(!n.checkOptionalTime(d.createRetryIntervalMillis))throw new Error("Tarn: invalid opt.createRetryIntervalMillis "+JSON.stringify(d.createRetryIntervalMillis));const f={create:!0,validate:!0,destroy:!0,log:!0,min:!0,max:!0,acquireTimeoutMillis:!0,createTimeoutMillis:!0,destroyTimeoutMillis:!0,idleTimeoutMillis:!0,reapIntervalMillis:!0,createRetryIntervalMillis:!0,propagateCreateError:!0};for(const p of Object.keys(d))if(!f[p])throw new Error(`Tarn: unsupported option opt.${p}`);this.creator=d.create,this.destroyer=d.destroy,this.validate=typeof d.validate=="function"?d.validate:()=>!0,this.log=d.log||(()=>{}),this.acquireTimeoutMillis=d.acquireTimeoutMillis||3e4,this.createTimeoutMillis=d.createTimeoutMillis||3e4,this.destroyTimeoutMillis=d.destroyTimeoutMillis||5e3,this.idleTimeoutMillis=d.idleTimeoutMillis||3e4,this.reapIntervalMillis=d.reapIntervalMillis||1e3,this.createRetryIntervalMillis=d.createRetryIntervalMillis||200,this.propagateCreateError=!!d.propagateCreateError,this.min=d.min,this.max=d.max,this.used=[],this.free=[],this.pendingCreates=[],this.pendingAcquires=[],this.pendingDestroys=[],this.pendingValidations=[],this.destroyed=!1,this.interval=null,this.eventId=1}numUsed(){return this.used.length}numFree(){return this.free.length}numPendingAcquires(){return this.pendingAcquires.length}numPendingValidations(){return this.pendingValidations.length}numPendingCreates(){return this.pendingCreates.length}acquire(){const d=this.eventId++;this._executeEventHandlers("acquireRequest",d);const f=new i.PendingOperation(this.acquireTimeoutMillis);return this.pendingAcquires.push(f),f.promise=f.promise.then(p=>(this._executeEventHandlers("acquireSuccess",d,p),p)).catch(p=>(this._executeEventHandlers("acquireFail",d,p),a(this.pendingAcquires,f),Promise.reject(p))),this._tryAcquireOrCreate(),f}release(d){this._executeEventHandlers("release",d);for(let f=0,p=this.used.length;f<p;++f){const m=this.used[f];if(m.resource===d)return this.used.splice(f,1),this.free.push(m.resolve()),this._tryAcquireOrCreate(),!0}return!1}isEmpty(){return[this.numFree(),this.numUsed(),this.numPendingAcquires(),this.numPendingValidations(),this.numPendingCreates()].reduce((d,f)=>d+f)===0}check(){const d=n.now(),f=[],p=this.min-this.used.length,m=this.free.length-p;let y=0;this.free.forEach(E=>{n.duration(d,E.timestamp)>=this.idleTimeoutMillis&&y<m?(y++,this._destroy(E.resource)):f.push(E)}),this.free=f,this.isEmpty()&&this._stopReaping()}destroy(){const d=this.eventId++;return this._executeEventHandlers("poolDestroyRequest",d),this._stopReaping(),this.destroyed=!0,n.reflect(Promise.all(this.pendingCreates.map(f=>n.reflect(f.promise))).then(()=>new Promise((f,p)=>{if(this.numPendingValidations()===0){f();return}const m=setInterval(()=>{this.numPendingValidations()===0&&(t.clearInterval(m),f())},100)})).then(()=>Promise.all(this.used.map(f=>n.reflect(f.promise)))).then(()=>Promise.all(this.pendingAcquires.map(f=>(f.abort(),n.reflect(f.promise))))).then(()=>Promise.all(this.free.map(f=>n.reflect(this._destroy(f.resource))))).then(()=>Promise.all(this.pendingDestroys.map(f=>f.promise))).then(()=>{this.free=[],this.pendingAcquires=[]})).then(f=>(this._executeEventHandlers("poolDestroySuccess",d),this.emitter.removeAllListeners(),f))}on(d,f){this.emitter.on(d,f)}removeListener(d,f){this.emitter.removeListener(d,f)}removeAllListeners(d){this.emitter.removeAllListeners(d)}_tryAcquireOrCreate(){this.destroyed||(this._hasFreeResources()?this._doAcquire():this._shouldCreateMoreResources()&&this._doCreate())}_hasFreeResources(){return this.free.length>0}_doAcquire(){for(;this._canAcquire();){const d=this.pendingAcquires.shift(),f=this.free.pop();if(f===void 0||d===void 0){const m="this.free was empty while trying to acquire resource";throw this.log(`Tarn: ${m}`,"warn"),new Error(`Internal error, should never happen. ${m}`)}this.pendingValidations.push(d),this.used.push(f);const p=new i.PendingOperation(this.acquireTimeoutMillis);d.promise.catch(m=>{p.abort()}),p.promise.catch(m=>(this.log("Tarn: resource validator threw an exception "+m.stack,"warn"),!1)).then(m=>{try{m&&!d.isRejected?(this._startReaping(),d.resolve(f.resource)):(a(this.used,f),m?this.free.push(f):(this._destroy(f.resource),setTimeout(()=>{this._tryAcquireOrCreate()},0)),d.isRejected||this.pendingAcquires.unshift(d))}finally{a(this.pendingValidations,d)}}),this._validateResource(f.resource).then(m=>{p.resolve(m)}).catch(m=>{p.reject(m)})}}_canAcquire(){return this.free.length>0&&this.pendingAcquires.length>0}_validateResource(d){try{return Promise.resolve(this.validate(d))}catch(f){return Promise.reject(f)}}_shouldCreateMoreResources(){return this.used.length+this.pendingCreates.length<this.max&&this.pendingCreates.length<this.pendingAcquires.length}_doCreate(){const d=this.pendingAcquires.slice();this._create().promise.then(()=>(this._tryAcquireOrCreate(),null)).catch(p=>{this.propagateCreateError&&this.pendingAcquires.length!==0&&this.pendingAcquires[0].reject(p),d.forEach(m=>{m.possibleTimeoutCause=p}),n.delay(this.createRetryIntervalMillis).then(()=>this._tryAcquireOrCreate())})}_create(){const d=this.eventId++;this._executeEventHandlers("createRequest",d);const f=new i.PendingOperation(this.createTimeoutMillis);return f.promise=f.promise.catch(p=>{throw a(this.pendingCreates,f)&&this._executeEventHandlers("createFail",d,p),p}),this.pendingCreates.push(f),l(this.creator).then(p=>f.isRejected?(this.destroyer(p),null):(a(this.pendingCreates,f),this.free.push(new e.Resource(p)),f.resolve(p),this._executeEventHandlers("createSuccess",d,p),null)).catch(p=>(f.isRejected||(a(this.pendingCreates,f)&&this._executeEventHandlers("createFail",d,p),f.reject(p)),null)),f}_destroy(d){const f=this.eventId++;this._executeEventHandlers("destroyRequest",f,d);const p=new i.PendingOperation(this.destroyTimeoutMillis);return Promise.resolve().then(()=>this.destroyer(d)).then(()=>{p.resolve(d)}).catch(y=>{p.reject(y)}),this.pendingDestroys.push(p),p.promise.then(y=>(this._executeEventHandlers("destroySuccess",f,d),y)).catch(y=>this._logDestroyerError(f,d,y)).then(y=>{const E=this.pendingDestroys.findIndex(T=>T===p);return this.pendingDestroys.splice(E,1),y})}_logDestroyerError(d,f,p){this._executeEventHandlers("destroyFail",d,f,p),this.log("Tarn: resource destroyer threw an exception "+p.stack,"warn")}_startReaping(){this.interval||(this._executeEventHandlers("startReaping"),this.interval=setInterval(()=>this.check(),this.reapIntervalMillis))}_stopReaping(){this.interval!==null&&(this._executeEventHandlers("stopReaping"),t.clearInterval(this.interval)),this.interval=null}_executeEventHandlers(d,...f){this.emitter.listeners(d).forEach(m=>{try{m(...f)}catch(y){this.log(`Tarn: event handler "${d}" threw an exception ${y.stack}`,"warn")}})}};mf.Pool=o;function a(c,d){const f=c.indexOf(d);return f===-1?!1:(c.splice(f,1),!0)}function l(c){return new Promise((d,f)=>{const p=(m,y)=>{m?f(m):d(y)};n.tryPromise(()=>c(p)).then(m=>{m&&d(m)}).catch(m=>{f(m)})})}return mf}var YI;function pV(){return YI||(YI=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});const n=hV();e.Pool=n.Pool;const r=WD();e.TimeoutError=r.TimeoutError,i.exports={Pool:n.Pool,TimeoutError:r.TimeoutError}})(pf,pf.exports)),pf.exports}var v0,GI;function ko(){if(GI)return v0;GI=1;const i=new WeakMap,e={Connection:1,ConnectionPool:1,Request:1,Transaction:1,PreparedStatement:1};return v0={objectHasProperty:(n,r)=>Object.prototype.hasOwnProperty.call(n,r),INCREMENT:e,IDS:{get:i.get.bind(i),add:(n,r,t)=>{if(t)return i.set(n,t);i.set(n,e[r]++)}}},v0}var E0,zI;function kc(){if(zI)return E0;zI=1;class i extends Error{constructor(n,r){n instanceof Error?(super(n.message),this.code=n.code||r,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"originalError",{enumerable:!0,value:n})):(super(n),this.code=r),this.name="MSSQLError"}}return E0=i,E0}var T0,KI;function oE(){if(KI)return T0;KI=1;const i=kc();class e extends i{constructor(r,t){super(r,t),this.name="ConnectionError";let o=r==null?void 0:r.details;o instanceof Array&&(o=o.at(-1))&&(this.message=o.message,this.originalError=o)}}return T0=e,T0}var w0={exports:{}},S0={exports:{}},WI;function Xs(){return WI||(WI=1,(function(i){const e=ko().objectHasProperty,n=Symbol.for("nodejs.util.inspect.custom"),r={VarChar(o){return{type:r.VarChar,length:o}},NVarChar(o){return{type:r.NVarChar,length:o}},Text(){return{type:r.Text}},Int(){return{type:r.Int}},BigInt(){return{type:r.BigInt}},TinyInt(){return{type:r.TinyInt}},SmallInt(){return{type:r.SmallInt}},Bit(){return{type:r.Bit}},Float(){return{type:r.Float}},Numeric(o,a){return{type:r.Numeric,precision:o,scale:a}},Decimal(o,a){return{type:r.Decimal,precision:o,scale:a}},Real(){return{type:r.Real}},Date(){return{type:r.Date}},DateTime(){return{type:r.DateTime}},DateTime2(o){return{type:r.DateTime2,scale:o}},DateTimeOffset(o){return{type:r.DateTimeOffset,scale:o}},SmallDateTime(){return{type:r.SmallDateTime}},Time(o){return{type:r.Time,scale:o}},UniqueIdentifier(){return{type:r.UniqueIdentifier}},SmallMoney(){return{type:r.SmallMoney}},Money(){return{type:r.Money}},Binary(o){return{type:r.Binary,length:o}},VarBinary(o){return{type:r.VarBinary,length:o}},Image(){return{type:r.Image}},Xml(){return{type:r.Xml}},Char(o){return{type:r.Char,length:o}},NChar(o){return{type:r.NChar,length:o}},NText(){return{type:r.NText}},TVP(o){return{type:r.TVP,tvpType:o}},UDT(){return{type:r.UDT}},Geography(){return{type:r.Geography}},Geometry(){return{type:r.Geometry}},Variant(){return{type:r.Variant}}};i.exports.TYPES=r,i.exports.DECLARATIONS={};const t=function(o,a){if(a==null&&(a=2),o=String(o),o.length<a)for(let l=1;l<=a-o.length;l++)o=`0${o}`;return o};for(const o in r)if(e(r,o)){const a=r[o];a.declaration=o.toLowerCase(),i.exports.DECLARATIONS[a.declaration]=a,((l,c)=>{c[n]=()=>`[sql.${l}]`})(o,a)}i.exports.declare=(o,a)=>{switch(o){case r.VarChar:case r.VarBinary:return`${o.declaration} (${a.length>8e3||a.length==null?"MAX":a.length})`;case r.NVarChar:return`${o.declaration} (${a.length>4e3||a.length==null?"MAX":a.length})`;case r.Char:case r.NChar:case r.Binary:return`${o.declaration} (${a.length==null?1:a.length})`;case r.Decimal:case r.Numeric:return`${o.declaration} (${a.precision==null?18:a.precision}, ${a.scale==null?0:a.scale})`;case r.Time:case r.DateTime2:case r.DateTimeOffset:return`${o.declaration} (${a.scale==null?7:a.scale})`;case r.TVP:return`${a.tvpType} readonly`;default:return o.declaration}},i.exports.cast=(o,a,l)=>{if(o==null)return null;switch(typeof o){case"string":return`N'${o.replace(/'/g,"''")}'`;case"number":case"bigint":return o;case"boolean":return o?1:0;case"object":if(o instanceof Date){let c=o.getUTCMilliseconds()/1e3;o.nanosecondDelta!=null&&(c+=o.nanosecondDelta);const d=l.scale==null?7:l.scale;return d>0?c=String(c).substr(1,d+1):c="",`N'${o.getUTCFullYear()}-${t(o.getUTCMonth()+1)}-${t(o.getUTCDate())} ${t(o.getUTCHours())}:${t(o.getUTCMinutes())}:${t(o.getUTCSeconds())}${c}'`}else if(Buffer.isBuffer(o))return`0x${o.toString("hex")}`;return null;default:return null}}})(S0)),S0.exports}var C0,$I;function sE(){if($I)return C0;$I=1;const i=Xs().TYPES,e=Xs().declare,n=ko().objectHasProperty,r=65535,t="JSON_F52E2B61-18A1-11d1-B105-00805F49916B";function o(a){if(a){const l=o.parseName(a);this.name=l.name,this.schema=l.schema,this.database=l.database,this.path=(this.database?`[${this.database}].`:"")+(this.schema?`[${this.schema}].`:"")+`[${this.name}]`,this.temporary=this.name.charAt(0)==="#"}this.columns=[],this.rows=[],Object.defineProperty(this.columns,"add",{value(l,c,d){if(c==null)throw new Error("Column data type is not defined.");return c instanceof Function&&(c=c()),d=d||{},c.name=l,["nullable","primary","identity","readOnly","length"].forEach(f=>{n(d,f)&&(c[f]=d[f])}),this.push(c)}}),Object.defineProperty(this.rows,"add",{value(){return this.push(Array.prototype.slice.call(arguments))}}),Object.defineProperty(this.rows,"clear",{value(){return this.splice(0,this.length)}})}return o.prototype._makeBulk=function(){for(let l=0;l<this.columns.length;l++){const c=this.columns[l];switch(c.type){case i.Date:case i.DateTime:case i.DateTime2:for(let d=0;d<this.rows.length;d++){const f=this.rows[d][l];if(typeof f=="string"||typeof f=="number"){const p=new Date(f);if(isNaN(p.getDate()))throw new TypeError("Invalid date value passed to bulk rows");this.rows[d][l]=p}}break;case i.Xml:c.type=i.NVarChar(r).type;break;case i.UDT:case i.Geography:case i.Geometry:c.type=i.VarBinary(r).type;break}}return this},o.prototype.declare=function(){const l=this.columns.filter(f=>f.primary===!0).map(f=>`[${f.name}]`),c=this.columns.map(f=>{const p=[`[${f.name}] ${e(f.type,f)}`];return f.nullable===!0?p.push("null"):f.nullable===!1&&p.push("not null"),f.primary===!0&&l.length===1&&p.push("primary key"),p.join(" ")}),d=l.length>1?`, constraint [PK_${this.temporary?this.name.substr(1):this.name}] primary key (${l.join(", ")})`:"";return`create table ${this.path} (${c.join(", ")}${d})`},o.fromRecordset=function(l,c){const d=new this(c);for(const f in l.columns)if(n(l.columns,f)){const p=l.columns[f];d.columns.add(f,{type:p.type,length:p.length,scale:p.scale,precision:p.precision},{nullable:p.nullable,identity:p.identity,readOnly:p.readOnly})}if(d.columns.length===1&&d.columns[0].name===t)for(let f=0;f<l.length;f++)d.rows.add(JSON.stringify(l[f]));else for(let f=0;f<l.length;f++)d.rows.add.apply(d.rows,d.columns.map(p=>l[f][p.name]));return d},o.parseName=function(l){const c=l.length;let d=-1,f="",p=!1;const m=[];for(;++d<c;){const y=l.charAt(d);if(y==="[")p?f+=y:p=!0;else if(y==="]")if(p)p=!1;else throw new Error("Invalid table name.");else y==="."?p?f+=y:(m.push(f),f=""):f+=y}switch(f&&m.push(f),m.length){case 1:return{name:m[0],schema:null,database:null};case 2:return{name:m[1],schema:m[0],database:null};case 3:return{name:m[2],schema:m[1],database:m[0]};default:throw new Error("Invalid table name.")}},C0=o,C0}var jI;function ws(){return jI||(jI=1,(function(i){const{TYPES:e}=Xs(),n=sE();let r=Promise;const t={},o=[];o.register=function(l,c){for(let d=0;d<this.length;d++)if(this[d].js===l){this.splice(d,1);break}return this.push({js:l,sql:c}),null},o.register(String,e.NVarChar),o.register(Number,e.Int),o.register(Boolean,e.Bit),o.register(Date,e.DateTime),o.register(Buffer,e.VarBinary),o.register(n,e.TVP);const a=function(l){if(l==null)return e.NVarChar;switch(typeof l){case"string":for(const c of Array.from(o))if(c.js===String)return c.sql;return e.NVarChar;case"number":return l%1===0?l<-2147483648||l>2147483647?e.BigInt:e.Int:e.Float;case"bigint":return l<-2147483648n||l>2147483647n?e.BigInt:e.Int;case"boolean":for(const c of Array.from(o))if(c.js===Boolean)return c.sql;return e.Bit;case"object":for(const c of Array.from(o))if(l instanceof c.js)return c.sql;return e.NVarChar;default:return e.NVarChar}};i.exports={driver:t,getTypeByValue:a,map:o},Object.defineProperty(i.exports,"Promise",{get:()=>r,set:l=>{r=l}}),Object.defineProperty(i.exports,"valueHandler",{enumerable:!0,value:new Map,writable:!1,configurable:!1})})(w0)),w0.exports}var A0,JI;function mV(){if(JI)return A0;JI=1;const i=kc();class e extends i{constructor(r,t){super(r,t),this.name="PreparedStatementError"}}return A0=e,A0}var b0,QI;function jD(){if(QI)return b0;QI=1;const i=kc();class e extends i{constructor(r,t){super(r,t),r instanceof Error&&(r.info?(this.number=r.info.number||r.code,this.lineNumber=r.info.lineNumber,this.state=r.info.state||r.sqlstate,this.class=r.info.class,this.serverName=r.info.serverName,this.procName=r.info.procName):(this.number=r.code,this.lineNumber=r.lineNumber,this.state=r.sqlstate,this.class=r.severity,this.serverName=r.serverName,this.procName=r.procName)),this.name="RequestError";const o=/^\[Microsoft\]\[SQL Server Native Client 11\.0\](?:\[SQL Server\])?([\s\S]*)$/.exec(this.message);o&&(this.message=o[1])}}return b0=e,b0}var I0,XI;function JD(){if(XI)return I0;XI=1;const i=kc();class e extends i{constructor(r,t){super(r,t),this.name="TransactionError"}}return I0=e,I0}var N0,ZI;function Pc(){if(ZI)return N0;ZI=1;const i=oE(),e=kc(),n=mV(),r=jD(),t=JD();return N0={ConnectionError:i,MSSQLError:e,PreparedStatementError:n,RequestError:r,TransactionError:t},N0}var R0,e1;function QD(){if(e1)return R0;e1=1;const{EventEmitter:i}=Kt,e=sa()("mssql:base"),{parseSqlConnectionString:n}=uV(),r=pV(),{IDS:t}=ko(),o=oE(),a=ws(),{MSSQLError:l}=Pc();class c extends i{constructor(f,p){if(super(),t.add(this,"ConnectionPool"),e("pool(%d): created",t.get(this)),this._connectStack=[],this._closeStack=[],this._connected=!1,this._connecting=!1,this._healthy=!1,typeof f=="string")try{this.config=this.constructor.parseConnectionString(f)}catch(y){if(typeof p=="function")return setImmediate(p,y);throw y}else this.config=f;this.config.port=this.config.port||1433,this.config.options=this.config.options||{},this.config.stream=this.config.stream||!1,this.config.parseJSON=this.config.parseJSON||!1,this.config.arrayRowMode=this.config.arrayRowMode||!1,this.config.validateConnection="validateConnection"in this.config?this.config.validateConnection:!0;const m=/^(.*)\\(.*)$/.exec(this.config.server);if(m&&(this.config.server=m[1],this.config.options.instanceName=m[2]),typeof this.config.options.useColumnNames<"u"&&this.config.options.useColumnNames!==!0){const y=new l("Invalid options `useColumnNames`, use `arrayRowMode` instead");if(typeof p=="function")return setImmediate(p,y);throw y}typeof p=="function"&&this.connect(p)}get connected(){return this._connected}get connecting(){return this._connecting}get healthy(){return this._healthy}static parseConnectionString(f){return this._parseConnectionString(f)}static _parseAuthenticationType(f,p){switch(f.toLowerCase()){case"active directory integrated":return p.includes("token")?"azure-active-directory-access-token":["client id","client secret","tenant id"].every(m=>p.includes(m))?"azure-active-directory-service-principal-secret":["client id","msi endpoint","msi secret"].every(m=>p.includes(m))?"azure-active-directory-msi-app-service":["client id","msi endpoint"].every(m=>p.includes(m))?"azure-active-directory-msi-vm":"azure-active-directory-default";case"active directory password":return"azure-active-directory-password";case"ntlm":return"ntlm";default:return"default"}}static _parseConnectionString(f){const p=n(f,!0,!0);return Object.entries(p).reduce((m,[y,E])=>{switch(y){case"application name":break;case"applicationintent":Object.assign(m.options,{readOnlyIntent:E==="readonly"});break;case"asynchronous processing":break;case"attachdbfilename":break;case"authentication":Object.assign(m,{authentication_type:this._parseAuthenticationType(E,Object.keys(p))});break;case"column encryption setting":break;case"connection timeout":Object.assign(m,{connectionTimeout:E*1e3});break;case"connection lifetime":break;case"connectretrycount":break;case"connectretryinterval":Object.assign(m.options,{connectionRetryInterval:E*1e3});break;case"context connection":break;case"client id":Object.assign(m,{clientId:E});break;case"client secret":Object.assign(m,{clientSecret:E});break;case"current language":Object.assign(m.options,{language:E});break;case"data source":{let T=E,C,S=1433;if(/^np:/i.test(T))throw new Error("Connection via Named Pipes is not supported.");/^tcp:/i.test(T)&&(T=T.substr(4));const b=/^(.*)\\(.*)$/.exec(T);b&&(T=b[1].trim(),C=b[2].trim());const I=/^(.*),(.*)$/.exec(T);if(I)T=I[1].trim(),S=parseInt(I[2].trim(),10);else{const N=/^(.*),(.*)$/.exec(C);N&&(C=N[1].trim(),S=parseInt(N[2].trim(),10))}(T==="."||T==="(.)"||T.toLowerCase()==="(localdb)"||T.toLowerCase()==="(local)")&&(T="localhost"),Object.assign(m,{port:S,server:T}),C&&Object.assign(m.options,{instanceName:C});break}case"encrypt":Object.assign(m.options,{encrypt:!!E});break;case"enlist":break;case"failover partner":break;case"initial catalog":Object.assign(m,{database:E});break;case"integrated security":break;case"max pool size":Object.assign(m.pool,{max:E});break;case"min pool size":Object.assign(m.pool,{min:E});break;case"msi endpoint":Object.assign(m,{msiEndpoint:E});break;case"msi secret":Object.assign(m,{msiSecret:E});break;case"multipleactiveresultsets":break;case"multisubnetfailover":Object.assign(m.options,{multiSubnetFailover:E});break;case"network library":break;case"packet size":Object.assign(m.options,{packetSize:E});break;case"password":Object.assign(m,{password:E});break;case"persist security info":break;case"poolblockingperiod":break;case"pooling":break;case"replication":break;case"tenant id":Object.assign(m,{tenantId:E});break;case"token":Object.assign(m,{token:E});break;case"transaction binding":Object.assign(m.options,{enableImplicitTransactions:E.toLowerCase()==="implicit unbind"});break;case"transparentnetworkipresolution":break;case"trustservercertificate":Object.assign(m.options,{trustServerCertificate:E});break;case"type system version":break;case"user id":{let T=E,C;const S=/^(.*)\\(.*)$/.exec(T);S&&(C=S[1],T=S[2]),C&&Object.assign(m,{domain:C}),T&&Object.assign(m,{user:T});break}case"user instance":break;case"workstation id":Object.assign(m.options,{workstationId:E});break;case"request timeout":Object.assign(m,{requestTimeout:parseInt(E,10)});break;case"stream":Object.assign(m,{stream:!!E});break;case"useutc":Object.assign(m.options,{useUTC:!!E});break;case"parsejson":Object.assign(m,{parseJSON:!!E});break}return m},{options:{},pool:{}})}acquire(f,p){const m=a.Promise.resolve(this._acquire()).catch(y=>{throw this.emit("error",y),y});return typeof p=="function"?(m.then(y=>p(null,y,this.config)).catch(p),this):m}_acquire(){if(this.pool){if(this.pool.destroyed)return a.Promise.reject(new o("Connection is closing","ENOTOPEN"))}else return a.Promise.reject(new o("Connection not yet open.","ENOTOPEN"));return this.pool.acquire().promise}release(f){return e("connection(%d): released",t.get(f)),this.pool&&this.pool.release(f),this}connect(f){return typeof f=="function"?(this._connect(f),this):new a.Promise((p,m)=>this._connect(y=>{if(y)return m(y);p(this)}))}_connect(f){if(this._connected)return e("pool(%d): already connected, executing connect callback immediately",t.get(this)),setImmediate(f,null,this);this._connectStack.push(f),!this._connecting&&(this._connecting=!0,e("pool(%d): connecting",t.get(this)),this._poolCreate().then(p=>(e("pool(%d): connected",t.get(this)),this._healthy=!0,this._poolDestroy(p).then(()=>{this.pool=new r.Pool(Object.assign({create:()=>this._poolCreate().then(m=>(this._healthy=!0,m)).catch(m=>{throw this.pool.numUsed()+this.pool.numFree()<=0&&(this._healthy=!1),m}),validate:this._poolValidate.bind(this),destroy:this._poolDestroy.bind(this),max:10,min:0,idleTimeoutMillis:3e4,propagateCreateError:!0},this.config.pool)),this._connecting=!1,this._connected=!0}))).then(()=>{this._connectStack.forEach(p=>{setImmediate(p,null,this)})}).catch(p=>{this._connecting=!1,this._connectStack.forEach(m=>{setImmediate(m,p)})}).then(()=>{this._connectStack=[]}))}get size(){return this.pool.numFree()+this.pool.numUsed()+this.pool.numPendingCreates()}get available(){return this.pool.numFree()}get pending(){return this.pool.numPendingAcquires()}get borrowed(){return this.pool.numUsed()}close(f){return typeof f=="function"?(this._close(f),this):new a.Promise((p,m)=>{this._close(y=>{if(y)return m(y);p(this)})})}_close(f){if(this._connecting&&(e("pool(%d): close called while connecting",t.get(this)),setImmediate(f,new o("Cannot close a pool while it is connecting"))),!this.pool)return e("pool(%d): already closed, executing close callback immediately",t.get(this)),setImmediate(f,null);this._closeStack.push(f),!this.pool.destroyed&&(this._connecting=this._connected=this._healthy=!1,this.pool.destroy().then(()=>{e("pool(%d): pool closed, removing pool reference and executing close callbacks",t.get(this)),this.pool=null,this._closeStack.forEach(p=>{setImmediate(p,null)})}).catch(p=>{this.pool=null,this._closeStack.forEach(m=>{setImmediate(m,p)})}).then(()=>{this._closeStack=[]}))}request(){return new a.driver.Request(this)}transaction(){return new a.driver.Transaction(this)}query(){if(typeof arguments[0]=="string")return new a.driver.Request(this).query(arguments[0],arguments[1]);const f=Array.prototype.slice.call(arguments),p=f.shift();return new a.driver.Request(this)._template(p,f,"query")}batch(){if(typeof arguments[0]=="string")return new a.driver.Request(this).batch(arguments[0],arguments[1]);const f=Array.prototype.slice.call(arguments),p=f.shift();return new a.driver.Request(this)._template(p,f,"batch")}}return R0=c,R0}var x0={exports:{}},t1;function _m(){return t1||(t1=1,(function(i){const e=ws();let n=null;const r={};function t(f,p){if(!n){n=new e.driver.ConnectionPool(f);for(const E in r)for(let T=0,C=r[E].length;T<C;T++)n.on(E,r[E][T]);const m=n.close,y=function(E){for(const T in r)for(let C=0,S=r[T].length;C<S;C++)this.removeListener(T,r[T][C]);return this.on("error",T=>{if(r.error)for(let C=0,S=r.error.length;C<S;C++)r.error[C].call(this,T)}),n=null,m.call(this,E)};n.close=y.bind(n)}return typeof p=="function"?n.connect((m,y)=>{m&&(n=null),p(m,y)}):n.connect().catch(m=>(n=null,e.Promise.reject(m)))}function o(f){if(n){const p=n;return n=null,p.close(f)}return typeof f=="function"?(setImmediate(f),null):new e.Promise(p=>{p(n)})}function a(f,p){return r[f]||(r[f]=[]),r[f].push(p),n&&n.on(f,p),n}function l(f,p){if(!r[f])return n;const m=r[f].indexOf(p);return m===-1||(r[f].splice(m,1),r[f].length===0&&(r[f]=void 0),n&&n.removeListener(f,p)),n}function c(){if(typeof arguments[0]=="string")return new e.driver.Request().query(arguments[0],arguments[1]);const f=Array.prototype.slice.call(arguments),p=f.shift();return new e.driver.Request()._template(p,f,"query")}function d(){if(typeof arguments[0]=="string")return new e.driver.Request().batch(arguments[0],arguments[1]);const f=Array.prototype.slice.call(arguments),p=f.shift();return new e.driver.Request()._template(p,f,"batch")}i.exports={batch:d,close:o,connect:t,off:l,on:a,query:c,removeListener:l},Object.defineProperty(i.exports,"pool",{get:()=>n,set:()=>{}})})(x0)),x0.exports}var O0,n1;function gV(){if(n1)return O0;n1=1;const i=sa()("mssql:base"),{EventEmitter:e}=Kt,{IDS:n,objectHasProperty:r}=ko(),t=_m(),{TransactionError:o,PreparedStatementError:a}=Pc(),l=ws(),{TYPES:c,declare:d}=Xs();class f extends e{constructor(m){super(),n.add(this,"PreparedStatement"),i("ps(%d): created",n.get(this)),this.parent=m||t.pool,this._handle=0,this.prepared=!1,this.parameters={}}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(m,y){return this._acquiredConnection?this._activeRequest?(setImmediate(y,new o("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")),this):(this._activeRequest=m,setImmediate(y,null,this._acquiredConnection,this._acquiredConfig),this):(setImmediate(y,new a("Statement is not prepared. Call prepare() first.","ENOTPREPARED")),this)}release(m){return m===this._acquiredConnection&&(this._activeRequest=null),this}input(m,y){if(/--| |\/\*|\*\/|'/.test(m))throw new a(`SQL injection warning for param '${m}'`,"EINJECT");if(arguments.length<2)throw new a("Invalid number of arguments. 2 arguments expected.","EARGS");if(y instanceof Function&&(y=y()),r(this.parameters,m))throw new a(`The parameter name ${m} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[m]={name:m,type:y.type,io:1,length:y.length,scale:y.scale,precision:y.precision,tvpType:y.tvpType},this}replaceInput(m,y,E){return delete this.parameters[m],this.input(m,y,E)}output(m,y){if(/--| |\/\*|\*\/|'/.test(m))throw new a(`SQL injection warning for param '${m}'`,"EINJECT");if(arguments.length<2)throw new a("Invalid number of arguments. 2 arguments expected.","EARGS");if(y instanceof Function&&(y=y()),r(this.parameters,m))throw new a(`The parameter name ${m} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[m]={name:m,type:y.type,io:2,length:y.length,scale:y.scale,precision:y.precision},this}replaceOutput(m,y){return delete this.parameters[m],this.output(m,y)}prepare(m,y){return typeof y=="function"?(this._prepare(m,y),this):new l.Promise((E,T)=>{this._prepare(m,C=>{if(C)return T(C);E(this)})})}_prepare(m,y){if(i("ps(%d): prepare",n.get(this)),typeof m=="function"&&(y=m,m=void 0),this.prepared)return setImmediate(y,new a("Statement is already prepared.","EALREADYPREPARED"));this.statement=m||this.statement,this.parent.acquire(this,(E,T,C)=>{if(E)return y(E);this._acquiredConnection=T,this._acquiredConfig=C;const S=new l.driver.Request(this);S.stream=!1,S.output("handle",c.Int),S.input("params",c.NVarChar,(()=>{const b=[];for(const I in this.parameters){if(!r(this.parameters,I))continue;const N=this.parameters[I];b.push(`@${I} ${d(N.type,N)}${N.io===2?" output":""}`)}return b})().join(",")),S.input("stmt",c.NVarChar,this.statement),S.execute("sp_prepare",(b,I)=>{if(b)return this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,y(b);i("ps(%d): prepared",n.get(this)),this._handle=I.output.handle,this.prepared=!0,y(null)})})}execute(m,y){return this.stream||typeof y=="function"?this._execute(m,y):new l.Promise((E,T)=>{this._execute(m,(C,S)=>{if(C)return T(C);E(S)})})}_execute(m,y){const E=new l.driver.Request(this);E.stream=this.stream,E.arrayRowMode=this.arrayRowMode,E.input("handle",c.Int,this._handle);for(const T in this.parameters){if(!r(this.parameters,T))continue;const C=this.parameters[T];E.parameters[T]={name:T,type:C.type,io:C.io,value:m[T],length:C.length,scale:C.scale,precision:C.precision}}return E.execute("sp_execute",(T,C)=>{if(T)return y(T);y(null,C)}),E}unprepare(m){return typeof m=="function"?(this._unprepare(m),this):new l.Promise((y,E)=>{this._unprepare(T=>{if(T)return E(T);y()})})}_unprepare(m){if(i("ps(%d): unprepare",n.get(this)),!this.prepared)return setImmediate(m,new a("Statement is not prepared. Call prepare() first.","ENOTPREPARED"));if(this._activeRequest)return setImmediate(m,new o("Can't unprepare the statement. There is a request in progress.","EREQINPROG"));const y=new l.driver.Request(this);y.stream=!1,y.input("handle",c.Int,this._handle),y.execute("sp_unprepare",E=>E?m(E):(this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,this._handle=0,this.prepared=!1,i("ps(%d): unprepared",n.get(this)),m(null)))}}return O0=f,O0}var D0,r1;function XD(){if(r1)return D0;r1=1;const i=sa()("mssql:base"),{EventEmitter:e}=Kt,{Readable:n}=Kt,{IDS:r,objectHasProperty:t}=ko(),o=_m(),{RequestError:a,ConnectionError:l}=Pc(),{TYPES:c}=Xs(),d=ws();class f extends e{constructor(m){super(),r.add(this,"Request"),i("request(%d): created",r.get(this)),this.canceled=!1,this._paused=!1,this.parent=m||o.pool,this.parameters={},this.stream=null,this.arrayRowMode=null}get paused(){return this._paused}template(){const m=Array.prototype.slice.call(arguments),y=m.shift();return this._template(y,m)}_template(m,y,E){const T=[m[0]];for(let C=0;C<y.length;C++){const S=y[C];if(Array.isArray(S)){for(let b=0;b<S.length;b++)this.input(`param${C+1}_${b}`,S[b]),T.push(`@param${C+1}_${b}`),b<S.length-1&&T.push(", ");T.push(m[C+1])}else this.input(`param${C+1}`,S),T.push(`@param${C+1}`,m[C+1])}return E?this[E](T.join("")):T.join("")}input(m,y,E){if(/--| |\/\*|\*\/|'/.test(m))throw new a(`SQL injection warning for param '${m}'`,"EINJECT");if(arguments.length<2)throw new a("Invalid number of arguments. At least 2 arguments expected.","EARGS");if(arguments.length===2&&(E=y,y=d.getTypeByValue(E)),E&&typeof E.valueOf=="function"&&!(E instanceof Date)&&(E=E.valueOf()),E===void 0&&(E=null),typeof E=="number"&&isNaN(E)&&(E=null),y instanceof Function&&(y=y()),t(this.parameters,m))throw new a(`The parameter name ${m} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[m]={name:m,type:y.type,io:1,value:E,length:y.length,scale:y.scale,precision:y.precision,tvpType:y.tvpType},this}replaceInput(m,y,E){return delete this.parameters[m],this.input(m,y,E)}output(m,y,E){if(y||(y=c.NVarChar),/--| |\/\*|\*\/|'/.test(m))throw new a(`SQL injection warning for param '${m}'`,"EINJECT");if(y===c.Text||y===c.NText||y===c.Image)throw new a("Deprecated types (Text, NText, Image) are not supported as OUTPUT parameters.","EDEPRECATED");if(E&&typeof E.valueOf=="function"&&!(E instanceof Date)&&(E=E.valueOf()),E===void 0&&(E=null),typeof E=="number"&&isNaN(E)&&(E=null),y instanceof Function&&(y=y()),t(this.parameters,m))throw new a(`The parameter name ${m} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[m]={name:m,type:y.type,io:2,value:E,length:y.length,scale:y.scale,precision:y.precision},this}replaceOutput(m,y,E){return delete this.parameters[m],this.output(m,y,E)}batch(m,y){if(this.stream===null&&this.parent&&(this.stream=this.parent.config.stream),this.arrayRowMode===null&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,typeof y=="function")return this._batch(m,(E,T,C,S)=>{if(this.stream&&(E&&this.emit("error",E),E=null,this.emit("done",{output:C,rowsAffected:S})),E)return y(E);y(null,{recordsets:T,recordset:T&&T[0],output:C,rowsAffected:S})}),this;if(typeof m=="object"){const E=Array.prototype.slice.call(arguments),T=E.shift();m=this._template(T,E)}return new d.Promise((E,T)=>{this._batch(m,(C,S,b,I)=>{if(this.stream&&(C&&this.emit("error",C),C=null,this.emit("done",{output:b,rowsAffected:I})),C)return T(C);E({recordsets:S,recordset:S&&S[0],output:b,rowsAffected:I})})})}_batch(m,y){if(!this.parent)return setImmediate(y,new a("No connection is specified for that request.","ENOCONN"));if(!this.parent.connected)return setImmediate(y,new l("Connection is closed.","ECONNCLOSED"));this.canceled=!1,setImmediate(y)}bulk(m,y,E){return typeof y=="function"?(E=y,y={}):typeof y>"u"&&(y={}),this.stream===null&&this.parent&&(this.stream=this.parent.config.stream),this.arrayRowMode===null&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.stream||typeof E=="function"?(this._bulk(m,y,(T,C)=>{if(this.stream)return T&&this.emit("error",T),this.emit("done",{rowsAffected:C});if(T)return E(T);E(null,{rowsAffected:C})}),this):new d.Promise((T,C)=>{this._bulk(m,y,(S,b)=>{if(S)return C(S);T({rowsAffected:b})})})}_bulk(m,y,E){if(!this.parent)return setImmediate(E,new a("No connection is specified for that request.","ENOCONN"));if(!this.parent.connected)return setImmediate(E,new l("Connection is closed.","ECONNCLOSED"));this.canceled=!1,setImmediate(E)}toReadableStream(m={}){this.stream=!0,this.pause();const y=new n({...m,objectMode:!0,read:()=>{this.resume()}});return this.on("row",E=>{y.push(E)||this.pause()}),this.on("error",E=>{y.emit("error",E)}),this.on("done",()=>{y.push(null)}),y}pipe(m){return this.toReadableStream().pipe(m)}query(m,y){if(this.stream===null&&this.parent&&(this.stream=this.parent.config.stream),this.arrayRowMode===null&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,typeof y=="function")return this._query(m,(E,T,C,S,b)=>{if(this.stream&&(E&&this.emit("error",E),E=null,this.emit("done",{output:C,rowsAffected:S})),E)return y(E);const I={recordsets:T,recordset:T&&T[0],output:C,rowsAffected:S};this.arrayRowMode&&(I.columns=b),y(null,I)}),this;if(typeof m=="object"){const E=Array.prototype.slice.call(arguments),T=E.shift();m=this._template(T,E)}return new d.Promise((E,T)=>{this._query(m,(C,S,b,I,N)=>{if(this.stream&&(C&&this.emit("error",C),C=null,this.emit("done",{output:b,rowsAffected:I})),C)return T(C);const x={recordsets:S,recordset:S&&S[0],output:b,rowsAffected:I};this.arrayRowMode&&(x.columns=N),E(x)})})}_query(m,y){if(!this.parent)return setImmediate(y,new a("No connection is specified for that request.","ENOCONN"));if(!this.parent.connected)return setImmediate(y,new l("Connection is closed.","ECONNCLOSED"));this.canceled=!1,setImmediate(y)}execute(m,y){return this.stream===null&&this.parent&&(this.stream=this.parent.config.stream),this.arrayRowMode===null&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,typeof y=="function"?(this._execute(m,(E,T,C,S,b,I)=>{if(this.stream&&(E&&this.emit("error",E),E=null,this.emit("done",{output:C,rowsAffected:b,returnValue:S})),E)return y(E);const N={recordsets:T,recordset:T&&T[0],output:C,rowsAffected:b,returnValue:S};this.arrayRowMode&&(N.columns=I),y(null,N)}),this):new d.Promise((E,T)=>{this._execute(m,(C,S,b,I,N,x)=>{if(this.stream&&(C&&this.emit("error",C),C=null,this.emit("done",{output:b,rowsAffected:N,returnValue:I})),C)return T(C);const L={recordsets:S,recordset:S&&S[0],output:b,rowsAffected:N,returnValue:I};this.arrayRowMode&&(L.columns=x),E(L)})})}_execute(m,y){if(!this.parent)return setImmediate(y,new a("No connection is specified for that request.","ENOCONN"));if(!this.parent.connected)return setImmediate(y,new l("Connection is closed.","ECONNCLOSED"));this.canceled=!1,setImmediate(y)}cancel(){return this._cancel(),!0}_cancel(){this.canceled=!0}pause(){return this.stream?(this._pause(),!0):!1}_pause(){this._paused=!0}resume(){return this.stream?(this._resume(),!0):!1}_resume(){this._paused=!1}_setCurrentRequest(m){return this._currentRequest=m,this._paused&&this.pause(),this}}return D0=f,D0}var M0,i1;function ZD(){return i1||(i1=1,M0={READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5}),M0}var k0,o1;function eM(){if(o1)return k0;o1=1;const i=sa()("mssql:base"),{EventEmitter:e}=Kt,{IDS:n}=ko(),r=_m(),{TransactionError:t}=Pc(),o=ws(),a=ZD();class l extends e{constructor(d){super(),n.add(this,"Transaction"),i("transaction(%d): created",n.get(this)),this.parent=d||r.pool,this.isolationLevel=l.defaultIsolationLevel,this.name=""}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(d,f){return this._acquiredConnection?this._activeRequest?(setImmediate(f,new t("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")),this):(this._activeRequest=d,setImmediate(f,null,this._acquiredConnection,this._acquiredConfig),this):(setImmediate(f,new t("Transaction has not begun. Call begin() first.","ENOTBEGUN")),this)}release(d){return d===this._acquiredConnection&&(this._activeRequest=null),this}begin(d,f){return d instanceof Function&&(f=d,d=void 0),typeof f=="function"?(this._begin(d,p=>{p||this.emit("begin"),f(p)}),this):new o.Promise((p,m)=>{this._begin(d,y=>{if(y)return m(y);this.emit("begin"),p(this)})})}_begin(d,f){if(this._acquiredConnection)return setImmediate(f,new t("Transaction has already begun.","EALREADYBEGUN"));if(this._aborted=!1,this._rollbackRequested=!1,d)if(Object.keys(a).some(p=>a[p]===d))this.isolationLevel=d;else throw new t("Invalid isolation level.");setImmediate(f)}commit(d){return typeof d=="function"?(this._commit(f=>{f||this.emit("commit"),d(f)}),this):new o.Promise((f,p)=>{this._commit(m=>{if(m)return p(m);this.emit("commit"),f()})})}_commit(d){if(this._aborted)return setImmediate(d,new t("Transaction has been aborted.","EABORT"));if(!this._acquiredConnection)return setImmediate(d,new t("Transaction has not begun. Call begin() first.","ENOTBEGUN"));if(this._activeRequest)return setImmediate(d,new t("Can't commit transaction. There is a request in progress.","EREQINPROG"));setImmediate(d)}request(){return new o.driver.Request(this)}rollback(d){return typeof d=="function"?(this._rollback(f=>{f||this.emit("rollback",this._aborted),d(f)}),this):new o.Promise((f,p)=>this._rollback(m=>{if(m)return p(m);this.emit("rollback",this._aborted),f()}))}_rollback(d){if(this._aborted)return setImmediate(d,new t("Transaction has been aborted.","EABORT"));if(!this._acquiredConnection)return setImmediate(d,new t("Transaction has not begun. Call begin() first.","ENOTBEGUN"));if(this._activeRequest)return setImmediate(d,new t("Can't rollback transaction. There is a request in progress.","EREQINPROG"));this._rollbackRequested=!0,setImmediate(d)}}return l.defaultIsolationLevel=a.READ_COMMITTED,k0=l,k0}var s1;function yV(){return s1||(s1=1,(function(i){const e=QD(),n=gV(),r=XD(),t=eM(),{ConnectionError:o,TransactionError:a,RequestError:l,PreparedStatementError:c,MSSQLError:d}=Pc(),f=ws(),p=sE(),m=ZD(),{TYPES:y}=Xs(),{connect:E,close:T,on:C,off:S,removeListener:b,query:I,batch:N}=_m();i.exports={ConnectionPool:e,Transaction:t,Request:r,PreparedStatement:n,ConnectionError:o,TransactionError:a,RequestError:l,PreparedStatementError:c,MSSQLError:d,driver:f.driver,exports:{ConnectionError:o,TransactionError:a,RequestError:l,PreparedStatementError:c,MSSQLError:d,Table:p,ISOLATION_LEVEL:m,TYPES:y,MAX:65535,map:f.map,getTypeByValue:f.getTypeByValue,connect:E,close:T,on:C,removeListener:b,off:S,query:I,batch:N}},Object.defineProperty(i.exports,"Promise",{enumerable:!0,get:()=>f.Promise,set:x=>{f.Promise=x}}),Object.defineProperty(i.exports,"valueHandler",{enumerable:!0,value:f.valueHandler,writable:!1,configurable:!1});for(const x in y){const L=y[x];i.exports.exports[x]=L,i.exports.exports[x.toUpperCase()]=L}})(g0)),g0.exports}var P0={},Tf={exports:{}},wf={exports:{}},a1;function Ur(){return a1||(a1=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const r=1/(65536*65536),t=Buffer.from([254,255,255,255,255,255,255,255]),o=Buffer.alloc(0);class a{constructor(c,d,f){this.initialSize=c,this.encoding=d||"ucs2",this.doubleSizeGrowth=f||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=o,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(c){const d=c.length;this.makeRoomFor(d),c.copy(this.buffer,this.position),this.position+=d}makeRoomFor(c){if(this.buffer.length-this.position<c)if(this.doubleSizeGrowth){let d=Math.max(128,this.buffer.length*2);for(;d<c;)d*=2;this.newBuffer(d)}else this.newBuffer(c)}newBuffer(c){const d=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,d]),this.buffer=c===0?o:Buffer.alloc(c,0),this.position=0}writeUInt8(c){this.makeRoomFor(1),this.buffer.writeUInt8(c,this.position),this.position+=1}writeUInt16LE(c){this.makeRoomFor(2),this.buffer.writeUInt16LE(c,this.position),this.position+=2}writeUShort(c){this.writeUInt16LE(c)}writeUInt16BE(c){this.makeRoomFor(2),this.buffer.writeUInt16BE(c,this.position),this.position+=2}writeUInt24LE(c){this.makeRoomFor(3),this.buffer[this.position+2]=c>>>16&255,this.buffer[this.position+1]=c>>>8&255,this.buffer[this.position]=c&255,this.position+=3}writeUInt32LE(c){this.makeRoomFor(4),this.buffer.writeUInt32LE(c,this.position),this.position+=4}writeBigInt64LE(c){this.makeRoomFor(8),this.buffer.writeBigInt64LE(c,this.position),this.position+=8}writeInt64LE(c){this.writeBigInt64LE(BigInt(c))}writeUInt64LE(c){this.writeBigUInt64LE(BigInt(c))}writeBigUInt64LE(c){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(c,this.position),this.position+=8}writeUInt32BE(c){this.makeRoomFor(4),this.buffer.writeUInt32BE(c,this.position),this.position+=4}writeUInt40LE(c){this.writeInt32LE(c&-1),this.writeUInt8(Math.floor(c*r))}writeInt8(c){this.makeRoomFor(1),this.buffer.writeInt8(c,this.position),this.position+=1}writeInt16LE(c){this.makeRoomFor(2),this.buffer.writeInt16LE(c,this.position),this.position+=2}writeInt16BE(c){this.makeRoomFor(2),this.buffer.writeInt16BE(c,this.position),this.position+=2}writeInt32LE(c){this.makeRoomFor(4),this.buffer.writeInt32LE(c,this.position),this.position+=4}writeInt32BE(c){this.makeRoomFor(4),this.buffer.writeInt32BE(c,this.position),this.position+=4}writeFloatLE(c){this.makeRoomFor(4),this.buffer.writeFloatLE(c,this.position),this.position+=4}writeDoubleLE(c){this.makeRoomFor(8),this.buffer.writeDoubleLE(c,this.position),this.position+=8}writeString(c,d){d==null&&(d=this.encoding);const f=Buffer.byteLength(c,d);this.makeRoomFor(f),this.buffer.write(c,this.position,d),this.position+=f}writeBVarchar(c,d){this.writeUInt8(c.length),this.writeString(c,d)}writeUsVarchar(c,d){this.writeUInt16LE(c.length),this.writeString(c,d)}writeUsVarbyte(c,d){d==null&&(d=this.encoding);let f;c instanceof Buffer?f=c.length:(c=c.toString(),f=Buffer.byteLength(c,d)),this.writeUInt16LE(f),c instanceof Buffer?this.writeBuffer(c):(this.makeRoomFor(f),this.buffer.write(c,this.position,d),this.position+=f)}writePLPBody(c,d){d==null&&(d=this.encoding);let f;c instanceof Buffer?f=c.length:(c=c.toString(),f=Buffer.byteLength(c,d)),this.writeBuffer(t),f>0&&(this.writeUInt32LE(f),c instanceof Buffer?this.writeBuffer(c):(this.makeRoomFor(f),this.buffer.write(c,this.position,d),this.position+=f)),this.writeUInt32LE(0)}writeBuffer(c){const d=c.length;this.makeRoomFor(d),c.copy(this.buffer,this.position),this.position+=d}writeMoney(c){this.writeInt32LE(Math.floor(c*r)),this.writeInt32LE(c&-1)}}e.default=a,i.exports=a})(wf,wf.exports)),wf.exports}var lt={},l1;function fr(){if(l1)return lt;l1=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.Token=lt.TYPE=lt.SSPIToken=lt.RowToken=lt.RoutingEnvChangeToken=lt.RollbackTransactionEnvChangeToken=lt.ReturnValueToken=lt.ReturnStatusToken=lt.ResetConnectionEnvChangeToken=lt.PacketSizeEnvChangeToken=lt.OrderToken=lt.NBCRowToken=lt.LoginAckToken=lt.LanguageEnvChangeToken=lt.InfoMessageToken=lt.FedAuthInfoToken=lt.FeatureExtAckToken=lt.ErrorMessageToken=lt.DoneToken=lt.DoneProcToken=lt.DoneInProcToken=lt.DatabaseMirroringPartnerEnvChangeToken=lt.DatabaseEnvChangeToken=lt.CommitTransactionEnvChangeToken=lt.CollationChangeToken=lt.ColMetadataToken=lt.CharsetEnvChangeToken=lt.BeginTransactionEnvChangeToken=void 0,lt.TYPE={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};class i{constructor(ie,J){this.name=ie,this.handlerName=J}}lt.Token=i;class e extends i{constructor(ie){super("COLMETADATA","onColMetadata"),this.columns=ie}}lt.ColMetadataToken=e;class n extends i{constructor({more:ie,sqlError:J,attention:Re,serverError:Fe,rowCount:ee,curCmd:Ee}){super("DONE","onDone"),this.more=ie,this.sqlError=J,this.attention=Re,this.serverError=Fe,this.rowCount=ee,this.curCmd=Ee}}lt.DoneToken=n;class r extends i{constructor({more:ie,sqlError:J,attention:Re,serverError:Fe,rowCount:ee,curCmd:Ee}){super("DONEINPROC","onDoneInProc"),this.more=ie,this.sqlError=J,this.attention=Re,this.serverError=Fe,this.rowCount=ee,this.curCmd=Ee}}lt.DoneInProcToken=r;class t extends i{constructor({more:ie,sqlError:J,attention:Re,serverError:Fe,rowCount:ee,curCmd:Ee}){super("DONEPROC","onDoneProc"),this.more=ie,this.sqlError=J,this.attention=Re,this.serverError=Fe,this.rowCount=ee,this.curCmd=Ee}}lt.DoneProcToken=t;class o extends i{constructor(ie,J){super("ENVCHANGE","onDatabaseChange"),this.type="DATABASE",this.newValue=ie,this.oldValue=J}}lt.DatabaseEnvChangeToken=o;class a extends i{constructor(ie,J){super("ENVCHANGE","onLanguageChange"),this.type="LANGUAGE",this.newValue=ie,this.oldValue=J}}lt.LanguageEnvChangeToken=a;class l extends i{constructor(ie,J){super("ENVCHANGE","onCharsetChange"),this.type="CHARSET",this.newValue=ie,this.oldValue=J}}lt.CharsetEnvChangeToken=l;class c extends i{constructor(ie,J){super("ENVCHANGE","onPacketSizeChange"),this.type="PACKET_SIZE",this.newValue=ie,this.oldValue=J}}lt.PacketSizeEnvChangeToken=c;class d extends i{constructor(ie,J){super("ENVCHANGE","onBeginTransaction"),this.type="BEGIN_TXN",this.newValue=ie,this.oldValue=J}}lt.BeginTransactionEnvChangeToken=d;class f extends i{constructor(ie,J){super("ENVCHANGE","onCommitTransaction"),this.type="COMMIT_TXN",this.newValue=ie,this.oldValue=J}}lt.CommitTransactionEnvChangeToken=f;class p extends i{constructor(ie,J){super("ENVCHANGE","onRollbackTransaction"),this.type="ROLLBACK_TXN",this.newValue=ie,this.oldValue=J}}lt.RollbackTransactionEnvChangeToken=p;class m extends i{constructor(ie,J){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type="DATABASE_MIRRORING_PARTNER",this.newValue=ie,this.oldValue=J}}lt.DatabaseMirroringPartnerEnvChangeToken=m;class y extends i{constructor(ie,J){super("ENVCHANGE","onResetConnection"),this.type="RESET_CONNECTION",this.newValue=ie,this.oldValue=J}}lt.ResetConnectionEnvChangeToken=y;class E extends i{constructor(ie,J){super("ENVCHANGE","onSqlCollationChange"),this.type="SQL_COLLATION",this.newValue=ie,this.oldValue=J}}lt.CollationChangeToken=E;class T extends i{constructor(ie,J){super("ENVCHANGE","onRoutingChange"),this.type="ROUTING_CHANGE",this.newValue=ie,this.oldValue=J}}lt.RoutingEnvChangeToken=T;class C extends i{constructor(ie,J){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=ie,this.utf8Support=J}}lt.FeatureExtAckToken=C;class S extends i{constructor(ie,J){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=ie,this.stsurl=J}}lt.FedAuthInfoToken=S;class b extends i{constructor({number:ie,state:J,class:Re,message:Fe,serverName:ee,procName:Ee,lineNumber:ye}){super("INFO","onInfoMessage"),this.number=ie,this.state=J,this.class=Re,this.message=Fe,this.serverName=ee,this.procName=Ee,this.lineNumber=ye}}lt.InfoMessageToken=b;class I extends i{constructor({number:ie,state:J,class:Re,message:Fe,serverName:ee,procName:Ee,lineNumber:ye}){super("ERROR","onErrorMessage"),this.number=ie,this.state=J,this.class=Re,this.message=Fe,this.serverName=ee,this.procName=Ee,this.lineNumber=ye}}lt.ErrorMessageToken=I;class N extends i{constructor({interface:ie,tdsVersion:J,progName:Re,progVersion:Fe}){super("LOGINACK","onLoginAck"),this.interface=ie,this.tdsVersion=J,this.progName=Re,this.progVersion=Fe}}lt.LoginAckToken=N;class x extends i{constructor(ie){super("NBCROW","onRow"),this.columns=ie}}lt.NBCRowToken=x;class L extends i{constructor(ie){super("ORDER","onOrder"),this.orderColumns=ie}}lt.OrderToken=L;class F extends i{constructor(ie){super("RETURNSTATUS","onReturnStatus"),this.value=ie}}lt.ReturnStatusToken=F;class G extends i{constructor({paramOrdinal:ie,paramName:J,metadata:Re,value:Fe}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=ie,this.paramName=J,this.metadata=Re,this.value=Fe}}lt.ReturnValueToken=G;class Q extends i{constructor(ie){super("ROW","onRow"),this.columns=ie}}lt.RowToken=Q;class j extends i{constructor(ie,J){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=ie,this.ntlmpacketBuffer=J}}return lt.SSPIToken=j,lt}var u1;function tM(){return u1||(u1=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Ri(),r=a(Ur()),t=Kt,o=fr();function a(E){return E&&E.__esModule?E:{default:E}}const l={nullable:1,updateableReadWrite:4,nullableUnknown:32768},c={FINAL:0},d=Buffer.from([o.TYPE.ROW]),f=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),p=Buffer.from([0]);class m extends t.Transform{constructor(T){super({writableObjectMode:!0}),this.bulkLoad=T,this.mainOptions=T.options,this.columns=T.columns,this.columnMetadataWritten=!1}_transform(T,C,S){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(d);for(let b=0;b<this.columns.length;b++){const I=this.columns[b];let N=Array.isArray(T)?T[b]:T[I.objName];if(!this.bulkLoad.firstRowWritten)try{N=I.type.validate(N,I.collation)}catch(L){return S(L)}const x={length:I.length,scale:I.scale,precision:I.precision,value:N};if(I.type.name==="Text"||I.type.name==="Image"||I.type.name==="NText"){if(N==null){this.push(p);continue}this.push(f)}try{this.push(I.type.generateParameterLength(x,this.mainOptions));for(const L of I.type.generateParameterData(x,this.mainOptions))this.push(L)}catch(L){return S(L)}}process.nextTick(S)}_flush(T){this.push(this.bulkLoad.createDoneToken()),process.nextTick(T)}}class y extends n.EventEmitter{constructor(T,C,S,{checkConstraints:b=!1,fireTriggers:I=!1,keepNulls:N=!1,lockTable:x=!1,order:L={}},F){if(typeof b!="boolean")throw new TypeError('The "options.checkConstraints" property must be of type boolean.');if(typeof I!="boolean")throw new TypeError('The "options.fireTriggers" property must be of type boolean.');if(typeof N!="boolean")throw new TypeError('The "options.keepNulls" property must be of type boolean.');if(typeof x!="boolean")throw new TypeError('The "options.lockTable" property must be of type boolean.');if(typeof L!="object"||L===null)throw new TypeError('The "options.order" property must be of type object.');for(const[G,Q]of Object.entries(L))if(Q!=="ASC"&&Q!=="DESC")throw new TypeError('The value of the "'+G+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=C,this.table=T,this.options=S,this.callback=F,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new m(this),this.bulkOptions={checkConstraints:b,fireTriggers:I,keepNulls:N,lockTable:x,order:L}}addColumn(T,C,{output:S=!1,length:b,precision:I,scale:N,objName:x=T,nullable:L=!0}){if(this.firstRowWritten)throw new Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw new Error("Columns cannot be added to bulk insert after execution has started.");const F={type:C,name:T,value:null,output:S,length:b,precision:I,scale:N,objName:x,nullable:L,collation:this.collation};(C.id&48)===32&&F.length==null&&C.resolveLength&&(F.length=C.resolveLength(F)),C.resolvePrecision&&F.precision==null&&(F.precision=C.resolvePrecision(F)),C.resolveScale&&F.scale==null&&(F.scale=C.resolveScale(F)),this.columns.push(F),this.columnsByName[T]=F}getOptionsSql(){const T=[];if(this.bulkOptions.checkConstraints&&T.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&T.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&T.push("KEEP_NULLS"),this.bulkOptions.lockTable&&T.push("TABLOCK"),this.bulkOptions.order){const C=[];for(const[S,b]of Object.entries(this.bulkOptions.order))C.push(`${S} ${b}`);C.length&&T.push(`ORDER (${C.join(", ")})`)}return T.length>0?` WITH (${T.join(",")})`:""}getBulkInsertSql(){let T="insert bulk "+this.table+"(";for(let C=0,S=this.columns.length;C<S;C++){const b=this.columns[C];C!==0&&(T+=", "),T+="["+b.name+"] "+b.type.declaration(b)}return T+=")",T+=this.getOptionsSql(),T}getTableCreationSql(){let T="CREATE TABLE "+this.table+`(
`;for(let C=0,S=this.columns.length;C<S;C++){const b=this.columns[C];C!==0&&(T+=`,
`),T+="["+b.name+"] "+b.type.declaration(b),b.nullable!==void 0&&(T+=" "+(b.nullable?"NULL":"NOT NULL"))}return T+=`
)`,T}getColMetaData(){const T=new r.default(100,null,!0);T.writeUInt8(o.TYPE.COLMETADATA),T.writeUInt16LE(this.columns.length);for(let C=0,S=this.columns.length;C<S;C++){const b=this.columns[C];this.options.tdsVersion<"7_2"?T.writeUInt16LE(0):T.writeUInt32LE(0);let I=l.updateableReadWrite;b.nullable?I|=l.nullable:b.nullable===void 0&&this.options.tdsVersion>="7_2"&&(I|=l.nullableUnknown),T.writeUInt16LE(I),T.writeBuffer(b.type.generateTypeInfo(b,this.options)),b.type.hasTableName&&T.writeUsVarchar(this.table,"ucs2"),T.writeBVarchar(b.name,"ucs2")}return T.data}setTimeout(T){this.timeout=T}createDoneToken(){const T=new r.default(this.options.tdsVersion<"7_2"?9:13);T.writeUInt8(o.TYPE.DONE);const C=c.FINAL;return T.writeUInt16LE(C),T.writeUInt16LE(0),T.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&T.writeUInt32LE(0),T.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}}e.default=y,i.exports=y})(Tf,Tf.exports)),Tf.exports}var Sf={exports:{}};function _V(i){throw new Error("Identity plugins are not supported in browser environments.")}function vV(...i){if(i.length>0){const e=String(i[0]);e.includes(":error")?console.error(...i):e.includes(":warning")?console.warn(...i):e.includes(":info")?console.info(...i):e.includes(":verbose")?console.debug(...i):console.debug(...i)}}var c1={};const d1=typeof process<"u"&&c1&&c1.DEBUG||void 0;let nM,uv=[],cv=[];const Pp=[];d1&&aE(d1);const ol=Object.assign(i=>rM(i),{enable:aE,enabled:lE,disable:EV,log:vV});function aE(i){nM=i,uv=[],cv=[];const e=i.split(",").map(n=>n.trim());for(const n of e)n.startsWith("-")?cv.push(n.substring(1)):uv.push(n);for(const n of Pp)n.enabled=lE(n.namespace)}function lE(i){if(i.endsWith("*"))return!0;for(const e of cv)if(f1(i,e))return!1;for(const e of uv)if(f1(i,e))return!0;return!1}function f1(i,e){if(e.indexOf("*")===-1)return i===e;let n=e;if(e.indexOf("**")!==-1){const m=[];let y="";for(const E of e)E==="*"&&y==="*"||(y=E,m.push(E));n=m.join("")}let r=0,t=0;const o=n.length,a=i.length;let l=-1,c=-1;for(;r<a&&t<o;)if(n[t]==="*"){if(l=t,t++,t===o)return!0;for(;i[r]!==n[t];)if(r++,r===a)return!1;c=r,r++,t++;continue}else if(n[t]===i[r])t++,r++;else if(l>=0){if(t=l+1,r=c+1,r===a)return!1;for(;i[r]!==n[t];)if(r++,r===a)return!1;c=r,r++,t++;continue}else return!1;const d=r===i.length,f=t===n.length,p=t===n.length-1&&n[t]==="*";return d&&(f||p)}function EV(){const i=nM||"";return aE(""),i}function rM(i){const e=Object.assign(n,{enabled:lE(i),destroy:TV,log:ol.log,namespace:i,extend:wV});function n(...r){e.enabled&&(r.length>0&&(r[0]=`${i} ${r[0]}`),e.log(...r))}return Pp.push(e),e}function TV(){const i=Pp.indexOf(this);return i>=0?(Pp.splice(i,1),!0):!1}function wV(i){const e=rM(`${this.namespace}:${i}`);return e.log=this.log,e}var h1={};const dv=["verbose","info","warning","error"],p1={verbose:400,info:300,warning:200,error:100};function m1(i,e){e.log=(...n)=>{i.log(...n)}}function g1(i){return dv.includes(i)}function iM(i){const e=new Set,n=typeof process<"u"&&h1&&h1[i.logLevelEnvVarName]||void 0;let r;const t=ol(i.namespace);t.log=(...f)=>{ol.log(...f)};function o(f){if(f&&!g1(f))throw new Error(`Unknown log level '${f}'. Acceptable values: ${dv.join(",")}`);r=f;const p=[];for(const m of e)a(m)&&p.push(m.namespace);ol.enable(p.join(","))}n&&(g1(n)?o(n):console.error(`${i.logLevelEnvVarName} set to unknown log level '${n}'; logging is not enabled. Acceptable values: ${dv.join(", ")}.`));function a(f){return!!(r&&p1[f.level]<=p1[r])}function l(f,p){const m=Object.assign(f.extend(p),{level:p});if(m1(f,m),a(m)){const y=ol.disable();ol.enable(y+","+m.namespace)}return e.add(m),m}function c(){return r}function d(f){const p=t.extend(f);return m1(t,p),{error:l(p,"error"),warning:l(p,"warning"),info:l(p,"info"),verbose:l(p,"verbose")}}return{setLogLevel:o,getLogLevel:c,createClientLogger:d,logger:t}}const SV=iM({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function oM(i){return SV.createClientLogger(i)}const sM=iM({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"});function CV(){return sM.getLogLevel()}function uE(i){return sM.createClientLogger(i)}const Jr=uE("identity");function vm(i){return`SUCCESS. Scopes: ${Array.isArray(i)?i.join(", "):i}.`}function Nt(i,e){let n="ERROR.";return i!=null&&i.length&&(n+=` Scopes: ${Array.isArray(i)?i.join(", "):i}.`),`${n} Error message: ${typeof e=="string"?e:e.message}.`}function y1(i,e,n=Jr){const r=e?`${e.fullTitle} ${i}`:i;function t(c){n.info(`${r} =>`,c)}function o(c){n.warning(`${r} =>`,c)}function a(c){n.verbose(`${r} =>`,c)}function l(c){n.error(`${r} =>`,c)}return{title:i,fullTitle:r,info:t,warning:o,verbose:a,error:l}}function Ln(i,e=Jr){const n=y1(i,void 0,e);return{...n,parent:e,getToken:y1("=> getToken()",n,e)}}function AV(i){return i&&typeof i.error=="string"&&typeof i.error_description=="string"}const aM="CredentialUnavailableError";class Em extends Error{constructor(e,n){super(e,n),this.name=aM}}const cE="AuthenticationError";class lM extends Error{constructor(n,r,t){let o={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(AV(r))o=_1(r);else if(typeof r=="string")try{const a=JSON.parse(r);o=_1(a)}catch{n===400?o={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:o={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else o={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${o.error} Status code: ${n}
More details:
${o.errorDescription},`,t);Qe(this,"statusCode");Qe(this,"errorResponse");this.statusCode=n,this.errorResponse=o,this.name=cE}}const uM="AggregateAuthenticationError";class cM extends Error{constructor(n,r){const t=n.join(`
`);super(`${r}
${t}`);Qe(this,"errors");this.errors=n,this.name=uM}}function _1(i){return{error:i.error,errorDescription:i.error_description,correlationId:i.correlation_id,errorCodes:i.error_codes,timestamp:i.timestamp,traceId:i.trace_id}}class gl extends Error{constructor(n){super(n.message,n.cause?{cause:n.cause}:void 0);Qe(this,"scopes");Qe(this,"getTokenOptions");this.scopes=n.scopes,this.getTokenOptions=n.getTokenOptions,this.name="AuthenticationRequiredError"}}const dM="4.13.0",v1="04b07795-8ddb-461a-bbee-02f9e1bf7b46",fM="common";var Lp;(function(i){i.AzureChina="https://login.chinacloudapi.cn",i.AzureGermany="https://login.microsoftonline.de",i.AzureGovernment="https://login.microsoftonline.us",i.AzurePublicCloud="https://login.microsoftonline.com"})(Lp||(Lp={}));const hM=Lp.AzurePublicCloud,bV="login.microsoftonline.com",IV=["*"],cc={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function NV(i={}){let e=new dc(i.parentContext);return i.span&&(e=e.setValue(cc.span,i.span)),i.namespace&&(e=e.setValue(cc.namespace,i.namespace)),e}class dc{constructor(e){Qe(this,"_contextMap");this._contextMap=e instanceof dc?new Map(e._contextMap):new Map}setValue(e,n){const r=new dc(this);return r._contextMap.set(e,n),r}getValue(e){return this._contextMap.get(e)}deleteValue(e){const n=new dc(this);return n._contextMap.delete(e),n}}const L0={instrumenterImplementation:void 0};function RV(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function xV(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(i,e)=>({span:RV(),tracingContext:NV({parentContext:e.tracingContext})}),withContext(i,e,...n){return e(...n)}}}function Cf(){return L0.instrumenterImplementation||(L0.instrumenterImplementation=xV()),L0.instrumenterImplementation}function pM(i){const{namespace:e,packageName:n,packageVersion:r}=i;function t(d,f,p){var C;const m=Cf().startSpan(d,{...p,packageName:n,packageVersion:r,tracingContext:(C=f==null?void 0:f.tracingOptions)==null?void 0:C.tracingContext});let y=m.tracingContext;const E=m.span;y.getValue(cc.namespace)||(y=y.setValue(cc.namespace,e)),E.setAttribute("az.namespace",y.getValue(cc.namespace));const T=Object.assign({},f,{tracingOptions:{...f==null?void 0:f.tracingOptions,tracingContext:y}});return{span:E,updatedOptions:T}}async function o(d,f,p,m){const{span:y,updatedOptions:E}=t(d,f,m);try{const T=await a(E.tracingOptions.tracingContext,()=>Promise.resolve(p(E,y)));return y.setStatus({status:"success"}),T}catch(T){throw y.setStatus({status:"error",error:T}),T}finally{y.end()}}function a(d,f,...p){return Cf().withContext(d,f,...p)}function l(d){return Cf().parseTraceparentHeader(d)}function c(d){return Cf().createRequestHeaders(d)}return{startSpan:t,withSpan:o,withContext:a,parseTraceparentHeader:l,createRequestHeaders:c}}const Cl=pM({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:dM}),U0=Ln("ChainedTokenCredential");class mM{constructor(...e){Qe(this,"_sources",[]);this._sources=e}async getToken(e,n={}){const{token:r}=await this.getTokenInternal(e,n);return r}async getTokenInternal(e,n={}){let r=null,t;const o=[];return Cl.withSpan("ChainedTokenCredential.getToken",n,async a=>{for(let l=0;l<this._sources.length&&r===null;l++)try{r=await this._sources[l].getToken(e,a),t=this._sources[l]}catch(c){if(c.name==="CredentialUnavailableError"||c.name==="AuthenticationRequiredError")o.push(c);else throw U0.getToken.info(Nt(e,c)),c}if(!r&&o.length>0){const l=new cM(o,"ChainedTokenCredential authentication failed.");throw U0.getToken.info(Nt(e,l)),l}if(U0.getToken.info(`Result for ${t.constructor.name}: ${vm(e)}`),r===null)throw new Em("Failed to retrieve a valid token");return{token:r,successfulCredential:t}})}}const Af=new Error("DefaultAzureCredential is not supported in the browser. Use InteractiveBrowserCredential instead."),E1=Ln("DefaultAzureCredential");class gM extends mM{constructor(e){throw super(),E1.info(Nt("",Af)),Af}getToken(){throw E1.getToken.info(Nt("",Af)),Af}}function OV(i,e){return i=Math.ceil(i),e=Math.floor(e),Math.floor(Math.random()*(e-i+1))+i}function DV(i,e){const n=e.retryDelayInMs*Math.pow(2,i),r=Math.min(e.maxRetryDelayInMs,n);return{retryAfterInMs:r/2+OV(0,r/2)}}function yM(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}function dE(i){if(yM(i)){const e=typeof i.name=="string",n=typeof i.message=="string";return e&&n}return!1}function Ws(i,e){switch(e){case"utf-8":return MV(i);case"base64":return _M(i);case"base64url":return kV(i);case"hex":return PV(i)}}function MV(i){return new TextEncoder().encode(i)}function _M(i){return new Uint8Array([...atob(i)].map(e=>e.charCodeAt(0)))}function kV(i){const e=i.replace(/-/g,"+").replace(/_/g,"/");return _M(e)}const T1=new Set("0123456789abcdefABCDEF");function PV(i){const e=new Uint8Array(i.length/2);for(let n=0;n<i.length/2;++n){const r=i[2*n],t=i[2*n+1];if(!T1.has(r)||!T1.has(t))return e.slice(0,n);e[n]=parseInt(`${r}${t}`,16)}return e}function LV(){let i="";for(let e=0;e<32;e++){const n=Math.floor(Math.random()*16);e===12?i+="4":e===16?i+=n&3|8:i+=n.toString(16),(e===7||e===11||e===15||e===19)&&(i+="-")}return i}var bO;const UV=typeof((bO=globalThis==null?void 0:globalThis.crypto)==null?void 0:bO.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):LV;function vM(){return UV()}typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";typeof Bun<"u"&&typeof Bun.version<"u";var IO;const fE=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!((IO=globalThis.process.versions)!=null&&IO.node),F0="REDACTED",FV=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],BV=["api-version"];class hE{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:n=[]}={}){Qe(this,"allowedHeaderNames");Qe(this,"allowedQueryParameters");e=FV.concat(e),n=BV.concat(n),this.allowedHeaderNames=new Set(e.map(r=>r.toLowerCase())),this.allowedQueryParameters=new Set(n.map(r=>r.toLowerCase()))}sanitize(e){const n=new Set;return JSON.stringify(e,(r,t)=>{if(t instanceof Error)return{...t,name:t.name,message:t.message};if(r==="headers")return this.sanitizeHeaders(t);if(r==="url")return this.sanitizeUrl(t);if(r==="query")return this.sanitizeQuery(t);if(r==="body")return;if(r==="response")return;if(r==="operationSpec")return;if(Array.isArray(t)||yM(t)){if(n.has(t))return"[Circular]";n.add(t)}return t},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;const n=new URL(e);if(!n.search)return e;for(const[r]of n.searchParams)this.allowedQueryParameters.has(r.toLowerCase())||n.searchParams.set(r,F0);return n.toString()}sanitizeHeaders(e){const n={};for(const r of Object.keys(e))this.allowedHeaderNames.has(r.toLowerCase())?n[r]=e[r]:n[r]=F0;return n}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;const n={};for(const r of Object.keys(e))this.allowedQueryParameters.has(r.toLowerCase())?n[r]=e[r]:n[r]=F0;return n}}let EM=class extends Error{constructor(e){super(e),this.name="AbortError"}};function HV(i,e){const{cleanupBeforeAbort:n,abortSignal:r,abortErrorMsg:t}=e??{};return new Promise((o,a)=>{function l(){a(new EM(t??"The operation was aborted."))}function c(){r==null||r.removeEventListener("abort",d)}function d(){n==null||n(),c(),l()}if(r!=null&&r.aborted)return l();try{i(f=>{c(),o(f)},f=>{c(),a(f)})}catch(f){a(f)}r==null||r.addEventListener("abort",d)})}const qV="The delay was aborted.";function VV(i,e){let n;const{abortSignal:r,abortErrorMsg:t}={};return HV(o=>{n=setTimeout(o,i)},{cleanupBeforeAbort:()=>clearTimeout(n),abortSignal:r,abortErrorMsg:t??qV})}function Tm(i){if(dE(i))return i.message;{let e;try{typeof i=="object"&&i?e=JSON.stringify(i):e=String(i)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}function TM(i){return typeof i<"u"&&i!==null}function pE(i,e){if(!TM(i)||typeof i!="object")return!1;for(const n of e)if(!YV(i,n))return!1;return!0}function YV(i,e){return TM(i)&&typeof i=="object"&&e in i}function GV(i){return dE(i)}const wM=fE,w1=fE;/*! @azure/msal-common v15.13.3 2025-12-04 */const He={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ds={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Js={GET:"GET",POST:"POST"},Ul=[He.OPENID_SCOPE,He.PROFILE_SCOPE,He.OFFLINE_ACCESS_SCOPE],S1=[...Ul,He.EMAIL_SCOPE],ar={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},C1={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},fs={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},bf={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},$n={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},mE={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},wm={QUERY:"query",FRAGMENT:"fragment"},zV={QUERY:"query"},SM={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},If={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Ec={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Wn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},gE="appmetadata",KV="client_info",Up="1",Fp={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Dr={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Kn={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},rn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},fc={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},A1={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Xa={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},B0={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},$s={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},WV={Pop:"pop"},CM=300;/*! @azure/msal-common v15.13.3 2025-12-04 */const Bp="unexpected_error",$V="post_request_failed";/*! @azure/msal-common v15.13.3 2025-12-04 */const b1={[Bp]:"Unexpected error in authentication.",[$V]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class cn extends Error{constructor(e,n,r){const t=n?`${e}: ${n}`:e;super(t),Object.setPrototypeOf(this,cn.prototype),this.errorCode=e||He.EMPTY_STRING,this.errorMessage=n||He.EMPTY_STRING,this.subError=r||He.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function fv(i,e){return new cn(i,e?`${b1[i]} ${e}`:b1[i])}/*! @azure/msal-common v15.13.3 2025-12-04 */const yE="client_info_decoding_error",AM="client_info_empty_error",_E="token_parsing_error",bM="null_or_empty_token",Co="endpoints_resolution_error",IM="network_error",NM="openid_config_error",RM="hash_not_deserialized",Al="invalid_state",xM="state_mismatch",hv="state_not_found",OM="nonce_mismatch",vE="auth_time_not_found",DM="max_age_transpired",jV="multiple_matching_tokens",JV="multiple_matching_accounts",MM="multiple_matching_appMetadata",kM="request_cannot_be_made",PM="cannot_remove_empty_scope",LM="cannot_append_scopeset",pv="empty_input_scopeset",QV="device_code_polling_cancelled",XV="device_code_expired",ZV="device_code_unknown_error",EE="no_account_in_silent_request",UM="invalid_cache_record",TE="invalid_cache_environment",mv="no_account_found",gv="no_crypto_object",eY="unexpected_credential_type",tY="invalid_assertion",nY="invalid_client_credential",hs="token_refresh_required",rY="user_timeout_reached",FM="token_claims_cnf_required_for_signedjwt",BM="authorization_code_missing_from_server_response",HM="binding_key_not_removed",qM="end_session_endpoint_not_supported",wE="key_id_missing",iY="no_network_connectivity",oY="user_canceled",sY="missing_tenant_id_error",It="method_not_implemented",aY="nested_app_auth_bridge_disabled",lY="platform_broker_error";/*! @azure/msal-common v15.13.3 2025-12-04 */const I1={[yE]:"The client info could not be parsed/decoded correctly",[AM]:"The client info was empty",[_E]:"Token cannot be parsed",[bM]:"The token is null or empty",[Co]:"Endpoints cannot be resolved",[IM]:"Network request failed",[NM]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[RM]:"The hash parameters could not be deserialized",[Al]:"State was not the expected format",[xM]:"State mismatch error",[hv]:"State not found",[OM]:"Nonce mismatch error",[vE]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[DM]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[jV]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[JV]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[MM]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[kM]:"Token request cannot be made without authorization code or refresh token.",[PM]:"Cannot remove null or empty scope from ScopeSet",[LM]:"Cannot append ScopeSet",[pv]:"Empty input ScopeSet cannot be processed",[QV]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[XV]:"Device code is expired.",[ZV]:"Device code stopped polling for unknown reasons.",[EE]:"Please pass an account object, silent flow is not supported without account information",[UM]:"Cache record object was null or undefined.",[TE]:"Invalid environment when attempting to create cache entry",[mv]:"No account found in cache for given key.",[gv]:"No crypto object detected.",[eY]:"Unexpected credential type.",[tY]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[nY]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[hs]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[rY]:"User defined timeout for device code polling reached",[FM]:"Cannot generate a POP jwt if the token_claims are not populated",[BM]:"Server response does not contain an authorization code to proceed",[HM]:"Could not remove the credential's binding key from storage.",[qM]:"The provided authority does not support logout",[wE]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[iY]:"No network connectivity. Check your internet connection.",[oY]:"User cancelled the flow.",[sY]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[It]:"This method has not been implemented",[aY]:"The nested app auth bridge is disabled",[lY]:"An error occurred in the native broker. See the platformBrokerError property for details."};class SE extends cn{constructor(e,n){super(e,n?`${I1[e]}: ${n}`:I1[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,SE.prototype)}}function We(i,e){return new SE(i,e)}/*! @azure/msal-common v15.13.3 2025-12-04 */const Hp={createNewGuid:()=>{throw We(It)},base64Decode:()=>{throw We(It)},base64Encode:()=>{throw We(It)},base64UrlEncode:()=>{throw We(It)},encodeKid:()=>{throw We(It)},async getPublicKeyThumbprint(){throw We(It)},async removeTokenBindingKey(){throw We(It)},async clearKeystore(){throw We(It)},async signJwt(){throw We(It)},async hashString(){throw We(It)}};/*! @azure/msal-common v15.13.3 2025-12-04 */var Ft;(function(i){i[i.Error=0]="Error",i[i.Warning=1]="Warning",i[i.Info=2]="Info",i[i.Verbose=3]="Verbose",i[i.Trace=4]="Trace"})(Ft||(Ft={}));class ys{constructor(e,n,r){this.level=Ft.Info;const t=()=>{},o=e||ys.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||t,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Ft.Info,this.correlationId=o.correlationId||He.EMPTY_STRING,this.packageName=n||He.EMPTY_STRING,this.packageVersion=r||He.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ft.Info}}clone(e,n,r){return new ys({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Ft[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:Ft.Error,containsPii:!1,correlationId:n||He.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:Ft.Error,containsPii:!0,correlationId:n||He.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:Ft.Warning,containsPii:!1,correlationId:n||He.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:Ft.Warning,containsPii:!0,correlationId:n||He.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:Ft.Info,containsPii:!1,correlationId:n||He.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:Ft.Info,containsPii:!0,correlationId:n||He.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:Ft.Verbose,containsPii:!1,correlationId:n||He.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:Ft.Verbose,containsPii:!0,correlationId:n||He.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:Ft.Trace,containsPii:!1,correlationId:n||He.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:Ft.Trace,containsPii:!0,correlationId:n||He.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.13.3 2025-12-04 */const VM="@azure/msal-common",CE="15.13.3";/*! @azure/msal-common v15.13.3 2025-12-04 */const AE={None:"none"};/*! @azure/msal-common v15.13.3 2025-12-04 */const YM="redirect_uri_empty",uY="claims_request_parsing_error",GM="authority_uri_insecure",sc="url_parse_error",zM="empty_url_error",KM="empty_input_scopes_error",bE="invalid_claims",WM="token_request_empty",$M="logout_request_empty",cY="invalid_code_challenge_method",IE="pkce_params_missing",NE="invalid_cloud_discovery_metadata",jM="invalid_authority_metadata",JM="untrusted_authority",Sm="missing_ssh_jwk",QM="missing_ssh_kid",dY="missing_nonce_authentication_header",fY="invalid_authentication_header",XM="cannot_set_OIDCOptions",ZM="cannot_allow_platform_broker",ek="authority_mismatch",tk="invalid_request_method_for_EAR",nk="invalid_authorize_post_body_parameters",rk="invalid_platform_broker_configuration";/*! @azure/msal-common v15.13.3 2025-12-04 */const hY={[YM]:"A redirect URI is required for all calls, and none has been set.",[uY]:"Could not parse the given claims request object.",[GM]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[sc]:"URL could not be parsed into appropriate segments.",[zM]:"URL was empty or null.",[KM]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[bE]:"Given claims parameter must be a stringified JSON object.",[WM]:"Token request was empty and not found in cache.",[$M]:"The logout request was null or undefined.",[cY]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[IE]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[NE]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[jM]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[JM]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Sm]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[QM]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[dY]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[fY]:"Invalid authentication header provided",[XM]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[ZM]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[ek]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[nk]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[tk]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST.",[rk]:"Invalid platform broker configuration. `allowPlatformBrokerWithDOM` can only be enabled when `allowPlatformBroker` is enabled."};class RE extends cn{constructor(e){super(e,hY[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,RE.prototype)}}function un(i){return new RE(i)}/*! @azure/msal-common v15.13.3 2025-12-04 */class Pr{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),t=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[a,l]=o.split(/=(.+)/g,2);a&&l&&(n[t(a)]=t(l))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class Pn{constructor(e){const n=e?Pr.trimArrayEntries([...e]):[],r=n?Pr.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw un(KM);this.scopes=new Set,r.forEach(t=>this.scopes.add(t))}static fromString(e){const r=(e||He.EMPTY_STRING).split(" ");return new Pn(r)}static createSearchScopes(e){const n=e&&e.length>0?e:[...Ul],r=new Pn(n);return r.containsOnlyOIDCScopes()?r.removeScope(He.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new Pn(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return S1.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw We(LM)}}removeScope(e){if(!e)throw We(PM);this.scopes.delete(e.trim())}removeOIDCScopes(){S1.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw We(pv);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw We(pv);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),t=this.getScopeCount();return n.size<t+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):He.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.13.3 2025-12-04 */function qp(i,e){if(!i)throw We(AM);try{const n=e(i);return JSON.parse(n)}catch{throw We(yE)}}function yl(i){if(!i)throw We(yE);const e=i.split(Ec.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?He.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.13.3 2025-12-04 */function N1(i,e){return!!i&&!!e&&i===e.split(".")[1]}function Cm(i,e,n,r){if(r){const{oid:t,sub:o,tid:a,name:l,tfp:c,acr:d,preferred_username:f,upn:p,login_hint:m}=r,y=a||c||d||"";return{tenantId:y,localAccountId:t||o||"",name:l,username:f||p||"",loginHint:m,isHomeTenant:N1(y,i)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:N1(n,i)}}function xE(i,e,n,r){let t=i;if(e){const{isHomeTenant:o,...a}=e;t={...i,...a}}if(n){const{isHomeTenant:o,...a}=Cm(i.homeAccountId,i.localAccountId,i.tenantId,n);return t={...t,...a,idTokenClaims:n,idToken:r},t}return t}/*! @azure/msal-common v15.13.3 2025-12-04 */const vi={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.13.3 2025-12-04 */function OE(i){return i&&(i.tid||i.tfp||i.acr)||null}/*! @azure/msal-common v15.13.3 2025-12-04 */const Tr={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.13.3 2025-12-04 */class An{static getAccountInfo(e){return{homeAccountId:e.homeAccountId,environment:e.environment,tenantId:e.realm,username:e.username,localAccountId:e.localAccountId,loginHint:e.loginHint,name:e.name,nativeAccountId:e.nativeAccountId,authorityType:e.authorityType,tenantProfiles:new Map((e.tenantProfiles||[]).map(n=>[n.tenantId,n])),dataBoundary:e.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,r){var d,f,p,m,y,E,T;const t=new An;n.authorityType===vi.Adfs?t.authorityType=If.ADFS_ACCOUNT_TYPE:n.protocolMode===Tr.OIDC?t.authorityType=If.GENERIC_ACCOUNT_TYPE:t.authorityType=If.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=qp(e.clientInfo,r),o.xms_tdbr&&(t.dataBoundary=o.xms_tdbr==="EU"?"EU":"None")),t.clientInfo=e.clientInfo,t.homeAccountId=e.homeAccountId,t.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw We(TE);t.environment=a,t.realm=(o==null?void 0:o.utid)||OE(e.idTokenClaims)||"",t.localAccountId=(o==null?void 0:o.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((f=e.idTokenClaims)==null?void 0:f.sub)||"";const l=((p=e.idTokenClaims)==null?void 0:p.preferred_username)||((m=e.idTokenClaims)==null?void 0:m.upn),c=(y=e.idTokenClaims)!=null&&y.emails?e.idTokenClaims.emails[0]:null;if(t.username=l||c||"",t.loginHint=(E=e.idTokenClaims)==null?void 0:E.login_hint,t.name=((T=e.idTokenClaims)==null?void 0:T.name)||"",t.cloudGraphHostName=e.cloudGraphHostName,t.msGraphHost=e.msGraphHost,e.tenantProfiles)t.tenantProfiles=e.tenantProfiles;else{const C=Cm(e.homeAccountId,t.localAccountId,t.realm,e.idTokenClaims);t.tenantProfiles=[C]}return t}static createFromAccountInfo(e,n,r){var o;const t=new An;return t.authorityType=e.authorityType||If.GENERIC_ACCOUNT_TYPE,t.homeAccountId=e.homeAccountId,t.localAccountId=e.localAccountId,t.nativeAccountId=e.nativeAccountId,t.realm=e.tenantId,t.environment=e.environment,t.username=e.username,t.name=e.name,t.loginHint=e.loginHint,t.cloudGraphHostName=n,t.msGraphHost=r,t.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),t.dataBoundary=e.dataBoundary,t}static generateHomeAccountId(e,n,r,t,o){if(!(n===vi.Adfs||n===vi.Dsts)){if(e)try{const a=qp(e,t.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let t=!0;if(r){const o=e.idTokenClaims||{},a=n.idTokenClaims||{};t=o.iat===a.iat&&o.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&t}}/*! @azure/msal-common v15.13.3 2025-12-04 */function qi(i,e){const n=pY(i);try{const r=e(n);return JSON.parse(r)}catch{throw We(_E)}}function Gi(i){if(!i.signin_state)return!1;const e=["kmsi","dvc_dmjd"];return i.signin_state.some(r=>e.includes(r.trim().toLowerCase()))}function pY(i){if(!i)throw We(bM);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(i);if(!n||n.length<4)throw We(_E);return n[2]}function ik(i,e){if(e===0||Date.now()-3e5>i+e)throw We(DM)}/*! @azure/msal-common v15.13.3 2025-12-04 */function R1(i){if(!i)return i;let e=i.toLowerCase();return Pr.endsWith(e,"?")?e=e.slice(0,-1):Pr.endsWith(e,"?/")&&(e=e.slice(0,-2)),Pr.endsWith(e,"/")||(e+="/"),e}function ok(i){return i.startsWith("#/")?i.substring(2):i.startsWith("#")||i.startsWith("?")?i.substring(1):i}function Vp(i){if(!i||i.indexOf("=")<0)return null;try{const e=ok(i),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw We(RM)}return null}function Tc(i,e=!0,n){const r=new Array;return i.forEach((t,o)=>{!e&&n&&o in n?r.push(`${o}=${t}`):r.push(`${o}=${encodeURIComponent(t)}`)}),r.join("&")}function x1(i){if(!i)return i;const e=i.split("#")[0];try{const n=new URL(e),r=n.origin+n.pathname+n.search;return R1(r)}catch{return R1(e)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class Wt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw un(zM);e.includes("#")||(this._urlString=Wt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Pr.endsWith(n,"?")?n=n.slice(0,-1):Pr.endsWith(n,"?/")&&(n=n.slice(0,-2)),Pr.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw un(sc)}if(!e.HostNameAndPort||!e.PathSegments)throw un(sc);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw un(GM)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Wt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===fs.COMMON||r[0]===fs.ORGANIZATIONS)&&(r[0]=e),Wt.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw un(sc);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let t=r.AbsolutePath.split("/");return t=t.filter(o=>o&&o.length>0),r.PathSegments=t,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw un(sc);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===He.FORWARD_SLASH){const t=new Wt(n).getUrlComponents();return t.Protocol+"//"+t.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Wt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Vp(e)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const sk={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},O1=sk.endpointMetadata,DE=sk.instanceDiscoveryMetadata,ak=new Set;DE.metadata.forEach(i=>{i.aliases.forEach(e=>{ak.add(e)})});function mY(i,e){var t;let n;const r=i.canonicalAuthority;if(r){const o=new Wt(r).getUrlComponents().HostNameAndPort;n=D1(o,(t=i.cloudDiscoveryMetadata)==null?void 0:t.metadata,Dr.CONFIG,e)||D1(o,DE.metadata,Dr.HARDCODED_VALUES,e)||i.knownAuthorities}return n||[]}function D1(i,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),i&&e){const t=Yp(e,i);if(t)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),t.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function gY(i){return Yp(DE.metadata,i)}function Yp(i,e){for(let n=0;n<i.length;n++){const r=i[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.13.3 2025-12-04 */const Gp="cache_quota_exceeded",ME="cache_error_unknown";/*! @azure/msal-common v15.13.3 2025-12-04 */const H0={[Gp]:"Exceeded cache storage capacity.",[ME]:"Unexpected error occurred when using cache storage."};class _l extends cn{constructor(e,n){const r=n||(H0[e]?H0[e]:H0[ME]);super(`${e}: ${r}`),Object.setPrototypeOf(this,_l.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function yv(i){return i instanceof Error?i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?new _l(Gp):new _l(i.name,i.message):new _l(ME)}/*! @azure/msal-common v15.13.3 2025-12-04 */class _v{constructor(e,n,r,t,o){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(VM,CE),this.staticAuthorityOptions=o,this.performanceClient=t}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(t=>!t))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(e,n);return r.length>1?r.sort(o=>o.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?An.getAccountInfo(r[0]):null}buildTenantProfiles(e,n,r){return e.flatMap(t=>this.getTenantProfilesFromAccountEntity(t,n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,t,o){let a=null,l;if(o&&!this.tenantProfileMatchesFilter(r,o))return null;const c=this.getIdToken(e,t,n,r.tenantId);return c&&(l=qi(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(l,o))?null:(a=xE(e,r,l,c==null?void 0:c.secret),a)}getTenantProfilesFromAccountEntity(e,n,r,t){const o=An.getAccountInfo(e);let a=o.tenantProfiles||new Map;const l=this.getTokenKeys();if(r){const d=a.get(r);if(d)a=new Map([[r,d]]);else return[]}const c=[];return a.forEach(d=>{const f=this.getTenantedAccountInfoByFilter(o,l,d,n,t);f&&c.push(f)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r,t){var o;if(!e)throw We(UM);try{e.account&&await this.setAccount(e.account,n,r),e.idToken&&(t==null?void 0:t.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n,r),e.accessToken&&(t==null?void 0:t.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n,r),e.refreshToken&&(t==null?void 0:t.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(a){throw(o=this.commonLogger)==null||o.error("CacheManager.saveCacheRecord: failed"),a instanceof cn?a:yv(a)}}async saveAccessToken(e,n,r){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),a=Pn.fromString(e.target);o.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,t,!1))return;const c=this.getAccessTokenCredential(l,n);c&&this.credentialMatchesFilter(c,t)&&Pn.fromString(c.target).intersectingScopeSets(a)&&this.removeAccessToken(l,n)}),await this.setAccessTokenCredential(e,n,r)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),t=[];return r.forEach(o=>{var d;const a=this.getAccount(o,n);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const l={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(d=a.tenantProfiles)==null?void 0:d.filter(f=>this.tenantProfileMatchesFilter(f,l));c&&c.length===0||t.push(a)}),t}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===rn.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(t=>{if(!this.isAppMetadata(t))return;const o=this.getAppMetadata(t);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[t]=o))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(t=>{if(!this.isAuthorityMetadata(t)||t.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(t);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const r=this.getAccountKeys(),t=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);r.filter(t).forEach(o=>{this.removeItem(o,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const r=this.getTokenKeys(),t=o=>o.includes(e.homeAccountId)&&o.includes(e.environment);r.idToken.filter(t).forEach(o=>{this.removeIdToken(o,n)}),r.accessToken.filter(t).forEach(o=>{this.removeAccessToken(o,n)}),r.refreshToken.filter(t).forEach(o=>{this.removeRefreshToken(o,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==rn.POP)return;const t=r.keyId;t&&this.cryptoImpl.removeTokenBindingKey(t).catch(()=>{var o;this.commonLogger.error(`Failed to remove token binding key ${t}`,n),(o=this.performanceClient)==null||o.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}getIdToken(e,n,r,t,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Wn.ID_TOKEN,clientId:this.clientId,realm:t},l=this.getIdTokensByFilter(a,n,r),c=l.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let d=l;if(!t){const f=new Map;l.forEach((m,y)=>{m.realm===e.tenantId&&f.set(y,m)});const p=f.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(p===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),f.values().next().value;d=f}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((f,p)=>{this.removeIdToken(p,n)}),o&&n&&o.addFields({multiMatchedID:l.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,n,r){const t=r&&r.idToken||this.getTokenKeys().idToken,o=new Map;return t.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const l=this.getIdTokenCredential(a,n);l&&this.credentialMatchesFilter(l,e)&&o.set(a,l)}),o}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,t){const o=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const a=Pn.createSearchScopes(n.scopes),l=n.authenticationScheme||rn.BEARER,c=l.toLowerCase()!==rn.BEARER.toLowerCase()?Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Wn.ACCESS_TOKEN,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:t||e.tenantId,target:a,tokenType:l,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},f=r&&r.accessToken||this.getTokenKeys().accessToken,p=[];f.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,d,!0)){const E=this.getAccessTokenCredential(y,o);E&&this.credentialMatchesFilter(E,d)&&p.push(E)}});const m=p.length;return m<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):m>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),p.forEach(y=>{this.removeAccessToken(this.generateCredentialKey(y),o)}),this.performanceClient.addFields({multiMatchedAT:p.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),p[0])}accessTokenKeyMatchesFilter(e,n,r){const t=e.toLowerCase();if(n.clientId&&t.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&t.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&t.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&t.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let a=0;a<o.length;a++){if(r&&!t.includes(o[a].toLowerCase()))return!1;if(!r&&t.includes(o[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),t=[];return r.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const a=this.getAccessTokenCredential(o,n);a&&this.credentialMatchesFilter(a,e)&&t.push(a)}),t}getRefreshToken(e,n,r,t,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?Up:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Wn.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=t&&t.refreshToken||this.getTokenKeys().refreshToken,d=[];c.forEach(p=>{if(this.refreshTokenKeyMatchesFilter(p,l)){const m=this.getRefreshTokenCredential(p,r);m&&this.credentialMatchesFilter(m,l)&&d.push(m)}});const f=d.length;return f<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(f>1&&o&&r&&o.addFields({multiMatchedRT:f},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),t=Object.keys(r).map(a=>r[a]),o=t.length;if(o<1)return null;if(o>1)throw We(MM);return t[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Up)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const t=mY(this.staticAuthorityOptions,this.commonLogger);if(t.includes(n)&&t.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Wn.ACCESS_TOKEN&&e.credentialType!==Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Pn.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(gE)!==-1}isAuthorityMetadata(e){return e.indexOf(Fp.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Fp.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class yY extends _v{async setAccount(){throw We(It)}getAccount(){throw We(It)}async setIdTokenCredential(){throw We(It)}getIdTokenCredential(){throw We(It)}async setAccessTokenCredential(){throw We(It)}getAccessTokenCredential(){throw We(It)}async setRefreshTokenCredential(){throw We(It)}getRefreshTokenCredential(){throw We(It)}setAppMetadata(){throw We(It)}getAppMetadata(){throw We(It)}setServerTelemetry(){throw We(It)}getServerTelemetry(){throw We(It)}setAuthorityMetadata(){throw We(It)}getAuthorityMetadata(){throw We(It)}getAuthorityMetadataKeys(){throw We(It)}setThrottlingCache(){throw We(It)}getThrottlingCache(){throw We(It)}removeItem(){throw We(It)}getKeys(){throw We(It)}getAccountKeys(){throw We(It)}getTokenKeys(){throw We(It)}generateCredentialKey(){throw We(It)}generateAccountKey(){throw We(It)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const me={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},_Y={InProgress:1};/*! @azure/msal-common v15.13.3 2025-12-04 */class M1{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class lk{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:_Y.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new M1}}startPerformanceMeasurement(){return new M1}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.13.3 2025-12-04 */const uk={tokenRenewalOffsetSeconds:CM,preventCorsPreflight:!1},vY={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ft.Info,correlationId:He.EMPTY_STRING},EY={claimsBasedCachingEnabled:!1},TY={async sendGetRequestAsync(){throw We(It)},async sendPostRequestAsync(){throw We(It)}},wY={sku:He.SKU,version:CE,cpu:He.EMPTY_STRING,os:He.EMPTY_STRING},SY={clientSecret:He.EMPTY_STRING,clientAssertion:void 0},CY={azureCloudInstance:AE.None,tenant:`${He.DEFAULT_COMMON_TENANT}`},AY={application:{appName:"",appVersion:""}};function bY({authOptions:i,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:t,networkInterface:o,cryptoInterface:a,clientCredentials:l,libraryInfo:c,telemetry:d,serverTelemetryManager:f,persistencePlugin:p,serializableCache:m}){const y={...vY,...n};return{authOptions:IY(i),systemOptions:{...uk,...e},loggerOptions:y,cacheOptions:{...EY,...r},storageInterface:t||new yY(i.clientId,Hp,new ys(y),new lk),networkInterface:o||TY,cryptoInterface:a||Hp,clientCredentials:l||SY,libraryInfo:{...wY,...c},telemetry:{...AY,...d},serverTelemetryManager:f||null,persistencePlugin:p||null,serializableCache:m||null}}function IY(i){return{clientCapabilities:[],azureCloudOptions:CY,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...i}}function ck(i){return i.authOptions.authority.options.protocolMode===Tr.OIDC}/*! @azure/msal-common v15.13.3 2025-12-04 */const Ti={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.13.3 2025-12-04 */const Zs="client_id",dk="redirect_uri",NY="response_type",RY="response_mode",xY="grant_type",OY="claims",DY="scope",MY="refresh_token",kY="state",PY="nonce",LY="prompt",UY="code",FY="code_challenge",BY="code_challenge_method",HY="code_verifier",qY="client-request-id",VY="x-client-SKU",YY="x-client-VER",GY="x-client-OS",zY="x-client-CPU",KY="x-client-current-telemetry",WY="x-client-last-telemetry",$Y="x-ms-lib-capability",jY="x-app-name",JY="x-app-ver",QY="post_logout_redirect_uri",XY="id_token_hint",ZY="client_secret",eG="client_assertion",tG="client_assertion_type",fk="token_type",hk="req_cnf",k1="return_spa_code",nG="nativebroker",rG="logout_hint",iG="sid",oG="login_hint",sG="domain_hint",aG="x-client-xtra-sku",zp="brk_client_id",Kp="brk_redirect_uri",vv="instance_aware",lG="ear_jwk",uG="ear_jwe_crypto";/*! @azure/msal-common v15.13.3 2025-12-04 */function Am(i,e,n){if(!e)return;const r=i.get(Zs);r&&i.has(zp)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:i.get(dk)},e))}function kE(i,e){i.set(NY,e)}function cG(i,e){i.set(RY,e||zV.QUERY)}function dG(i){i.set(nG,"1")}function PE(i,e,n=!0,r=Ul){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const t=n?[...e||[],...r]:e||[],o=new Pn(t);i.set(DY,o.printScopes())}function LE(i,e){i.set(Zs,e)}function UE(i,e){i.set(dk,e)}function fG(i,e){i.set(QY,e)}function hG(i,e){i.set(XY,e)}function pG(i,e){i.set(sG,e)}function Nf(i,e){i.set(oG,e)}function Wp(i,e){i.set(ar.CCS_HEADER,`UPN:${e}`)}function hc(i,e){i.set(ar.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function P1(i,e){i.set(iG,e)}function FE(i,e,n){const r=EG(e,n);try{JSON.parse(r)}catch{throw un(bE)}i.set(OY,r)}function BE(i,e){i.set(qY,e)}function HE(i,e){i.set(VY,e.sku),i.set(YY,e.version),e.os&&i.set(GY,e.os),e.cpu&&i.set(zY,e.cpu)}function qE(i,e){e!=null&&e.appName&&i.set(jY,e.appName),e!=null&&e.appVersion&&i.set(JY,e.appVersion)}function mG(i,e){i.set(LY,e)}function pk(i,e){e&&i.set(kY,e)}function gG(i,e){i.set(PY,e)}function VE(i,e,n){if(e&&n)i.set(FY,e),i.set(BY,n);else throw un(IE)}function yG(i,e){i.set(UY,e)}function _G(i,e){i.set(MY,e)}function vG(i,e){i.set(HY,e)}function mk(i,e){i.set(ZY,e)}function gk(i,e){e&&i.set(eG,e)}function yk(i,e){e&&i.set(tG,e)}function _k(i,e){i.set(xY,e)}function YE(i){i.set(KV,"1")}function vk(i){i.has(vv)||i.set(vv,"true")}function ps(i,e){Object.entries(e).forEach(([n,r])=>{!i.has(n)&&r&&i.set(n,r)})}function EG(i,e){let n;if(!i)n={};else try{n=JSON.parse(i)}catch{throw un(bE)}return e&&e.length>0&&(n.hasOwnProperty(bf.ACCESS_TOKEN)||(n[bf.ACCESS_TOKEN]={}),n[bf.ACCESS_TOKEN][bf.XMS_CC]={values:e}),JSON.stringify(n)}function GE(i,e){e&&(i.set(fk,rn.POP),i.set(hk,e))}function Ek(i,e){e&&(i.set(fk,rn.SSH),i.set(hk,e))}function Tk(i,e){i.set(KY,e.generateCurrentRequestHeaderValue()),i.set(WY,e.generateLastRequestHeaderValue())}function wk(i){i.set($Y,fc.X_MS_LIB_CAPABILITY_VALUE)}function TG(i,e){i.set(rG,e)}function bm(i,e,n){i.has(zp)||i.set(zp,e),i.has(Kp)||i.set(Kp,n)}function wG(i,e){i.set(lG,encodeURIComponent(e)),i.set(uG,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function SG(i,e){Object.entries(e).forEach(([n,r])=>{r&&i.set(n,r)})}/*! @azure/msal-common v15.13.3 2025-12-04 */function CG(i){return i.hasOwnProperty("authorization_endpoint")&&i.hasOwnProperty("token_endpoint")&&i.hasOwnProperty("issuer")&&i.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.13.3 2025-12-04 */function AG(i){return i.hasOwnProperty("tenant_discovery_endpoint")&&i.hasOwnProperty("metadata")}/*! @azure/msal-common v15.13.3 2025-12-04 */function bG(i){return i.hasOwnProperty("error")&&i.hasOwnProperty("error_description")}/*! @azure/msal-common v15.13.3 2025-12-04 */const Lr=(i,e,n,r,t)=>(...o)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,t);if(t){const l=e+"CallCount";r==null||r.incrementFields({[l]:1},t)}try{const l=i(...o);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),l}catch(l){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(l))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},l),l}},Me=(i,e,n,r,t)=>(...o)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,t);if(t){const l=e+"CallCount";r==null||r.incrementFields({[l]:1},t)}return r==null||r.setPreQueueTime(e,t),i(...o).then(l=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),l)).catch(l=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(l))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},l),l})};/*! @azure/msal-common v15.13.3 2025-12-04 */class Im{constructor(e,n,r,t){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=t}async detectRegion(e,n){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(me.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=Xa.ENVIRONMENT_VARIABLE;else{const o=Im.IMDS_OPTIONS;try{const a=await Me(this.getRegionFromIMDS.bind(this),me.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(He.IMDS_VERSION,o);if(a.status===ds.SUCCESS&&(r=a.body,n.region_source=Xa.IMDS),a.status===ds.BAD_REQUEST){const l=await Me(this.getCurrentVersion.bind(this),me.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!l)return n.region_source=Xa.FAILED_AUTO_DETECTION,null;const c=await Me(this.getRegionFromIMDS.bind(this),me.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(l,o);c.status===ds.SUCCESS&&(r=c.body,n.region_source=Xa.IMDS)}}catch{return n.region_source=Xa.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Xa.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(me.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${He.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,He.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(me.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${He.IMDS_ENDPOINT}?format=json`,e);return r.status===ds.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Im.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.13.3 2025-12-04 */function Sr(){return Math.round(new Date().getTime()/1e3)}function L1(i){return i.getTime()/1e3}function vl(i){return i?new Date(Number(i)*1e3):new Date}function $p(i,e){const n=Number(i)||0;return Sr()+e>n}function U1(i,e){const n=Number(i)+e*24*60*60*1e3;return Date.now()>n}function IG(i){return Number(i)>Sr()}/*! @azure/msal-common v15.13.3 2025-12-04 */function Nm(i,e,n,r,t){return{credentialType:Wn.ID_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:n,realm:t,lastUpdatedAt:Date.now().toString()}}function Rm(i,e,n,r,t,o,a,l,c,d,f,p,m,y,E){var C,S;const T={homeAccountId:i,credentialType:Wn.ACCESS_TOKEN,secret:n,cachedAt:Sr().toString(),expiresOn:a.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:r,realm:t,target:o,tokenType:f||rn.BEARER,lastUpdatedAt:Date.now().toString()};if(p&&(T.userAssertionHash=p),d&&(T.refreshOn=d.toString()),y&&(T.requestedClaims=y,T.requestedClaimsHash=E),((C=T.tokenType)==null?void 0:C.toLowerCase())!==rn.BEARER.toLowerCase())switch(T.credentialType=Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME,T.tokenType){case rn.POP:const b=qi(n,c);if(!((S=b==null?void 0:b.cnf)!=null&&S.kid))throw We(FM);T.keyId=b.cnf.kid;break;case rn.SSH:T.keyId=m}return T}function Sk(i,e,n,r,t,o,a){const l={credentialType:Wn.REFRESH_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:n,lastUpdatedAt:Date.now().toString()};return o&&(l.userAssertionHash=o),t&&(l.familyId=t),a&&(l.expiresOn=a.toString()),l}function xm(i){return i.hasOwnProperty("homeAccountId")&&i.hasOwnProperty("environment")&&i.hasOwnProperty("credentialType")&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("secret")}function F1(i){return i?xm(i)&&i.hasOwnProperty("realm")&&i.hasOwnProperty("target")&&(i.credentialType===Wn.ACCESS_TOKEN||i.credentialType===Wn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function NG(i){return i?xm(i)&&i.hasOwnProperty("realm")&&i.credentialType===Wn.ID_TOKEN:!1}function B1(i){return i?xm(i)&&i.credentialType===Wn.REFRESH_TOKEN:!1}function RG(i,e){const n=i.indexOf(Kn.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function xG(i,e){let n=!1;i&&(n=i.indexOf(fc.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function OG({environment:i,clientId:e}){return[gE,i,e].join(Ec.CACHE_KEY_SEPARATOR).toLowerCase()}function DG(i,e){return e?i.indexOf(gE)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function MG(i,e){return e?i.indexOf(Fp.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function H1(){return Sr()+Fp.REFRESH_TIME_SECONDS}function Rf(i,e,n){i.authorization_endpoint=e.authorization_endpoint,i.token_endpoint=e.token_endpoint,i.end_session_endpoint=e.end_session_endpoint,i.issuer=e.issuer,i.endpointsFromNetwork=n,i.jwks_uri=e.jwks_uri}function q0(i,e,n){i.aliases=e.aliases,i.preferred_cache=e.preferred_cache,i.preferred_network=e.preferred_network,i.aliasesFromNetwork=n}function q1(i){return i.expiresAt<=Sr()}/*! @azure/msal-common v15.13.3 2025-12-04 */class Xn{constructor(e,n,r,t,o,a,l,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=t,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=l,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new Im(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(He.CIAM_AUTH_URL))return vi.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case He.ADFS:return vi.Adfs;case He.DSTS:return vi.Dsts}return vi.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Wt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw We(Co)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw We(Co)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw We(Co)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw We(qM);return this.replacePath(this.metadata.end_session_endpoint)}else throw We(Co)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw We(Co)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw We(Co)}canReplaceTenant(e){return e.PathSegments.length===1&&!Xn.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===vi.Default&&this.protocolMode!==Tr.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const t=new Wt(this.metadata.canonical_authority).getUrlComponents(),o=t.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,c)=>{let d=o[c];if(c===0&&this.canReplaceTenant(t)){const f=new Wt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==f&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${f}`),d=f)}l!==d&&(n=n.replace(`/${d}/`,`/${l}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===vi.Adfs||this.protocolMode===Tr.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var t,o;(t=this.performanceClient)==null||t.addQueueMeasurement(me.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await Me(this.updateCloudDiscoveryMetadata.bind(this),me.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await Me(this.updateEndpointMetadata.bind(this),me.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:H1(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==Dr.CACHE&&(r==null?void 0:r.source)!==Dr.CACHE&&(e.expiresAt=H1(),e.canonical_authority=this.canonicalAuthority);const t=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(t,e),this.metadata=e}async updateEndpointMetadata(e){var t,o,a;(t=this.performanceClient)==null||t.addQueueMeasurement(me.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Dr.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const l=await Me(this.updateMetadataWithRegionalInformation.bind(this),me.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Rf(e,l,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await Me(this.getEndpointMetadataFromNetwork.bind(this),me.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(r=await Me(this.updateMetadataWithRegionalInformation.bind(this),me.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Rf(e,r,!0),Dr.NETWORK;throw We(NM,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Rf(e,n,!1),{source:Dr.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Rf(e,t,!1),{source:Dr.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=q1(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Dr.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Wt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw un(jM)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(me.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const t=await this.networkInterface.sendGetRequestAsync(n,e);return CG(t.body)?t.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(t){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${t}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in O1?O1[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,t,o;(r=this.performanceClient)==null||r.addQueueMeasurement(me.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(t=this.authorityOptions.azureRegionConfiguration)==null?void 0:t.azureRegion;if(n){if(n!==He.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=B0.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Xn.replaceWithRegionalInformation(e,n);const a=await Me(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),me.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=B0.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,Xn.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=B0.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(me.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await Me(this.getCloudDiscoveryMetadataFromNetwork.bind(this),me.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return q0(e,r,!0),Dr.NETWORK;throw un(JM)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||He.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||He.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||He.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),q0(e,n,!1),Dr.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=gY(this.hostnameAndPort);if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),q0(e,t,!1),Dr.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=q1(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Dr.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===vi.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Xn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Yp(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),un(NE)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Xn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(me.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${He.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,n);let a,l;if(AG(o.body))a=o.body,l=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(bG(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===He.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),l=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Yp(l,this.hostnameAndPort)}catch(o){if(o instanceof cn)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Xn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Wt.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==AE.None){const t=n.tenant?n.tenant:He.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${t}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return He.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw We(Co)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ak.has(e)}static isPublicCloudAuthority(e){return He.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const t=new Wt(e);t.validateAsUri();const o=t.getUrlComponents();let a=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${n}.${He.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const l=Wt.constructAuthorityUriFromObject({...t.getUrlComponents(),HostNameAndPort:a}).urlString;return r?`${l}?${r}`:l}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Xn.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Xn.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Xn.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const t=new Wt(e).getUrlComponents();if(t.PathSegments.length===0&&t.HostNameAndPort.endsWith(He.CIAM_AUTH_URL)){const o=t.HostNameAndPort.split(".")[0];n=`${n}${o}${He.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Xn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",fs.COMMON,fs.CONSUMERS,fs.ORGANIZATIONS]);function kG(i){var t;const r=(t=new Wt(i).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:t.toLowerCase();switch(r){case fs.COMMON:case fs.ORGANIZATIONS:case fs.CONSUMERS:return;default:return r}}function Ck(i){return i.endsWith(He.FORWARD_SLASH)?i:`${i}${He.FORWARD_SLASH}`}function PG(i){const e=i.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw un(NE)}return{canonicalAuthority:i.authority?Ck(i.authority):void 0,knownAuthorities:i.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.13.3 2025-12-04 */async function Ak(i,e,n,r,t,o,a){a==null||a.addQueueMeasurement(me.AuthorityFactoryCreateDiscoveredInstance,o);const l=Xn.transformCIAMAuthority(Ck(i)),c=new Xn(l,e,n,r,t,o,a);try{return await Me(c.resolveEndpointsAsync.bind(c),me.AuthorityResolveEndpointsAsync,t,a,o)(),c}catch{throw We(Co)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class aa extends cn{constructor(e,n,r,t,o){super(e,n,r),this.name="ServerError",this.errorNo=t,this.status=o,Object.setPrototypeOf(this,aa.prototype)}}/*! @azure/msal-common v15.13.3 2025-12-04 */function Om(i,e,n){var r;return{clientId:i,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class Fi{static generateThrottlingStorageKey(e){return`${fc.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){var a;const t=Fi.generateThrottlingStorageKey(n),o=e.getThrottlingCache(t);if(o){if(o.throttleTime<Date.now()){e.removeItem(t,r);return}throw new aa(((a=o.errorCodes)==null?void 0:a.join(" "))||He.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,n,r,t){if(Fi.checkResponseStatus(r)||Fi.checkResponseForRetryAfter(r)){const o={throttleTime:Fi.calculateThrottleTime(parseInt(r.headers[ar.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Fi.generateThrottlingStorageKey(n),o,t)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(ar.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||fc.DEFAULT_THROTTLE_TIME_SECONDS),r+fc.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,t){const o=Om(n,r,t),a=this.generateThrottlingStorageKey(o);e.removeItem(a,r.correlationId)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class Dm extends cn{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Dm.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function ac(i,e,n,r){return i.errorMessage=`${i.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Dm(i,e,n)}/*! @azure/msal-common v15.13.3 2025-12-04 */class zE{constructor(e,n){this.config=bY(e),this.logger=new ys(this.config.loggerOptions,VM,CE),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[ar.CONTENT_TYPE]=He.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ti.HOME_ACCOUNT_ID:try{const r=yl(e.credential);n[ar.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Ti.UPN:n[ar.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,t,o,a){var c;a&&((c=this.performanceClient)==null||c.addQueueMeasurement(a,o));const l=await this.sendPostRequest(t,e,{body:n,headers:r},o);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,n,r,t){var a,l,c;Fi.preProcess(this.cacheManager,e,t);let o;try{o=await Me(this.networkClient.sendPostRequestAsync.bind(this.networkClient),me.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,t)(n,r);const d=o.headers||{};(l=this.performanceClient)==null||l.addFields({refreshTokenSize:((a=o.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:d[ar.X_MS_HTTP_VERSION]||"",requestId:d[ar.X_MS_REQUEST_ID]||""},t)}catch(d){if(d instanceof Dm){const f=d.responseHeaders;throw f&&((c=this.performanceClient)==null||c.addFields({httpVerToken:f[ar.X_MS_HTTP_VERSION]||"",requestId:f[ar.X_MS_REQUEST_ID]||"",contentTypeHeader:f[ar.CONTENT_TYPE]||void 0,contentLengthHeader:f[ar.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},t)),d.error}throw d instanceof cn?d:We(IM)}return Fi.postProcess(this.cacheManager,e,o,t),o}async updateAuthority(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(me.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,t=await Ak(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=t}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&ps(n,e.tokenQueryParameters),BE(n,e.correlationId),Am(n,e.correlationId,this.performanceClient),Tc(n)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const jp="no_tokens_found",bk="native_account_unavailable",KE="refresh_token_expired",WE="ux_not_allowed",LG="interaction_required",UG="consent_required",FG="login_required",Mm="bad_token";/*! @azure/msal-common v15.13.3 2025-12-04 */const V1=[LG,UG,FG,Mm,WE],BG=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],HG={[jp]:"No refresh token found in the cache. Please sign-in.",[bk]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[KE]:"Refresh token has expired.",[Mm]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[WE]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class bi extends cn{constructor(e,n,r,t,o,a,l,c){super(e,n,r),Object.setPrototypeOf(this,bi.prototype),this.timestamp=t||He.EMPTY_STRING,this.traceId=o||He.EMPTY_STRING,this.correlationId=a||He.EMPTY_STRING,this.claims=l||He.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Ik(i,e,n){const r=!!i&&V1.indexOf(i)>-1,t=!!n&&BG.indexOf(n)>-1,o=!!e&&V1.some(a=>e.indexOf(a)>-1);return r||o||t}function Jp(i){return new bi(i,HG[i])}/*! @azure/msal-common v15.13.3 2025-12-04 */class Fl{static setRequestState(e,n,r){const t=Fl.generateLibraryState(e,r);return n?`${t}${He.RESOURCE_DELIM}${n}`:t}static generateLibraryState(e,n){if(!e)throw We(gv);const r={id:e.createNewGuid()};n&&(r.meta=n);const t=JSON.stringify(r);return e.base64Encode(t)}static parseRequestState(e,n){if(!e)throw We(gv);if(!n)throw We(Al);try{const r=n.split(He.RESOURCE_DELIM),t=r[0],o=r.length>1?r.slice(1).join(He.RESOURCE_DELIM):He.EMPTY_STRING,a=e.base64Decode(t),l=JSON.parse(a);return{userRequestState:o||He.EMPTY_STRING,libraryState:l}}catch{throw We(Al)}}}/*! @azure/msal-common v15.13.3 2025-12-04 */const qG={SW:"sw"};class bl{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(me.PopTokenGenerateCnf,e.correlationId);const r=await Me(this.generateKid.bind(this),me.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),t=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:t}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(me.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:qG.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,t){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:l,shrNonce:c,shrOptions:d}=r,f=a?new Wt(a):void 0,p=f==null?void 0:f.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Sr(),m:o==null?void 0:o.toUpperCase(),u:p==null?void 0:p.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:p==null?void 0:p.AbsolutePath,q:p!=null&&p.QueryString?[[],p.QueryString]:void 0,client_claims:l||void 0,...t},n,d,r.correlationId)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class VG{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.13.3 2025-12-04 */class ea{constructor(e,n,r,t,o,a,l){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=t,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=l}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const t=`Error(s): ${e.error_codes||He.NOT_AVAILABLE} - Timestamp: ${e.timestamp||He.NOT_AVAILABLE} - Description: ${e.error_description||He.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||He.NOT_AVAILABLE} - Trace ID: ${e.trace_id||He.NOT_AVAILABLE}`,o=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,a=new aa(e.error,t,e.suberror,o,e.status);if(n&&e.status&&e.status>=ds.SERVER_ERROR_RANGE_START&&e.status<=ds.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=ds.CLIENT_ERROR_RANGE_START&&e.status<=ds.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw Ik(e.error,e.error_description,e.suberror)?new bi(e.error,e.error_description,e.suberror,e.timestamp||He.EMPTY_STRING,e.trace_id||He.EMPTY_STRING,e.correlation_id||He.EMPTY_STRING,e.claims||He.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,n,r,t,o,a,l,c,d){var E;(E=this.performanceClient)==null||E.addQueueMeasurement(me.HandleServerTokenResponse,e.correlation_id);let f;if(e.id_token){if(f=qi(e.id_token||He.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&f.nonce!==o.nonce)throw We(OM);if(t.maxAge||t.maxAge===0){const T=f.auth_time;if(!T)throw We(vE);ik(T,t.maxAge)}}this.homeAccountIdentifier=An.generateHomeAccountId(e.client_info||He.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,f);let p;o&&o.state&&(p=Fl.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||t.sshKid||void 0;const m=this.generateCacheRecord(e,n,r,t,f,a,o);let y;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),y=new VG(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(y)),l&&!c&&m.account){const T=this.cacheStorage.generateAccountKey(An.getAccountInfo(m.account));if(!this.cacheStorage.getAccount(T,t.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ea.generateAuthenticationResult(this.cryptoObj,n,m,!1,t,f,p,void 0,d)}await this.cacheStorage.saveCacheRecord(m,t.correlationId,Gi(f||{}),t.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&y&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(y))}return ea.generateAuthenticationResult(this.cryptoObj,n,m,!1,t,f,p,e,d)}generateCacheRecord(e,n,r,t,o,a,l){const c=n.getPreferredCache();if(!c)throw We(TE);const d=OE(o);let f,p;e.id_token&&o&&(f=Nm(this.homeAccountIdentifier,c,e.id_token,this.clientId,d||""),p=$E(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,t.correlationId,o,e.client_info,c,d,l,void 0,this.logger));let m=null;if(e.access_token){const T=e.scope?Pn.fromString(e.scope):new Pn(t.scopes||[]),C=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,S=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,b=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,I=r+C,N=I+S,x=b&&b>0?r+b:void 0;m=Rm(this.homeAccountIdentifier,c,e.access_token,this.clientId,d||n.tenant||"",T.printScopes(),I,N,this.cryptoObj.base64Decode,x,e.token_type,a,e.key_id,t.claims,t.requestedClaimsHash)}let y=null;if(e.refresh_token){let T;if(e.refresh_token_expires_in){const C=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;T=r+C}y=Sk(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,a,T)}let E=null;return e.foci&&(E={clientId:this.clientId,environment:c,familyId:e.foci}),{account:p,idToken:f,accessToken:m,refreshToken:y,appMetadata:E}}static async generateAuthenticationResult(e,n,r,t,o,a,l,c,d){var I,N,x,L,F;let f=He.EMPTY_STRING,p=[],m=null,y,E,T=He.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===rn.POP&&!o.popKid){const G=new bl(e),{secret:Q,keyId:j}=r.accessToken;if(!j)throw We(wE);f=await G.signPopToken(Q,j,o)}else f=r.accessToken.secret;p=Pn.fromString(r.accessToken.target).asArray(),m=vl(r.accessToken.expiresOn),y=vl(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(E=vl(r.accessToken.refreshOn))}r.appMetadata&&(T=r.appMetadata.familyId===Up?Up:"");const C=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",S=(a==null?void 0:a.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const b=r.account?xE(An.getAccountInfo(r.account),void 0,a,(I=r.idToken)==null?void 0:I.secret):null;return{authority:n.canonicalAuthority,uniqueId:C,tenantId:S,scopes:p,account:b,idToken:((N=r==null?void 0:r.idToken)==null?void 0:N.secret)||"",idTokenClaims:a||{},accessToken:f,fromCache:t,expiresOn:m,extExpiresOn:y,refreshOn:E,correlationId:o.correlationId,requestId:d||He.EMPTY_STRING,familyId:T,tokenType:((x=r.accessToken)==null?void 0:x.tokenType)||He.EMPTY_STRING,state:l?l.userRequestState:He.EMPTY_STRING,cloudGraphHostName:((L=r.account)==null?void 0:L.cloudGraphHostName)||He.EMPTY_STRING,msGraphHost:((F=r.account)==null?void 0:F.msGraphHost)||He.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function $E(i,e,n,r,t,o,a,l,c,d,f,p){p==null||p.verbose("setCachedAccount called");const y=i.getAccountKeys().find(b=>b.startsWith(n));let E=null;y&&(E=i.getAccount(y,t));const T=E||An.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:l,cloudGraphHostName:d==null?void 0:d.cloud_graph_host_name,msGraphHost:d==null?void 0:d.msgraph_host,nativeAccountId:f},e,r),C=T.tenantProfiles||[],S=c||T.realm;if(S&&!C.find(b=>b.tenantId===S)){const b=Cm(n,T.localAccountId,S,o);C.push(b)}return T.tenantProfiles=C,T}/*! @azure/msal-common v15.13.3 2025-12-04 */async function Nk(i,e,n){return typeof i=="string"?i:i({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.13.3 2025-12-04 */class Rk extends zE{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var l,c;if((l=this.performanceClient)==null||l.addQueueMeasurement(me.AuthClientAcquireToken,e.correlationId),!e.code)throw We(kM);const r=Sr(),t=await Me(this.executeTokenRequest.bind(this),me.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(c=t.headers)==null?void 0:c[ar.X_MS_REQUEST_ID],a=new ea(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(t.body),Me(a.handleServerTokenResponse.bind(a),me.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(t.body,this.authority,r,e,n,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw un($M);const n=this.createLogoutUrlQueryString(e);return Wt.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(me.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),t=Wt.appendQueryString(e.tokenEndpoint,r),o=await Me(this.createTokenRequestBody.bind(this),me.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const f=qp(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${f.uid}${Ec.CLIENT_INFO_SEPARATOR}${f.utid}`,type:Ti.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}const l=this.createTokenRequestHeaders(a||n.ccsCredential),c=Om(this.config.authOptions.clientId,n);return Me(this.executePostToTokenEndpoint.bind(this),me.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(t,o,l,c,n.correlationId,me.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var t,o;(t=this.performanceClient)==null||t.addQueueMeasurement(me.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(LE(n,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[Zs])||this.config.authOptions.clientId),this.includeRedirectUri)UE(n,e.redirectUri);else if(!e.redirectUri)throw un(YM);if(PE(n,e.scopes,!0,this.oidcDefaultScopes),yG(n,e.code),HE(n,this.config.libraryInfo),qE(n,this.config.telemetry.application),wk(n),this.serverTelemetryManager&&!ck(this.config)&&Tk(n,this.serverTelemetryManager),e.codeVerifier&&vG(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&mk(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;gk(n,await Nk(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),yk(n,a.assertionType)}if(_k(n,SM.AUTHORIZATION_CODE_GRANT),YE(n),e.authenticationScheme===rn.POP){const a=new bl(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await Me(a.generateCnf.bind(a),me.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,GE(n,l)}else if(e.authenticationScheme===rn.SSH)if(e.sshJwk)Ek(n,e.sshJwk);else throw un(Sm);(!Pr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&FE(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const a=qp(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${a.uid}${Ec.CLIENT_INFO_SEPARATOR}${a.utid}`,type:Ti.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Ti.HOME_ACCOUNT_ID:try{const a=yl(r.credential);hc(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Ti.UPN:Wp(n,r.credential);break}return e.embeddedClientId&&bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&ps(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[k1])&&ps(n,{[k1]:"1"}),Am(n,e.correlationId,this.performanceClient),Tc(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&fG(n,e.postLogoutRedirectUri),e.correlationId&&BE(n,e.correlationId),e.idTokenHint&&hG(n,e.idTokenHint),e.state&&pk(n,e.state),e.logoutHint&&TG(n,e.logoutHint),e.extraQueryParameters&&ps(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&vk(n),Tc(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const YG=300;class GG extends zE{constructor(e,n){super(e,n)}async acquireToken(e){var a,l;(a=this.performanceClient)==null||a.addQueueMeasurement(me.RefreshTokenClientAcquireToken,e.correlationId);const n=Sr(),r=await Me(this.executeTokenRequest.bind(this),me.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),t=(l=r.headers)==null?void 0:l[ar.X_MS_REQUEST_ID],o=new ea(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),Me(o.handleServerTokenResponse.bind(o),me.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,t)}async acquireTokenByRefreshToken(e){var r;if(!e)throw un(WM);if((r=this.performanceClient)==null||r.addQueueMeasurement(me.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw We(EE);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Me(this.acquireTokenWithCachedRefreshToken.bind(this),me.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const o=t instanceof bi&&t.errorCode===jp,a=t instanceof aa&&t.errorCode===A1.INVALID_GRANT_ERROR&&t.subError===A1.CLIENT_MISMATCH_ERROR;if(o||a)return Me(this.acquireTokenWithCachedRefreshToken.bind(this),me.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return Me(this.acquireTokenWithCachedRefreshToken.bind(this),me.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var o,a,l;(o=this.performanceClient)==null||o.addQueueMeasurement(me.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=Lr(this.cacheManager.getRefreshToken.bind(this.cacheManager),me.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw Jp(jp);if(r.expiresOn&&$p(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||YG))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Jp(KE);const t={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||rn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ti.HOME_ACCOUNT_ID}};try{return await Me(this.acquireToken.bind(this),me.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(t)}catch(c){if(c instanceof bi&&((l=this.performanceClient)==null||l.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Mm)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(d,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(me.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),t=Wt.appendQueryString(n.tokenEndpoint,r),o=await Me(this.createTokenRequestBody.bind(this),me.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),l=Om(this.config.authOptions.clientId,e);return Me(this.executePostToTokenEndpoint.bind(this),me.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(t,o,a,l,e.correlationId,me.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,t,o;(r=this.performanceClient)==null||r.addQueueMeasurement(me.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(LE(n,e.embeddedClientId||((t=e.tokenBodyParameters)==null?void 0:t[Zs])||this.config.authOptions.clientId),e.redirectUri&&UE(n,e.redirectUri),PE(n,e.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),_k(n,SM.REFRESH_TOKEN_GRANT),YE(n),HE(n,this.config.libraryInfo),qE(n,this.config.telemetry.application),wk(n),this.serverTelemetryManager&&!ck(this.config)&&Tk(n,this.serverTelemetryManager),_G(n,e.refreshToken),this.config.clientCredentials.clientSecret&&mk(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;gk(n,await Nk(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),yk(n,a.assertionType)}if(e.authenticationScheme===rn.POP){const a=new bl(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await Me(a.generateCnf.bind(a),me.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,GE(n,l)}else if(e.authenticationScheme===rn.SSH)if(e.sshJwk)Ek(n,e.sshJwk);else throw un(Sm);if((!Pr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&FE(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ti.HOME_ACCOUNT_ID:try{const a=yl(e.ccsCredential.credential);hc(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Ti.UPN:Wp(n,e.ccsCredential.credential);break}return e.embeddedClientId&&bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&ps(n,e.tokenBodyParameters),Am(n,e.correlationId,this.performanceClient),Tc(n)}}/*! @azure/msal-common v15.13.3 2025-12-04 */class zG extends zE{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(me.SilentFlowClientAcquireCachedToken,e.correlationId);let n=$s.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Pr.isEmptyObj(e.claims))throw this.setCacheOutcome($s.FORCE_REFRESH_OR_CLAIMS,e.correlationId),We(hs);if(!e.account)throw We(EE);const r=e.account.tenantId||kG(e.authority),t=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,t,r);if(o){if(IG(o.cachedAt)||$p(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome($s.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),We(hs);o.refreshOn&&$p(o.refreshOn,0)&&(n=$s.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome($s.NO_CACHED_ACCESS_TOKEN,e.correlationId),We(hs);const a=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,t,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Me(this.generateResultFromCacheRecord.bind(this),me.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),n]}setCacheOutcome(e,n){var r,t;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(t=this.performanceClient)==null||t.addFields({cacheOutcome:e},n),e!==$s.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(me.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=qi(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw We(vE);ik(o,n.maxAge)}return ea.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const KG={sendGetRequestAsync:()=>Promise.reject(We(It)),sendPostRequestAsync:()=>Promise.reject(We(It))};/*! @azure/msal-common v15.13.3 2025-12-04 */function WG(i,e,n,r){var l,c;const t=e.correlationId,o=new Map;LE(o,e.embeddedClientId||((l=e.extraQueryParameters)==null?void 0:l[Zs])||i.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(PE(o,a,!0,(c=i.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),UE(o,e.redirectUri),BE(o,t),cG(o,e.responseMode),YE(o),e.prompt&&(mG(o,e.prompt),r==null||r.addFields({prompt:e.prompt},t)),e.domainHint&&(pG(o,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},t)),e.prompt!==$n.SELECT_ACCOUNT)if(e.sid&&e.prompt===$n.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),P1(o,e.sid),r==null||r.addFields({sidFromRequest:!0},t);else if(e.account){const d=JG(e.account);let f=QG(e.account);if(f&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),f=null),f){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Nf(o,f),r==null||r.addFields({loginHintFromClaim:!0},t);try{const p=yl(e.account.homeAccountId);hc(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(d&&e.prompt===$n.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),P1(o,d),r==null||r.addFields({sidFromClaim:!0},t);try{const p=yl(e.account.homeAccountId);hc(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Nf(o,e.loginHint),Wp(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},t);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Nf(o,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},t);try{const p=yl(e.account.homeAccountId);hc(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Nf(o,e.loginHint),Wp(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},t));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&gG(o,e.nonce),e.state&&pk(o,e.state),(e.claims||i.clientCapabilities&&i.clientCapabilities.length>0)&&FE(o,e.claims,i.clientCapabilities),e.embeddedClientId&&bm(o,i.clientId,i.redirectUri),i.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(vv))&&vk(o),o}function jE(i,e,n,r){const t=Tc(e,n,r);return Wt.appendQueryString(i.authorizationEndpoint,t)}function $G(i,e){if(xk(i,e),!i.code)throw We(BM);return i}function xk(i,e){if(!i.state||!e)throw i.state?We(hv,"Cached State"):We(hv,"Server State");let n,r;try{n=decodeURIComponent(i.state)}catch{throw We(Al,i.state)}try{r=decodeURIComponent(e)}catch{throw We(Al,i.state)}if(n!==r)throw We(xM);if(i.error||i.error_description||i.suberror){const t=jG(i);throw Ik(i.error,i.error_description,i.suberror)?new bi(i.error||"",i.error_description,i.suberror,i.timestamp||"",i.trace_id||"",i.correlation_id||"",i.claims||"",t):new aa(i.error||"",i.error_description,i.suberror,t)}}function jG(i){var r,t;const e="code=",n=(r=i.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(t=i.error_uri)==null?void 0:t.substring(n+e.length):void 0}function JG(i){var e;return((e=i.idTokenClaims)==null?void 0:e.sid)||null}function QG(i){var e;return i.loginHint||((e=i.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.13.3 2025-12-04 */const Y1=",",Ok="|";function XG(i){const{skus:e,libraryName:n,libraryVersion:r,extensionName:t,extensionVersion:o}=i,a=new Map([[0,[n,r]],[2,[t,o]]]);let l=[];if(e!=null&&e.length){if(l=e.split(Y1),l.length<4)return e}else l=Array.from({length:4},()=>Ok);return a.forEach((c,d)=>{var f,p;c.length===2&&((f=c[0])!=null&&f.length)&&((p=c[1])!=null&&p.length)&&ZG({skuArr:l,index:d,skuName:c[0],skuVersion:c[1]})}),l.join(Y1)}function ZG(i){const{skuArr:e,index:n,skuName:r,skuVersion:t}=i;n>=e.length||(e[n]=[r,t].join(Ok))}class wc{constructor(e,n){this.cacheOutcome=$s.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||He.EMPTY_STRING,this.wrapperVer=e.wrapperVer||He.EMPTY_STRING,this.telemetryCacheKey=Kn.CACHE_KEY+Ec.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Kn.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const t=n.join(Kn.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),a=[e,o].join(Kn.VALUE_SEPARATOR);return[Kn.SCHEMA_VERSION,a,t].join(Kn.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=wc.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(Kn.VALUE_SEPARATOR),t=e.errors.slice(0,n).join(Kn.VALUE_SEPARATOR),o=e.errors.length,a=n<o?Kn.OVERFLOW_TRUE:Kn.OVERFLOW_FALSE,l=[o,a].join(Kn.VALUE_SEPARATOR);return[Kn.SCHEMA_VERSION,e.cacheHits,r,t,l].join(Kn.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=Kn.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof cn?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(Kn.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=wc.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const t={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,t=0;const o=e.errors.length;for(n=0;n<o;n++){const a=e.failedRequests[2*n]||He.EMPTY_STRING,l=e.failedRequests[2*n+1]||He.EMPTY_STRING,c=e.errors[n]||He.EMPTY_STRING;if(t+=a.toString().length+l.toString().length+c.length+3,t<Kn.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||He.EMPTY_STRING),e.push(this.regionSource||He.EMPTY_STRING),e.push(this.regionOutcome||He.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return XG(e)}}/*! @azure/msal-common v15.13.3 2025-12-04 */const Dk="missing_kid_error",Mk="missing_alg_error";/*! @azure/msal-common v15.13.3 2025-12-04 */const e7={[Dk]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Mk]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class JE extends cn{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,JE.prototype)}}function G1(i){return new JE(i,e7[i])}/*! @azure/msal-common v15.13.3 2025-12-04 */class QE{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw G1(Dk);if(!e.alg)throw G1(Mk);const n=new QE({typ:e.typ||WV.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */const XE="pkce_not_created",ZE="ear_jwk_empty",kk="ear_jwe_empty",Ev="crypto_nonexistent",km="empty_navigate_uri",Pk="hash_empty_error",eT="no_state_in_hash",Lk="hash_does_not_contain_known_properties",Uk="unable_to_parse_state",Fk="state_interaction_type_mismatch",Bk="interaction_in_progress",Hk="popup_window_error",qk="empty_window_error",Sc="user_cancelled",t7="monitor_popup_timeout",Vk="monitor_window_timeout",Yk="redirect_in_iframe",Gk="block_iframe_reload",zk="block_nested_popups",n7="iframe_closed_prematurely",Pm="silent_logout_unsupported",Kk="no_account_error",r7="silent_prompt_value_error",Wk="no_token_request_cache_error",$k="unable_to_parse_token_request_cache_error",i7="auth_request_not_set_error",o7="invalid_cache_type",Lm="non_browser_environment",sl="database_not_open",Qp="no_network_connectivity",jk="post_request_failed",Jk="get_request_failed",Tv="failed_to_parse_response",Qk="unable_to_load_token",tT="crypto_key_not_found",Xk="auth_code_required",Zk="auth_code_or_nativeAccountId_required",eP="spa_code_and_nativeAccountId_present",nT="database_unavailable",tP="unable_to_acquire_token_from_native_platform",nP="native_handshake_timeout",rP="native_extension_not_installed",rT="native_connection_not_established",pc="uninitialized_public_client_application",iP="native_prompt_not_supported",oP="invalid_base64_string",sP="invalid_pop_token_request",aP="failed_to_build_headers",lP="failed_to_parse_headers",Tp="failed_to_decrypt_ear_response",Xp="timed_out";/*! @azure/msal-browser v4.27.0 2025-12-04 */const _o="For more visit: aka.ms/msaljs/browser-errors",s7={[XE]:"The PKCE code challenge and verifier could not be generated.",[ZE]:"No EAR encryption key provided. This is unexpected.",[kk]:"Server response does not contain ear_jwe property. This is unexpected.",[Ev]:"The crypto object or function is not available.",[km]:"Navigation URI is empty. Please check stack trace for more info.",[Pk]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${_o}`,[eT]:"Hash does not contain state. Please verify that the request originated from msal.",[Lk]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${_o}`,[Uk]:"Unable to parse state. Please verify that the request originated from msal.",[Fk]:"Hash contains state but the interaction type does not match the caller.",[Bk]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${_o}`,[Hk]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[qk]:"window.open returned null or undefined window object.",[Sc]:"User cancelled the flow.",[t7]:`Token acquisition in popup failed due to timeout.  ${_o}`,[Vk]:`Token acquisition in iframe failed due to timeout.  ${_o}`,[Yk]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Gk]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${_o}`,[zk]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[n7]:"The iframe being monitored was closed prematurely.",[Pm]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Kk]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[r7]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Wk]:"No token request found in cache.",[$k]:"The cached token request could not be parsed.",[i7]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[o7]:"Invalid cache type",[Lm]:"Login and token requests are not supported in non-browser environments.",[sl]:"Database is not open!",[Qp]:"No network connectivity. Check your internet connection.",[jk]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Jk]:"Network request failed. Please check the network trace to determine root cause.",[Tv]:"Failed to parse network response. Check network trace.",[Qk]:"Error loading token to cache.",[tT]:"Cryptographic Key or Keypair not found in browser storage.",[Xk]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Zk]:"An authorization code or nativeAccountId must be provided to this flow.",[eP]:"Request cannot contain both spa code and native account id.",[nT]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[tP]:`Unable to acquire token from native platform.  ${_o}`,[nP]:"Timed out while attempting to establish connection to browser extension",[rP]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[rT]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${_o}`,[pc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${_o}`,[iP]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[oP]:"Invalid base64 encoded string.",[sP]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[aP]:"Failed to build request headers object.",[lP]:"Failed to parse response headers",[Tp]:"Failed to decrypt ear response",[Xp]:"The request timed out."};class Lc extends cn{constructor(e,n){super(e,s7[e],n),Object.setPrototypeOf(this,Lc.prototype),this.name="BrowserAuthError"}}function et(i,e){return new Lc(i,e)}/*! @azure/msal-browser v4.27.0 2025-12-04 */const Er={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Zr={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Yu={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},jn={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},z1={GET:"GET",POST:"POST"},ls={SIGNIN:"signin",SIGNOUT:"signout"},On={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},xf={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Qt={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var gt;(function(i){i.Redirect="redirect",i.Popup="popup",i.Silent="silent",i.None="none"})(gt||(gt={}));const K1={scopes:Ul},uP="jwk",wv="msal.db",a7=1,l7=`${wv}.keys`,sr={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},u7=[sr.Default,sr.Skip,sr.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.27.0 2025-12-04 */function Of(i){return encodeURIComponent(Cc(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function _s(i){return cP(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cc(i){return cP(new TextEncoder().encode(i))}function cP(i){const e=Array.from(i,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.27.0 2025-12-04 */function lr(i){return new TextDecoder().decode(ms(i))}function ms(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw et(oP)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.27.0 2025-12-04 */const c7="RSASSA-PKCS1-v1_5",Bl="AES-GCM",dP="HKDF",iT="SHA-256",d7=2048,f7=new Uint8Array([1,0,1]),W1="0123456789abcdef",$1=new Uint32Array(1),oT="raw",fP="encrypt",sT="decrypt",h7="deriveKey",p7="crypto_subtle_undefined",aT={name:c7,hash:iT,modulusLength:d7,publicExponent:f7};function m7(i){if(!window)throw et(Lm);if(!window.crypto)throw et(Ev);if(!i&&!window.crypto.subtle)throw et(Ev,p7)}async function hP(i,e,n){e==null||e.addQueueMeasurement(me.Sha256Digest,n);const t=new TextEncoder().encode(i);return window.crypto.subtle.digest(iT,t)}function g7(i){return window.crypto.getRandomValues(i)}function V0(){return window.crypto.getRandomValues($1),$1[0]}function Ii(){const i=Date.now(),e=V0()*1024+(V0()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),t=e&2**30-1,o=V0();n[0]=i/2**40,n[1]=i/2**32,n[2]=i/2**24,n[3]=i/2**16,n[4]=i/2**8,n[5]=i,n[6]=112|r>>>8,n[7]=r,n[8]=128|t>>>24,n[9]=t>>>16,n[10]=t>>>8,n[11]=t,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let a="";for(let l=0;l<n.length;l++)a+=W1.charAt(n[l]>>>4),a+=W1.charAt(n[l]&15),(l===3||l===5||l===7||l===9)&&(a+="-");return a}async function y7(i,e){return window.crypto.subtle.generateKey(aT,i,e)}async function Y0(i){return window.crypto.subtle.exportKey(uP,i)}async function _7(i,e,n){return window.crypto.subtle.importKey(uP,i,aT,e,n)}async function v7(i,e){return window.crypto.subtle.sign(aT,i,e)}async function lT(){const i=await pP(),n={alg:"dir",kty:"oct",k:_s(new Uint8Array(i))};return Cc(JSON.stringify(n))}async function E7(i){const e=lr(i),r=JSON.parse(e).k,t=ms(r);return window.crypto.subtle.importKey(oT,t,Bl,!1,[sT])}async function T7(i,e){const n=e.split(".");if(n.length!==5)throw et(Tp,"jwe_length");const r=await E7(i).catch(()=>{throw et(Tp,"import_key")});try{const t=new TextEncoder().encode(n[0]),o=ms(n[2]),a=ms(n[3]),l=ms(n[4]),c=l.byteLength*8,d=new Uint8Array(a.length+l.length);d.set(a),d.set(l,a.length);const f=await window.crypto.subtle.decrypt({name:Bl,iv:o,tagLength:c,additionalData:t},r,d);return new TextDecoder().decode(f)}catch{throw et(Tp,"decrypt")}}async function pP(){const i=await window.crypto.subtle.generateKey({name:Bl,length:256},!0,[fP,sT]);return window.crypto.subtle.exportKey(oT,i)}async function j1(i){return window.crypto.subtle.importKey(oT,i,dP,!1,[h7])}async function mP(i,e,n){return window.crypto.subtle.deriveKey({name:dP,salt:e,hash:iT,info:new TextEncoder().encode(n)},i,{name:Bl,length:256},!1,[fP,sT])}async function w7(i,e,n){const r=new TextEncoder().encode(e),t=window.crypto.getRandomValues(new Uint8Array(16)),o=await mP(i,t,n),a=await window.crypto.subtle.encrypt({name:Bl,iv:new Uint8Array(12)},o,r);return{data:_s(new Uint8Array(a)),nonce:_s(t)}}async function J1(i,e,n,r){const t=ms(r),o=await mP(i,ms(e),n),a=await window.crypto.subtle.decrypt({name:Bl,iv:new Uint8Array(12)},o,t);return new TextDecoder().decode(a)}async function gP(i){const e=await hP(i),n=new Uint8Array(e);return _s(n)}/*! @azure/msal-browser v4.27.0 2025-12-04 */const Um="storage_not_supported",yP="stubbed_public_client_application_called",uT="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.27.0 2025-12-04 */const wp={[Um]:"Given storage configuration option was not supported.",[yP]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[uT]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};wp[Um],wp[yP],wp[uT];class cT extends cn{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,cT.prototype)}}function dT(i){return new cT(i,wp[i])}/*! @azure/msal-browser v4.27.0 2025-12-04 */function _P(i){i.location.hash="",typeof i.history.replaceState=="function"&&i.history.replaceState(null,"",`${i.location.origin}${i.location.pathname}${i.location.search}`)}function S7(i){const e=i.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function fT(){return window.parent!==window}function C7(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Er.POPUP_NAME_PREFIX}.`)===0}function Ao(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function A7(){const e=new Wt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function b7(){if(Wt.hashContainsKnownProperties(window.location.hash)&&fT())throw et(Gk)}function I7(i){if(fT()&&!i)throw et(Yk)}function N7(){if(C7())throw et(zk)}function vP(){if(typeof window>"u")throw et(Lm)}function EP(i){if(!i)throw et(pc)}function hT(i){vP(),b7(),N7(),EP(i)}function Q1(i,e){if(hT(i),I7(e.system.allowRedirectInIframe),e.cache.cacheLocation===jn.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw dT(uT)}function TP(i){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(i).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function R7(){return Ii()}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Zp{navigateInternal(e,n){return Zp.defaultNavigateWindow(e,n)}navigateExternal(e,n){return Zp.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,t)=>{setTimeout(()=>{t(et(Xp,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class x7{async sendGetRequestAsync(e,n){let r,t={},o=0;const a=X1(n);try{r=await fetch(e,{method:z1.GET,headers:a})}catch(l){throw ac(et(window.navigator.onLine?Jk:Qp),void 0,void 0,l)}t=Z1(r.headers);try{return o=r.status,{headers:t,body:await r.json(),status:o}}catch(l){throw ac(et(Tv),o,t,l)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",t=X1(n);let o,a=0,l={};try{o=await fetch(e,{method:z1.POST,headers:t,body:r})}catch(c){throw ac(et(window.navigator.onLine?jk:Qp),void 0,void 0,c)}l=Z1(o.headers);try{return a=o.status,{headers:l,body:await o.json(),status:a}}catch(c){throw ac(et(Tv),a,l,c)}}}function X1(i){try{const e=new Headers;if(!(i&&i.headers))return e;const n=i.headers;return Object.entries(n).forEach(([r,t])=>{e.append(r,t)}),e}catch(e){throw ac(et(aP),void 0,void 0,e)}}function Z1(i){try{const e={};return i.forEach((n,r)=>{e[r]=n}),e}catch{throw et(lP)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */const O7=6e4,Sv=1e4,D7=3e4,wP=2e3;function M7({auth:i,cache:e,system:n,telemetry:r},t){const o={clientId:He.EMPTY_STRING,authority:`${He.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:He.EMPTY_STRING,authorityMetadata:He.EMPTY_STRING,redirectUri:typeof window<"u"?Ao():"",postLogoutRedirectUri:He.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Tr.AAD,OIDCOptions:{serverResponseType:wm.FRAGMENT,defaultScopes:[He.OPENID_SCOPE,He.PROFILE_SCOPE,He.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:AE.None,tenant:He.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:jn.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:jn.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===jn.LocalStorage),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:Ft.Info,piiLoggingEnabled:!1},d={...{...uk,loggerOptions:l,networkClient:t?new x7:KG,navigationClient:new Zp,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||O7,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Sv,navigateFrameWait:0,redirectNavigationTimeout:D7,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,allowPlatformBrokerWithDOM:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||wP,pollIntervalMilliseconds:Er.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||l},f={application:{appName:He.EMPTY_STRING,appVersion:He.EMPTY_STRING},client:new lk};if((i==null?void 0:i.protocolMode)!==Tr.OIDC&&(i!=null&&i.OIDCOptions)&&new ys(d.loggerOptions).warning(JSON.stringify(un(XM))),i!=null&&i.protocolMode&&i.protocolMode===Tr.OIDC&&(d!=null&&d.allowPlatformBroker))throw un(ZM);return{auth:{...o,...i,OIDCOptions:{...o.OIDCOptions,...i==null?void 0:i.OIDCOptions}},cache:{...a,...e},system:d,telemetry:{...f,...r}}}/*! @azure/msal-browser v4.27.0 2025-12-04 */const k7="@azure/msal-browser",ta="4.27.0";/*! @azure/msal-browser v4.27.0 2025-12-04 */const Zn="msal",SP="browser",eN="|",Qn=2,Sp=2,P7=`${Zn}.${SP}.log.level`,L7=`${Zn}.${SP}.log.pii`,tN=`${Zn}.version`,nN="account.keys",rN="token.keys";function El(i=Sp){return i<1?`${Zn}.${nN}`:`${Zn}.${i}.${nN}`}function Tl(i,e=Qn){return e<1?`${Zn}.${rN}.${i}`:`${Zn}.${e}.${rN}.${i}`}/*! @azure/msal-browser v4.27.0 2025-12-04 */class pT{static loggerCallback(e,n){switch(e){case Ft.Error:console.error(n);return;case Ft.Info:console.info(n);return;case Ft.Verbose:console.debug(n);return;case Ft.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=M7(e,this.browserEnvironment);let n;try{n=window[jn.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(P7),t=(c=n==null?void 0:n.getItem(L7))==null?void 0:c.toLowerCase(),o=t==="true"?!0:t==="false"?!1:void 0,a={...this.config.system.loggerOptions},l=r&&Object.keys(Ft).includes(r)?Ft[r]:void 0;l&&(a.loggerCallback=pT.loggerCallback,a.logLevel=l),o!==void 0&&(a.piiLoggingEnabled=o),this.logger=new ys(a,k7,ta),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class na extends pT{getModuleName(){return na.MODULE_NAME}getId(){return na.ID}async initialize(){return this.available=typeof window<"u",this.available}}na.MODULE_NAME="";na.ID="StandardOperatingContext";/*! @azure/msal-browser v4.27.0 2025-12-04 */class U7{constructor(){this.dbName=wv,this.version=a7,this.tableName=l7,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",t=>{t.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",t=>{const o=t;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(et(nT)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(et(sl));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",l=>{const c=l;this.closeConnection(),n(c.target.result)}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,t)=>{if(!this.db)return t(et(sl));const l=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);l.addEventListener("success",()=>{this.closeConnection(),r()}),l.addEventListener("error",c=>{this.closeConnection(),t(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(et(sl));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(et(sl));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",a=>{const l=a;this.closeConnection(),e(l.target.result)}),o.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(et(sl));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",l=>{const c=l;this.closeConnection(),n(c.target.result===1)}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(wv),t=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(t),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(t),e(!0))),r.addEventListener("error",()=>(clearTimeout(t),n(!1)))})}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Fm{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class F7{constructor(e){this.inMemoryCache=new Fm,this.indexedDBCache=new U7,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Lc&&e.errorCode===nT)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Ro{constructor(e,n,r){this.logger=e,m7(r??!1),this.cache=new F7(this.logger),this.performanceClient=n}createNewGuid(){return Ii()}base64Encode(e){return Cc(e)}base64Decode(e){return lr(e)}base64UrlEncode(e){return Of(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var f;const n=(f=this.performanceClient)==null?void 0:f.startMeasurement(me.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await y7(Ro.EXTRACTABLE,Ro.POP_KEY_USAGES),t=await Y0(r.publicKey),o={e:t.e,kty:t.kty,n:t.n},a=iN(o),l=await this.hashString(a),c=await Y0(r.privateKey),d=await _7(c,!1,["sign"]);return await this.cache.setItem(l,{privateKey:d,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),l}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw We(HM)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,t){var I;const o=(I=this.performanceClient)==null?void 0:I.startMeasurement(me.CryptoOptsSignJwt,t),a=await this.cache.getItem(n);if(!a)throw et(tT);const l=await Y0(a.publicKey),c=iN(l),d=Of(JSON.stringify({kid:n})),f=QE.getShrHeaderString({...r==null?void 0:r.header,alg:l.alg,kid:d}),p=Of(f);e.cnf={jwk:JSON.parse(c)};const m=Of(JSON.stringify(e)),y=`${p}.${m}`,T=new TextEncoder().encode(y),C=await v7(a.privateKey,T),S=_s(new Uint8Array(C)),b=`${y}.${S}`;return o&&o.end({success:!0}),b}async hashString(e){return gP(e)}}Ro.POP_KEY_USAGES=["sign","verify"];Ro.EXTRACTABLE=!0;function iN(i){return JSON.stringify(i,Object.keys(i).sort())}/*! @azure/msal-browser v4.27.0 2025-12-04 */const B7=1440*60*1e3,Cv={Lax:"Lax",None:"None"};class CP{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let t=0;t<r.length;t++){const o=r[t],[a,...l]=decodeURIComponent(o).trim().split("="),c=l.join("=");if(a===n)return c}return""}getUserData(){throw We(It)}setItem(e,n,r,t=!0,o=Cv.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${o};`;if(r){const l=H7(r);a+=`expires=${l};`}(t||o===Cv.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(We(It))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const t=decodeURIComponent(r).trim().split("=");n.push(t[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function H7(i){const e=new Date;return new Date(e.getTime()+i*B7).toUTCString()}/*! @azure/msal-browser v4.27.0 2025-12-04 */function as(i,e){const n=i.getItem(El(e));return n?JSON.parse(n):[]}function gi(i,e,n){const r=e.getItem(Tl(i,n));if(r){const t=JSON.parse(r);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.27.0 2025-12-04 */function Cp(i){return i.hasOwnProperty("id")&&i.hasOwnProperty("nonce")&&i.hasOwnProperty("data")}/*! @azure/msal-browser v4.27.0 2025-12-04 */const oN="msal.cache.encryption",q7="msal.broadcast.cache";class V7{constructor(e,n,r){if(!window.localStorage)throw dT(Um);this.memoryStorage=new Fm,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(q7)}async initialize(e){const n=new CP,r=n.getItem(oN);let t={key:"",id:""};if(r)try{t=JSON.parse(r)}catch{}if(t.key&&t.id){const o=Lr(ms,me.Base64Decode,this.logger,this.performanceClient,e)(t.key);this.encryptionCookie={id:t.id,key:await Me(j1,me.GenerateHKDF,this.logger,this.performanceClient,e)(o)}}else{const o=Ii(),a=await Me(pP,me.GenerateBaseKey,this.logger,this.performanceClient,e)(),l=Lr(_s,me.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:o,key:await Me(j1,me.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const c={id:o,key:l};n.setItem(oN,JSON.stringify(c),0,!0,Cv.None)}await Me(this.importExistingCache.bind(this),me.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw et(pc);return this.memoryStorage.getItem(e)}async decryptData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw et(pc);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const t=await Me(J1,me.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!t)return null;try{return{...JSON.parse(t),lastUpdatedAt:n.lastUpdatedAt}}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,t,o){if(!this.initialized||!this.encryptionCookie)throw et(pc);if(o)this.setItem(e,n);else{const{data:a,nonce:l}=await Me(w7,me.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),c={id:this.encryptionCookie.id,nonce:l,data:a,lastUpdatedAt:t};this.setItem(e,JSON.stringify(c))}this.memoryStorage.setItem(e,n),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),as(this).forEach(r=>this.removeItem(r));const n=gi(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(Zn)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=as(this);n=await this.importArray(n,e),n.length?this.setItem(El(),JSON.stringify(n)):this.removeItem(El());const r=gi(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(Tl(this.clientId),JSON.stringify(r)):this.removeItem(Tl(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let t;try{t=JSON.parse(r)}catch{return null}return Cp(t)?t.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},n),Me(J1,me.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t.nonce,this.getContext(e),t.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),r)}async importArray(e,n){const r=[],t=[];return e.forEach(o=>{const a=this.getItemFromEncryptedCache(o,n).then(l=>{l?(this.memoryStorage.setItem(o,l),r.push(o)):this.removeItem(o)});t.push(a)}),await Promise.all(t),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(me.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:t,context:o}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),n.end({success:!1,errorCode:"contextMismatch"});return}t?(this.memoryStorage.setItem(r,t),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Y7{constructor(){if(!window.sessionStorage)throw dT(Um)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */const ht={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.27.0 2025-12-04 */function ss(i,e){const n=i.indexOf(e);n>-1&&i.splice(n,1)}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Av extends _v{constructor(e,n,r,t,o,a,l){super(e,r,t,o,l),this.cacheConfig=n,this.logger=t,this.internalStorage=new Fm,this.browserStorage=sN(e,n.cacheLocation,t,o),this.temporaryCacheStorage=sN(e,n.temporaryCacheLocation,t,o),this.cookieStorage=new CP,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){let n=as(this.browserStorage),r=gi(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:n.length,preMigrateATCount:r.accessToken.length,preMigrateITCount:r.idToken.length,preMigrateRTCount:r.refreshToken.length},e);for(let o=0;o<Sp;o++){const a=o;await this.removeStaleAccounts(o,a,e)}for(let o=0;o<Qn;o++){const a=o;await this.migrateIdTokens(o,a,e)}const t=this.getKMSIValues();for(let o=0;o<Qn;o++)await this.migrateAccessTokens(o,t,e),await this.migrateRefreshTokens(o,t,e);n=as(this.browserStorage),r=gi(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:n.length,postMigrateATCount:r.accessToken.length,postMigrateITCount:r.idToken.length,postMigrateRTCount:r.refreshToken.length},e)}async updateOldEntry(e,n){const r=this.browserStorage.getItem(e),t=this.validateAndParseJson(r||"");if(!t)return this.browserStorage.removeItem(e),null;if(!t.lastUpdatedAt)t.lastUpdatedAt=Date.now().toString(),this.setItem(e,JSON.stringify(t),n);else if(U1(t.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},n),null;const o=Cp(t)?await this.browserStorage.decryptData(e,t,n):t;return!o||!xm(o)?(this.performanceClient.incrementFields({invalidCacheCount:1},n),null):(F1(o)||B1(o))&&o.expiresOn&&$p(o.expiresOn,CM)?(this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},n),null):o}async removeStaleAccounts(e,n,r){const t=as(this.browserStorage,e);if(t.length!==0){for(const o of[...t]){this.performanceClient.incrementFields({oldAcntCount:1},r);const a=this.browserStorage.getItem(o),l=this.validateAndParseJson(a||"");if(!l){ss(t,o);continue}if(l.lastUpdatedAt)U1(l.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(o,l,n,r),ss(t,o));else{l.lastUpdatedAt=Date.now().toString(),this.setItem(o,JSON.stringify(l),r);continue}}this.setAccountKeys(t,r,e)}}async removeAccountOldSchema(e,n,r,t){const o=Cp(n)?await this.browserStorage.decryptData(e,n,t):n,a=o==null?void 0:o.homeAccountId;if(a){const l=this.getTokenKeys(r);[...l.idToken].filter(c=>c.includes(a)).forEach(c=>{this.browserStorage.removeItem(c),ss(l.idToken,c)}),[...l.accessToken].filter(c=>c.includes(a)).forEach(c=>{this.browserStorage.removeItem(c),ss(l.accessToken,c)}),[...l.refreshToken].filter(c=>c.includes(a)).forEach(c=>{this.browserStorage.removeItem(c),ss(l.refreshToken,c)}),this.setTokenKeys(l,t,r)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},t),this.browserStorage.removeItem(e)}getKMSIValues(){const e={},n=this.getTokenKeys().idToken;for(const r of n){const t=this.browserStorage.getUserData(r);if(t){const o=JSON.parse(t),a=qi(o.secret,lr);a&&(e[o.homeAccountId]=Gi(a))}}return e}async migrateIdTokens(e,n,r){const t=gi(this.clientId,this.browserStorage,e);if(t.idToken.length===0)return;const o=gi(this.clientId,this.browserStorage,Qn),a=as(this.browserStorage),l=as(this.browserStorage,n);for(const c of[...t.idToken]){this.performanceClient.incrementFields({oldITCount:1},r);const d=await this.updateOldEntry(c,r);if(!d){ss(t.idToken,c);continue}const f=a.find(b=>b.includes(d.homeAccountId)),p=l.find(b=>b.includes(d.homeAccountId));let m=null;if(f)m=this.getAccount(f,r);else if(p){const b=this.browserStorage.getItem(p),I=this.validateAndParseJson(b||"");m=I&&Cp(I)?await this.browserStorage.decryptData(p,I,r):I}if(!m){this.performanceClient.incrementFields({skipITMigrateCount:1},r);continue}const y=qi(d.secret,lr),E=this.generateCredentialKey(d),T=this.getIdTokenCredential(E,r),C=Object.keys(y).includes("signin_state"),S=T&&Object.keys(qi(T.secret,lr)||{}).includes("signin_state");if(!T||d.lastUpdatedAt>T.lastUpdatedAt&&(C||!S)){const b=m.tenantProfiles||[],I=OE(y)||m.realm;if(I&&!b.find(L=>L.tenantId===I)){const L=Cm(m.homeAccountId,m.localAccountId,I,y);b.push(L)}m.tenantProfiles=b;const N=this.generateAccountKey(An.getAccountInfo(m)),x=Gi(y);await this.setUserData(N,JSON.stringify(m),r,m.lastUpdatedAt,x),a.includes(N)||a.push(N),await this.setUserData(E,JSON.stringify(d),r,d.lastUpdatedAt,x),this.performanceClient.incrementFields({migratedITCount:1},r),o.idToken.push(E)}}this.setTokenKeys(t,r,e),this.setTokenKeys(o,r),this.setAccountKeys(a,r)}async migrateAccessTokens(e,n,r){const t=gi(this.clientId,this.browserStorage,e);if(t.accessToken.length===0)return;const o=gi(this.clientId,this.browserStorage,Qn);for(const a of[...t.accessToken]){this.performanceClient.incrementFields({oldATCount:1},r);const l=await this.updateOldEntry(a,r);if(!l){ss(t.accessToken,a);continue}if(!Object.keys(n).includes(l.homeAccountId)){this.performanceClient.incrementFields({skipATMigrateCount:1},r);continue}const c=this.generateCredentialKey(l),d=n[l.homeAccountId];if(!o.accessToken.includes(c))await this.setUserData(c,JSON.stringify(l),r,l.lastUpdatedAt,d),this.performanceClient.incrementFields({migratedATCount:1},r),o.accessToken.push(c);else{const f=this.getAccessTokenCredential(c,r);(!f||l.lastUpdatedAt>f.lastUpdatedAt)&&(await this.setUserData(c,JSON.stringify(l),r,l.lastUpdatedAt,d),this.performanceClient.incrementFields({migratedATCount:1},r))}}this.setTokenKeys(t,r,e),this.setTokenKeys(o,r)}async migrateRefreshTokens(e,n,r){const t=gi(this.clientId,this.browserStorage,e);if(t.refreshToken.length===0)return;const o=gi(this.clientId,this.browserStorage,Qn);for(const a of[...t.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},r);const l=await this.updateOldEntry(a,r);if(!l){ss(t.refreshToken,a);continue}if(!Object.keys(n).includes(l.homeAccountId)){this.performanceClient.incrementFields({skipRTMigrateCount:1},r);continue}const c=this.generateCredentialKey(l),d=n[l.homeAccountId];if(!o.refreshToken.includes(c))await this.setUserData(c,JSON.stringify(l),r,l.lastUpdatedAt,d),this.performanceClient.incrementFields({migratedRTCount:1},r),o.refreshToken.push(c);else{const f=this.getRefreshTokenCredential(c,r);(!f||l.lastUpdatedAt>f.lastUpdatedAt)&&(await this.setUserData(c,JSON.stringify(l),r,l.lastUpdatedAt,d),this.performanceClient.incrementFields({migratedRTCount:1},r))}}this.setTokenKeys(t,r,e),this.setTokenKeys(o,r)}trackVersionChanges(e){const n=this.browserStorage.getItem(tN);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==ta&&this.setItem(tN,ta,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){const t=new Array(Qn+1).fill(0),o=[],a=20;for(let l=0;l<=a;l++)try{if(this.browserStorage.setItem(e,n),l>0)for(let c=0;c<=Qn;c++){const d=t.slice(0,c).reduce((p,m)=>p+m,0);if(d>=l)break;const f=l>d+t[c]?d+t[c]:l;l>d&&t[c]>0&&this.removeAccessTokenKeys(o.slice(d,f),r,c)}break}catch(c){const d=yv(c);if(d.errorCode===Gp&&l<a){if(!o.length)for(let f=0;f<=Qn;f++)if(e===Tl(this.clientId,f)){const p=JSON.parse(n).accessToken;o.push(...p),t[f]=p.length}else{const p=this.getTokenKeys(f).accessToken;o.push(...p),t[f]=p.length}if(o.length<=l)throw d;this.removeAccessToken(o[l],r,!1)}else throw d}}async setUserData(e,n,r,t,o){const a=new Array(Qn+1).fill(0),l=[],c=20;for(let d=0;d<=c;d++)try{if(await Me(this.browserStorage.setUserData.bind(this.browserStorage),me.SetUserData,this.logger,this.performanceClient)(e,n,r,t,o),d>0)for(let f=0;f<=Qn;f++){const p=a.slice(0,f).reduce((y,E)=>y+E,0);if(p>=d)break;const m=d>p+a[f]?p+a[f]:d;d>p&&a[f]>0&&this.removeAccessTokenKeys(l.slice(p,m),r,f)}break}catch(f){const p=yv(f);if(p.errorCode===Gp&&d<c){if(!l.length)for(let m=0;m<=Qn;m++){const y=this.getTokenKeys(m).accessToken;l.push(...y),a[m]=y.length}if(l.length<=d)throw p;this.removeAccessToken(l[d],r,!1)}else throw p}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const t=this.validateAndParseJson(r);return!t||!An.isAccountEntity(t)?null:_v.toObject(new An,t)}async setAccount(e,n,r){this.logger.trace("BrowserCacheManager.setAccount called");const t=this.generateAccountKey(An.getAccountInfo(e)),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(t,JSON.stringify(e),n,o,r);const a=this.addAccountKeyToMap(t,n);this.performanceClient.addFields({kmsi:r},n),this.cacheConfig.cacheLocation===jn.LocalStorage&&a&&this.eventHandler.emitEvent(ht.ACCOUNT_ADDED,void 0,An.getAccountInfo(e))}getAccountKeys(){return as(this.browserStorage)}setAccountKeys(e,n,r=Sp){e.length===0?this.removeItem(El(r)):this.setItem(El(r),JSON.stringify(e),n)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(El(),JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),t=r.indexOf(e);t>-1?(r.splice(t,1),this.setAccountKeys(r,n),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const r=this.getActiveAccount(n);(r==null?void 0:r.homeAccountId)===e.homeAccountId&&(r==null?void 0:r.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(t=>{t.includes(e.homeAccountId)&&t.includes(e.environment)&&this.browserStorage.removeItem(t)}),this.cacheConfig.cacheLocation===jn.LocalStorage&&this.eventHandler.emitEvent(ht.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),t=r.idToken.indexOf(e);t>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(t,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,r=Qn){this.logger.trace("removeAccessTokenKey called");const t=this.getTokenKeys(r);let o=0;if(e.forEach(a=>{const l=t.accessToken.indexOf(a);l>-1&&(t.accessToken.splice(l,1),o++)}),o>0){this.logger.info(`removed ${o} accessToken keys from tokenKeys map`),this.setTokenKeys(t,n,r);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),t=r.refreshToken.indexOf(e);t>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(t,1),this.setTokenKeys(r,n))}getTokenKeys(e=Qn){return gi(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,r=Qn){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(Tl(this.clientId,r));return}else this.setItem(Tl(this.clientId,r),JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const t=this.validateAndParseJson(r);return!t||!NG(t)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),t)}async setIdTokenCredential(e,n,r){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(t,JSON.stringify(e),n,o,r);const a=this.getTokenKeys();a.idToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),a.idToken.push(t),this.setTokenKeys(a,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const t=this.validateAndParseJson(r);return!t||!F1(t)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),t)}async setAccessTokenCredential(e,n,r){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(t,JSON.stringify(e),n,o,r);const a=this.getTokenKeys(),l=a.accessToken.indexOf(t);l!==-1&&a.accessToken.splice(l,1),this.logger.trace(`access token ${l===-1?"added to":"updated in"} map`),a.accessToken.push(t),this.setTokenKeys(a,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const t=this.validateAndParseJson(r);return!t||!B1(t)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),t)}async setRefreshTokenCredential(e,n,r){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(t,JSON.stringify(e),n,o,r);const a=this.getTokenKeys();a.refreshToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),a.refreshToken.push(t),this.setTokenKeys(a,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!DG(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=OG(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!RG(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&MG(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(xf.WRAPPER_SKU,e),this.internalStorage.setItem(xf.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(xf.WRAPPER_SKU)||He.EMPTY_STRING,n=this.internalStorage.getItem(xf.WRAPPER_VER)||He.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(C1.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const t=this.validateAndParseJson(r);return t?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(C1.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const t={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Sr().toString()};this.setItem(r,JSON.stringify(t),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(ht.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!xG(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const t=this.temporaryCacheStorage.getItem(r);if(!t){if(this.cacheConfig.cacheLocation===jn.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),t}setTemporaryCache(e,n,r){const t=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(t,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(t,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Zn)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Zn)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(me.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(t=>{const o=this.getAccessTokenCredential(t,e);o!=null&&o.requestedClaimsHash&&t.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(t,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Pr.startsWith(e,Zn)?e:`${Zn}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Wn.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==rn.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Zn}.${Qn}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join(eN).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Zn}.${Sp}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(eN).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(On.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(On.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(On.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(On.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(On.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=Cc(JSON.stringify(e));if(this.setTemporaryCache(On.REQUEST_PARAMS,r,!0),n){const t=Cc(n);this.setTemporaryCache(On.VERIFIER,t,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(On.REQUEST_PARAMS,!0);if(!e)throw et(Wk);const n=this.getTemporaryCache(On.VERIFIER,!0);let r,t="";try{r=JSON.parse(lr(e)),n&&(t=lr(n))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),et($k)}return[r,t]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(On.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Zn}.${On.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),_P(window),null}}setInteractionInProgress(e,n=ls.SIGNIN){var t;const r=`${Zn}.${On.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw et(Bk);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((t=this.getInteractionInProgress())==null?void 0:t.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var l,c,d;const r=Nm((l=e.account)==null?void 0:l.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let t;n.claims&&(t=await this.cryptoImpl.hashString(n.claims));const o=Rm((d=e.account)==null?void 0:d.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?L1(e.expiresOn):0,e.extExpiresOn?L1(e.extExpiresOn):0,lr,void 0,e.tokenType,void 0,n.sshKid,n.claims,t),a={idToken:r,accessToken:o};return this.saveCacheRecord(a,e.correlationId,Gi(qi(e.idToken,lr)))}async saveCacheRecord(e,n,r,t){try{await super.saveCacheRecord(e,n,r,t)}catch(o){if(o instanceof _l&&this.performanceClient&&n)try{const a=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:a.refreshToken.length,cacheIdCount:a.idToken.length,cacheAtCount:a.accessToken.length},n)}catch{}throw o}}}function sN(i,e,n,r){try{switch(e){case jn.LocalStorage:return new V7(i,n,r);case jn.SessionStorage:return new Y7;case jn.MemoryStorage:default:break}}catch(t){n.error(t)}return new Fm}const G7=(i,e,n,r)=>{const t={cacheLocation:jn.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:jn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Av(i,t,Hp,e,n,r)};/*! @azure/msal-browser v4.27.0 2025-12-04 */function z7(i,e,n,r,t){return i.verbose("getAllAccounts called"),n?e.getAllAccounts(t||{},r):[]}function K7(i,e,n,r){const t=n.getAccountInfoFilteredBy(i,r);return t?(e.verbose("getAccount: Account matching provided filter found, returning"),t):(e.verbose("getAccount: No matching account found, returning null"),null)}function W7(i,e,n,r){if(e.trace("getAccountByUsername called"),!i)return e.warning("getAccountByUsername: No username provided"),null;const t=n.getAccountInfoFilteredBy({username:i},r);return t?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${i}`),t):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function $7(i,e,n,r){if(e.trace("getAccountByHomeId called"),!i)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const t=n.getAccountInfoFilteredBy({homeAccountId:i},r);return t?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${i}`),t):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function j7(i,e,n,r){if(e.trace("getAccountByLocalId called"),!i)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const t=n.getAccountInfoFilteredBy({localAccountId:i},r);return t?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${i}`),t):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function J7(i,e,n){e.setActiveAccount(i,n)}function Q7(i,e){return i.getActiveAccount(e)}/*! @azure/msal-browser v4.27.0 2025-12-04 */const X7="msal.broadcast.event";class Z7{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ys({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(X7)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const t=r||R7();return this.eventCallbacks.has(t)?(this.logger.error(`Event callback with id: ${t} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(t,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${t}`),t)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,t){var a;const o={eventType:e,interactionType:n||null,payload:r||null,error:t||null,timestamp:Date.now()};switch(e){case ht.ACCOUNT_ADDED:case ht.ACCOUNT_REMOVED:case ht.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],t)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${t}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class AP{constructor(e,n,r,t,o,a,l,c,d){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.platformAuthProvider=c,this.correlationId=d||Ii(),this.logger=t.clone(Er.MSAL_SKU,ta,this.correlationId),this.performanceClient=l}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Wt.getAbsoluteUrl(n,Ao())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new wc(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(me.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const t={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=r!=null&&r.length?r==="true":this.config.auth.instanceAware,l=n&&a?this.config.auth.authority.replace(Wt.getDomainFromUrl(o),n.environment):o,c=Xn.generateAuthority(l,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),d=await Me(Ak,me.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,t,this.logger,this.correlationId,this.performanceClient);if(n&&!d.isAlias(n.environment))throw un(ek);return d}}/*! @azure/msal-browser v4.27.0 2025-12-04 */async function mT(i,e,n,r){n.addQueueMeasurement(me.InitializeBaseRequest,i.correlationId);const t=i.authority||e.auth.authority,o=[...i&&i.scopes||[]],a={...i,correlationId:i.correlationId,authority:t,scopes:o};if(!a.authenticationScheme)a.authenticationScheme=rn.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===rn.SSH){if(!i.sshJwk)throw un(Sm);if(!i.sshKid)throw un(QM)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&i.claims&&!Pr.isEmptyObj(i.claims)&&(a.requestedClaimsHash=await gP(i.claims)),a}async function ez(i,e,n,r,t){r.addQueueMeasurement(me.InitializeSilentRequest,i.correlationId);const o=await Me(mT,me.InitializeBaseRequest,t,r,i.correlationId)(i,n,r,t);return{...i,...o,account:e,forceRefresh:i.forceRefresh||!1}}function bP(i,e){let n;const r=i.httpMethod;if(e===Tr.EAR){if(n=r||Js.POST,n!==Js.POST)throw un(tk)}else n=r||Js.GET;if(i.authorizePostBodyParameters&&n!==Js.POST)throw un(nk);return n}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Hl extends AP{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||Ii(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Wt.getAbsoluteUrl(e.postLogoutRedirectUri,Ao())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Wt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ao())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Wt.getAbsoluteUrl(Ao(),Ao())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(me.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await Me(this.getClientConfiguration.bind(this),me.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Rk(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:t,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(me.StandardInteractionClientGetClientConfiguration,this.correlationId);const l=e.authority||await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:t,requestExtraQueryParameters:o,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:Er.MSAL_SKU,version:ta,cpu:He.EMPTY_STRING,os:He.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(me.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),t={interactionType:n},o=Fl.setRequestState(this.browserCrypto,e&&e.state||He.EMPTY_STRING,t),l={...await Me(mT,me.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:e.nonce||Ii(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...l,httpMethod:bP(l,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const d=e.account||this.browserStorage.getActiveAccount(this.correlationId);return d&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${d.homeAccountId}`,this.correlationId),c.account=d),c}}/*! @azure/msal-browser v4.27.0 2025-12-04 */function tz(i,e){if(!e)return null;try{return Fl.parseRequestState(i,e).libraryState.meta}catch{throw We(Al)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */function mc(i,e,n){const r=Vp(i);if(!r)throw ok(i)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${i}`),et(Lk)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),et(Pk));return r}function nz(i,e,n){if(!i.state)throw et(eT);const r=tz(e,i.state);if(!r)throw et(Uk);if(r.interactionType!==n)throw et(Fk)}/*! @azure/msal-browser v4.27.0 2025-12-04 */class IP{constructor(e,n,r,t,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=t,this.performanceClient=o}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(me.HandleCodeResponse,n.correlationId);let r;try{r=$G(e,n.state)}catch(t){throw t instanceof aa&&t.subError===Sc?et(Sc):t}return Me(this.handleCodeResponseFromServer.bind(this),me.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(me.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Me(this.authModule.updateAuthority.bind(this.authModule),me.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await Me(this.authModule.acquireToken.bind(this.authModule),me.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ti.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Ti.UPN}:null}}/*! @azure/msal-browser v4.27.0 2025-12-04 */const rz="ContentError",iz="PageException",NP="user_switch";/*! @azure/msal-browser v4.27.0 2025-12-04 */const oz="USER_INTERACTION_REQUIRED",sz="USER_CANCEL",az="NO_NETWORK",lz="DISABLED",uz="ACCOUNT_UNAVAILABLE",cz="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.27.0 2025-12-04 */const dz=-2147186943,fz={[NP]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Bi extends cn{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,Bi.prototype),this.name="NativeAuthError",this.ext=r}}function al(i){if(i.ext&&i.ext.status&&i.ext.status===lz||i.ext&&i.ext.error&&i.ext.error===dz)return!0;switch(i.errorCode){case rz:case iz:return!0;default:return!1}}function em(i,e,n){if(n&&n.status)switch(n.status){case uz:return Jp(bk);case oz:return new bi(i,e);case sz:return et(Sc);case az:return et(Qp);case cz:return Jp(WE)}return new Bi(i,fz[i]||e,n)}/*! @azure/msal-browser v4.27.0 2025-12-04 */class RP extends Hl{async acquireToken(e){this.performanceClient.addQueueMeasurement(me.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Qt.acquireTokenSilent_silentFlow),r=await Me(this.getClientConfiguration.bind(this),me.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),t=new zG(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await Me(t.acquireCachedToken.bind(t),me.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(o){throw o instanceof Lc&&o.errorCode===tT&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Ap extends AP{constructor(e,n,r,t,o,a,l,c,d,f,p,m){super(e,n,r,t,o,a,c,d,m),this.apiId=l,this.accountId=f,this.platformAuthProvider=d,this.nativeStorageManager=p,this.silentCacheClient=new RP(e,this.nativeStorageManager,r,t,o,a,c,d,m);const y=this.platformAuthProvider.getExtensionName();this.skus=wc.makeExtraSkuString({libraryName:Er.MSAL_SKU,libraryVersion:ta,extensionName:y,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[aG]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(me.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(me.NativeInteractionClientAcquireToken,this.correlationId),t=Sr(),o=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,a);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===sr.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const l=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(l,a,t).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),o.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(a){throw a instanceof Bi&&o.setNativeBrokerErrorCode(a.errorCode),r.end({success:!1}),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Pn.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),We(mv);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw We(mv);try{const t=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(t),a={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:a}}catch(t){throw t}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const t=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(t)}catch(l){if(l instanceof Bi&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(l.errorCode),al(l)))throw l}this.browserStorage.setTemporaryCache(On.NATIVE_REQUEST,JSON.stringify(t),!0);const o={apiId:Qt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,o)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:t,...o}=r;t&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(On.NATIVE_REQUEST));const a=Sr();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const l=await this.platformAuthProvider.sendMessage(o),c=await this.handleNativeResponse(l,o,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(l){throw l}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var f,p;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const t=qi(e.id_token,lr),o=this.createHomeAccountIdentifier(e,t),a=(f=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:f.homeAccountId;if((p=n.extraParameters)!=null&&p.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==a&&e.account.id!==n.accountId)throw em(NP);const l=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=$E(this.browserStorage,l,o,lr,this.correlationId,t,e.client_info,void 0,t.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const d=await this.generateAuthenticationResult(e,n,t,c,l.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId,Gi(t)),await this.cacheNativeTokens(e,n,o,t,e.access_token,d.tenantId,r),d}createHomeAccountIdentifier(e,n){return An.generateHomeAccountId(e.client_info||He.EMPTY_STRING,vi.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Pn.fromString(n):Pn.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===rn.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new bl(this.browserCrypto),t={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw We(wE);return r.signPopToken(e.access_token,n.keyId,t)}else return e.access_token}async generateAuthenticationResult(e,n,r,t,o,a){const l=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),d=e.account.properties||{},f=d.UID||r.oid||r.sub||He.EMPTY_STRING,p=d.TenantId||r.tid||He.EMPTY_STRING,m=xE(An.getAccountInfo(t),void 0,r,e.id_token);m.nativeAccountId!==e.account.id&&(m.nativeAccountId=e.account.id);const y=await this.generatePopAccessToken(e,n),E=n.tokenType===rn.POP?rn.POP:rn.BEARER;return{authority:o,uniqueId:f,tenantId:p,scopes:c.asArray(),account:m,idToken:e.id_token,idTokenClaims:r,accessToken:y,fromCache:l?this.isResponseFromCache(l):!1,expiresOn:vl(a+e.expires_in),tokenType:E,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n,r){await this.browserStorage.setAccount(e,this.correlationId,r),this.browserStorage.removeAccountContext(An.getAccountInfo(e),n)}cacheNativeTokens(e,n,r,t,o,a,l){const c=Nm(r,n.authority,e.id_token||"",n.clientId,t.tid||""),d=n.tokenType===rn.POP?He.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,f=l+d,p=this.generateScopes(e.scope,n.scope),m=Rm(r,n.authority,o,n.clientId,t.tid||a,p.printScopes(),f,0,lr,void 0,n.tokenType,void 0,n.keyId),y={idToken:c,accessToken:m};return this.nativeStorageManager.saveCacheRecord(y,this.correlationId,Gi(t),n.storeInCache)}getExpiresInValue(e,n){return e===rn.POP?He.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...t}=e,o=new Pn(r||[]);o.appendScopes(Ul);const a={...t,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw et(sP);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Zr.MATS_TELEMETRY,e.authenticationScheme===rn.POP){const l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new bl(this.browserCrypto);let d;if(a.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const f=await Me(c.generateCnf.bind(c),me.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(l,this.logger);d=f.reqCnfString,a.keyId=f.kid,a.signPopToken=!0}a.reqCnf=d}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Wt(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Qt.ssoSilent:case Qt.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),$n.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case $n.NONE:case $n.CONSENT:case $n.LOGIN:case $n.SELECT_ACCOUNT:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),et(iP)}}handleExtraBrokerParams(e){var o;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(zp)&&e.extraParameters.hasOwnProperty(Kp)&&e.extraParameters.hasOwnProperty(Zs);if(!e.embeddedClientId&&!n)return;let r="";const t=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Kp],r=e.extraParameters[Zs]),e.extraParameters={child_client_id:r,child_redirect_uri:t},(o=this.performanceClient)==null||o.addFields({embeddedClientId:r,embeddedRedirectUri:t},this.correlationId)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */async function gT(i,e,n,r,t){const o=WG({...i.auth,authority:e},n,r,t);if(HE(o,{sku:Er.MSAL_SKU,version:ta,os:"",cpu:""}),i.auth.protocolMode!==Tr.OIDC&&qE(o,i.telemetry.application),n.platformBroker&&(dG(o),t.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===rn.POP)){const a=new Ro(r,t),l=new bl(a);let c;n.popKid?c=a.encodeKid(n.popKid):c=(await Me(l.generateCnf.bind(l),me.PopTokenGenerateCnf,r,t,n.correlationId)(n,r)).reqCnfString,GE(o,c)}return Am(o,n.correlationId,t),o}async function yT(i,e,n,r,t){if(!n.codeChallenge)throw un(IE);const o=await Me(gT,me.GetStandardParams,r,t,n.correlationId)(i,e,n,r,t);return kE(o,mE.CODE),VE(o,n.codeChallenge,He.S256_CODE_CHALLENGE_METHOD),ps(o,n.extraQueryParameters||{}),jE(e,o,i.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function _T(i,e,n,r,t,o){if(!r.earJwk)throw et(ZE);const a=await gT(e,n,r,t,o);kE(a,mE.IDTOKEN_TOKEN_REFRESHTOKEN),wG(a,r.earJwk),VE(a,r.codeChallenge,He.S256_CODE_CHALLENGE_METHOD);const l=new Map;ps(l,r.extraQueryParameters||{});const c=jE(n,l,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return xP(i,c,a)}async function vT(i,e,n,r,t,o){const a=await gT(e,n,r,t,o);kE(a,mE.CODE),VE(a,r.codeChallenge,r.codeChallengeMethod||He.S256_CODE_CHALLENGE_METHOD),SG(a,r.authorizePostBodyParameters||{});const l=new Map;ps(l,r.extraQueryParameters||{});const c=jE(n,l,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return xP(i,c,a)}function xP(i,e,n){const r=i.createElement("form");return r.method="post",r.action=e,n.forEach((t,o)=>{const a=i.createElement("input");a.hidden=!0,a.name=o,a.value=t,r.appendChild(a)}),i.body.appendChild(r),r}async function OP(i,e,n,r,t,o,a,l,c,d){if(l.verbose("Account id found, calling WAM for token"),!d)throw et(rT);const f=new Ro(l,c),p=new Ap(r,t,f,l,a,r.system.navigationClient,n,c,d,e,o,i.correlationId),{userRequestState:m}=Fl.parseRequestState(f,i.state);return Me(p.acquireToken.bind(p),me.NativeInteractionClientAcquireToken,l,c,i.correlationId)({...i,state:m,prompt:void 0})}async function wl(i,e,n,r,t,o,a,l,c,d,f,p){if(Fi.removeThrottle(a,t.auth.clientId,i),e.accountId)return Me(OP,me.HandleResponsePlatformBroker,d,f,i.correlationId)(i,e.accountId,r,t,a,l,c,d,f,p);const m={...i,code:e.code||"",codeVerifier:n},y=new IP(o,a,m,d,f);return await Me(y.handleCodeResponse.bind(y),me.HandleCodeResponse,d,f,i.correlationId)(e,i)}async function ET(i,e,n,r,t,o,a,l,c,d,f){if(Fi.removeThrottle(o,r.auth.clientId,i),xk(e,i.state),!e.ear_jwe)throw et(kk);if(!i.earJwk)throw et(ZE);const p=JSON.parse(await Me(T7,me.DecryptEarResponse,c,d,i.correlationId)(i.earJwk,e.ear_jwe));if(p.accountId)return Me(OP,me.HandleResponsePlatformBroker,c,d,i.correlationId)(i,p.accountId,n,r,o,a,l,c,d,f);const m=new ea(r.auth.clientId,o,new Ro(c,d),c,null,null,d);m.validateTokenResponse(p);const y={code:"",state:i.state,nonce:i.nonce,client_info:p.client_info,cloud_graph_host_name:p.cloud_graph_host_name,cloud_instance_host_name:p.cloud_instance_host_name,cloud_instance_name:p.cloud_instance_name,msgraph_host:p.msgraph_host};return await Me(m.handleServerTokenResponse.bind(m),me.HandleServerTokenResponse,c,d,i.correlationId)(p,t,Sr(),i,y,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.27.0 2025-12-04 */const hz=32;async function ra(i,e,n){i.addQueueMeasurement(me.GeneratePkceCodes,n);const r=Lr(pz,me.GenerateCodeVerifier,e,i,n)(i,e,n),t=await Me(mz,me.GenerateCodeChallengeFromVerifier,e,i,n)(r,i,e,n);return{verifier:r,challenge:t}}function pz(i,e,n){try{const r=new Uint8Array(hz);return Lr(g7,me.GetRandomValues,e,i,n)(r),_s(r)}catch{throw et(XE)}}async function mz(i,e,n,r){e.addQueueMeasurement(me.GenerateCodeChallengeFromVerifier,r);try{const t=await Me(hP,me.Sha256Digest,n,e,r)(i,e,r);return _s(new Uint8Array(t))}catch{throw et(XE)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class tm{constructor(e,n,r,t){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=t,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(me.NativeMessageHandlerHandshake),this.platformAuthType=Zr.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:Yu.GetToken,request:e},r={channel:Zr.CHANNEL_ID,extensionId:this.extensionId,responseId:Ii(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const t=await new Promise((a,l)=>{this.resolvers.set(r.responseId,{resolve:a,reject:l})});return this.validatePlatformBrokerResponse(t)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const t=new tm(e,n,r,Zr.PREFERRED_EXTENSION_ID);return await t.sendHandshakeRequest(),t}catch{const o=new tm(e,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Zr.CHANNEL_ID,extensionId:this.extensionId,responseId:Ii(),body:{method:Yu.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(et(nP)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Zr.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Yu.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(et(rP))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),t=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===Yu.Response){if(!r)return;const a=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")r.reject(em(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?r.reject(em(a.result.code,a.result.description,a.result.ext)):r.resolve(a.result);else throw fv(Bp,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===Yu.HandshakeResponse){if(!t){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),t.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):t&&t.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw fv(Bp,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Zr.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class TT{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=Zr.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){var t;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(t=window.navigator)!=null&&t.platformAuthentication){const o=await window.navigator.platformAuthentication.getSupportedContracts(Zr.MICROSOFT_ENTRA_BROKERID);if(o!=null&&o.includes(Zr.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new TT(e,n,r)}}getExtensionId(){return Zr.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Zr.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:t,scope:o,redirectUri:a,correlationId:l,state:c,storeInCache:d,embeddedClientId:f,extraParameters:p,...m}=e,y=this.getDOMExtraParams(m);return{accountId:n,brokerId:this.getExtensionId(),authority:t,clientId:r,correlationId:l||this.correlationId,extraParameters:{...p,...y},isSecurityTokenService:!1,redirectUri:a,scope:o,state:c,storeInCache:d,embeddedClientId:f}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),em(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw fv(Bp,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((t,[o,a])=>(t[o]=String(a),t),{})}}}/*! @azure/msal-browser v4.27.0 2025-12-04 */async function gz(i,e,n,r,t){i.trace("getPlatformAuthProvider called",n),i.trace("Has client allowed platform auth via DOM API: "+t);let o;try{t&&(o=await TT.createProvider(i,e,n)),o||(i.trace("Platform auth via DOM API not available, checking for extension"),o=await tm.createProvider(i,r||wP,e))}catch(a){i.trace("Platform auth not available",a)}return o}function Ac(i,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!i.system.allowPlatformBroker&&i.system.allowPlatformBrokerWithDOM)throw un(rk);if(!i.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case rn.BEARER:case rn.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.27.0 2025-12-04 */class yz extends Hl{constructor(e,n,r,t,o,a,l,c,d,f){super(e,n,r,t,o,a,l,d,f),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,n){let r;try{if(r={popupName:this.generatePopupName(e.scopes||Ul,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,n);{const o={...e,httpMethod:bP(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(o,r,n)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},t=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,t,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,t,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const t=await Me(this.initializeAuthorizationRequest.bind(this),me.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,gt.Popup);n.popup&&TP(t.authority);const o=Ac(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return t.platformBroker=o,this.config.auth.protocolMode===Tr.EAR?this.executeEarFlow(t,n,r):this.executeCodeFlow(t,n,r)}async executeCodeFlow(e,n,r){var c;const t=e.correlationId,o=this.initializeServerTelemetryManager(Qt.acquireTokenPopup),a=r||await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),l={...e,codeChallenge:a.challenge};try{const d=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t)({serverTelemetryManager:o,requestAuthority:l.authority,requestAzureCloudOptions:l.azureCloudOptions,requestExtraQueryParameters:l.extraQueryParameters,account:l.account});if(l.httpMethod===Js.POST)return await this.executeCodeFlowWithPost(l,n,d,a.verifier);{const f=await Me(yT,me.GetAuthCodeUrl,this.logger,this.performanceClient,t)(this.config,d.authority,l,this.logger,this.performanceClient),p=this.initiateAuthRequest(f,n);this.eventHandler.emitEvent(ht.POPUP_OPENED,gt.Popup,{popupWindow:p},null);const m=await this.monitorPopupForHash(p,n.popupWindowParent),y=Lr(mc,me.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,t)(e,y,a.verifier,Qt.acquireTokenPopup,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(d){throw(c=n.popup)==null||c.close(),d instanceof cn&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),d}}async executeEarFlow(e,n,r){const t=e.correlationId,o=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=await Me(lT,me.GenerateEarKey,this.logger,this.performanceClient,t)(),l=r||await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),c={...e,earJwk:a,codeChallenge:l.challenge},d=n.popup||this.openPopup("about:blank",n);(await _T(d.document,this.config,o,c,this.logger,this.performanceClient)).submit();const p=await Me(this.monitorPopupForHash.bind(this),me.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,t)(d,n.popupWindowParent),m=Lr(mc,me.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(!m.ear_jwe&&m.code){const y=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t)({serverTelemetryManager:this.initializeServerTelemetryManager(Qt.acquireTokenPopup),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:o});return Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,t)(c,m,l.verifier,Qt.acquireTokenPopup,this.config,y,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return Me(ET,me.HandleResponseEar,this.logger,this.performanceClient,t)(c,m,Qt.acquireTokenPopup,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,r,t){const o=e.correlationId,a=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,o)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),l=n.popup||this.openPopup("about:blank",n);(await vT(l.document,this.config,a,e,this.logger,this.performanceClient)).submit();const d=await Me(this.monitorPopupForHash.bind(this),me.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(l,n.popupWindowParent),f=Lr(mc,me.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,o)(e,f,t,Qt.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,t){var a,l,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ht.LOGOUT_START,gt.Popup,e);const o=this.initializeServerTelemetryManager(Qt.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const d=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===Tr.OIDC){if(this.eventHandler.emitEvent(ht.LOGOUT_SUCCESS,gt.Popup,e),t){const m={apiId:Qt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=Wt.getAbsoluteUrl(t,Ao());await this.navigationClient.navigateInternal(y,m)}(l=n.popup)==null||l.close();return}}const f=d.getLogoutUri(e);this.eventHandler.emitEvent(ht.LOGOUT_SUCCESS,gt.Popup,e);const p=this.openPopup(f,n);if(this.eventHandler.emitEvent(ht.POPUP_OPENED,gt.Popup,{popupWindow:p},null),await this.monitorPopupForHash(p,n.popupWindowParent).catch(()=>{}),t){const m={apiId:Qt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=Wt.getAbsoluteUrl(t,Ao());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${y}`),await this.navigationClient.navigateInternal(y,m)}else this.logger.verbose("No main window navigation requested")}catch(d){throw(c=n.popup)==null||c.close(),d instanceof cn&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),this.eventHandler.emitEvent(ht.LOGOUT_FAILURE,gt.Popup,null,d),this.eventHandler.emitEvent(ht.LOGOUT_END,gt.Popup),d}this.eventHandler.emitEvent(ht.LOGOUT_END,gt.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),et(km)}monitorPopupForHash(e,n){return new Promise((r,t)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),t(et(Sc));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(o);let l="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===wm.QUERY?l=e.location.search:l=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(l)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw et(qk);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),et(Hk)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:t}){var y,E,T,C;const o=t.screenLeft?t.screenLeft:t.screenX,a=t.screenTop?t.screenTop:t.screenY,l=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(y=r.popupSize)==null?void 0:y.width,f=(E=r.popupSize)==null?void 0:E.height,p=(T=r.popupPosition)==null?void 0:T.top,m=(C=r.popupPosition)==null?void 0:C.left;return(!d||d<0||d>l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=Er.POPUP_WIDTH),(!f||f<0||f>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),f=Er.POPUP_HEIGHT),(!p||p<0||p>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,c/2-Er.POPUP_HEIGHT/2+a)),(!m||m<0||m>l)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,l/2-Er.POPUP_WIDTH/2+o)),t.open(e,n,`width=${d}, height=${f}, top=${p}, left=${m}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${Er.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${Er.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.27.0 2025-12-04 */function _z(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const i=window.performance.getEntriesByType("navigation"),e=i.length?i[0]:void 0;return e==null?void 0:e.type}class vz extends Hl{constructor(e,n,r,t,o,a,l,c,d,f){super(e,n,r,t,o,a,l,d,f),this.nativeStorage=c}async acquireToken(e){const n=await Me(this.initializeAuthorizationRequest.bind(this),me.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,gt.Redirect);n.platformBroker=Ac(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ht.RESTORE_FROM_BFCACHE,gt.Redirect))},t=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${t}`),this.browserStorage.setTemporaryCache(On.ORIGIN_URI,t,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Tr.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(o){throw o instanceof cn&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),o}}async executeCodeFlow(e,n){const r=e.correlationId,t=this.initializeServerTelemetryManager(Qt.acquireTokenRedirect),o=await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(a,o.verifier);try{if(a.httpMethod===Js.POST)return await this.executeCodeFlowWithPost(a);{const l=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),c=await Me(yT,me.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,l.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(l){throw l instanceof cn&&(l.setCorrelationId(this.correlationId),t.cacheFailedRequest(l)),l}}async executeEarFlow(e){const n=e.correlationId,r=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),t=await Me(lT,me.GenerateEarKey,this.logger,this.performanceClient,n)(),o=await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),a={...e,earJwk:t,codeChallenge:o.challenge};return this.browserStorage.cacheAuthorizeRequest(a,o.verifier),(await _T(document,this.config,r,a,this.logger,this.performanceClient)).submit(),new Promise((c,d)=>{setTimeout(()=>{d(et(Xp,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,r=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await vT(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((o,a)=>{setTimeout(()=>{a(et(Xp,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,t){const o=this.initializeServerTelemetryManager(Qt.handleRedirectPromise);try{const[a,l]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),_z()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(On.ORIGIN_URI,!0)||He.EMPTY_STRING,d=x1(c),f=x1(window.location.href);if(d===f&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&S7(c),await this.handleResponse(a,n,r,o);if(this.config.auth.navigateToLoginRequestUrl){if(!fT()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(On.URL_HASH,l,!0);const p={apiId:Qt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let m=!0;if(!c||c==="null"){const y=A7();this.browserStorage.setTemporaryCache(On.ORIGIN_URI,y,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),m=await this.navigationClient.navigateInternal(y,p)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),m=await this.navigationClient.navigateInternal(c,p);if(!m)return await this.handleResponse(a,n,r,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,r,o);return null}catch(a){throw a instanceof cn&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===wm.QUERY?n=window.location.search:n=window.location.hash);let r=Vp(n);if(r){try{nz(r,this.browserCrypto,gt.Redirect)}catch(o){return o instanceof cn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return _P(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const t=this.browserStorage.getTemporaryCache(On.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(On.URL_HASH)),t&&(r=Vp(t),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,t]):[null,""]}async handleResponse(e,n,r,t){if(!e.state)throw et(eT);if(e.ear_jwe){const l=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return Me(ET,me.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Qt.acquireTokenRedirect,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const a=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:n.authority});return Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,Qt.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Qt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=n||this.config.auth.onRedirectNavigate;if(typeof t=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),et(km)}async logout(e){var t;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Qt.logout);try{this.eventHandler.emitEvent(ht.LOGOUT_START,gt.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const o={apiId:Qt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===Tr.OIDC)try{a.authority.endSessionEndpoint}catch{if((t=n.account)!=null&&t.homeAccountId){this.eventHandler.emitEvent(ht.LOGOUT_SUCCESS,gt.Redirect,n);return}}const l=a.getLogoutUri(n);if(this.eventHandler.emitEvent(ht.LOGOUT_SUCCESS,gt.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(l)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ls.SIGNOUT),await this.navigationClient.navigateExternal(l,o);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ls.SIGNOUT),await this.navigationClient.navigateExternal(l,o);return}}catch(o){throw o instanceof cn&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),this.eventHandler.emitEvent(ht.LOGOUT_FAILURE,gt.Redirect,null,o),this.eventHandler.emitEvent(ht.LOGOUT_END,gt.Redirect),o}this.eventHandler.emitEvent(ht.LOGOUT_END,gt.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Wt.getAbsoluteUrl(n,Ao())}}/*! @azure/msal-browser v4.27.0 2025-12-04 */async function Ez(i,e,n,r,t){if(e.addQueueMeasurement(me.SilentHandlerInitiateAuthRequest,r),!i)throw n.info("Navigate url is empty"),et(km);return t?Me(Sz,me.SilentHandlerLoadFrame,n,e,r)(i,t,e,r):Lr(Cz,me.SilentHandlerLoadFrameSync,n,e,r)(i)}async function Tz(i,e,n,r,t){const o=Bm();if(!o.contentDocument)throw"No document associated with iframe!";return(await vT(o.contentDocument,i,e,n,r,t)).submit(),o}async function wz(i,e,n,r,t){const o=Bm();if(!o.contentDocument)throw"No document associated with iframe!";return(await _T(o.contentDocument,i,e,n,r,t)).submit(),o}async function aN(i,e,n,r,t,o,a){return r.addQueueMeasurement(me.SilentHandlerMonitorIframeForHash,o),new Promise((l,c)=>{e<Sv&&t.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Sv}ms). This may result in timeouts.`);const d=window.setTimeout(()=>{window.clearInterval(f),c(et(Vk))},e),f=window.setInterval(()=>{let p="";const m=i.contentWindow;try{p=m?m.location.href:""}catch{}if(!p||p==="about:blank")return;let y="";m&&(a===wm.QUERY?y=m.location.search:y=m.location.hash),window.clearTimeout(d),window.clearInterval(f),l(y)},n)}).finally(()=>{Lr(Az,me.RemoveHiddenIframe,t,r,o)(i)})}function Sz(i,e,n,r){return n.addQueueMeasurement(me.SilentHandlerLoadFrame,r),new Promise((t,o)=>{const a=Bm();window.setTimeout(()=>{if(!a){o("Unable to load iframe");return}a.src=i,t(a)},e)})}function Cz(i){const e=Bm();return e.src=i,e}function Bm(){const i=document.createElement("iframe");return i.className="msalSilentIframe",i.style.visibility="hidden",i.style.position="absolute",i.style.width=i.style.height="0",i.style.border="0",i.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),i.setAttribute("allow","local-network-access *"),document.body.appendChild(i),i}function Az(i){document.body===i.parentNode&&document.body.removeChild(i)}/*! @azure/msal-browser v4.27.0 2025-12-04 */class bz extends Hl{constructor(e,n,r,t,o,a,l,c,d,f,p){super(e,n,r,t,o,a,c,f,p),this.apiId=l,this.nativeStorage=d}async acquireToken(e){this.performanceClient.addQueueMeasurement(me.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==$n.NONE&&n.prompt!==$n.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${$n.NONE}`),n.prompt=$n.NONE):n.prompt=$n.NONE;const r=await Me(this.initializeAuthorizationRequest.bind(this),me.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,gt.Silent);return r.platformBroker=Ac(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),TP(r.authority),this.config.auth.protocolMode===Tr.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Me(this.silentTokenHelper.bind(this),me.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(t){if(t instanceof cn&&(t.setCorrelationId(this.correlationId),r.cacheFailedRequest(t)),!n||!(t instanceof cn)||t.errorCode!==Er.INVALID_GRANT_ERROR)throw t;return this.performanceClient.addFields({retryError:t.errorCode},this.correlationId),await Me(this.silentTokenHelper.bind(this),me.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await Me(this.getDiscoveredAuthority.bind(this),me.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),t=await Me(lT,me.GenerateEarKey,this.logger,this.performanceClient,n)(),o=await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),a={...e,earJwk:t,codeChallenge:o.challenge},l=await Me(wz,me.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,a,this.logger,this.performanceClient),c=this.config.auth.OIDCOptions.serverResponseType,d=await Me(aN,me.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(l,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,c),f=Lr(mc,me.DeserializeResponse,this.logger,this.performanceClient,n)(d,c,this.logger);if(!f.ear_jwe&&f.code){const p=await Me(this.createAuthCodeClient.bind(this),me.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,n)({serverTelemetryManager:this.initializeServerTelemetryManager(this.apiId),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:r});return Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,n)(a,f,o.verifier,this.apiId,this.config,p,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return Me(ET,me.HandleResponseEar,this.logger,this.performanceClient,n)(a,f,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(et(Pm))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(me.SilentIframeClientTokenHelper,r);const t=await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...n,codeChallenge:t.challenge};let a;if(n.httpMethod===Js.POST)a=await Me(Tz,me.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,o,this.logger,this.performanceClient);else{const f=await Me(yT,me.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,o,this.logger,this.performanceClient);a=await Me(Ez,me.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(f,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const l=this.config.auth.OIDCOptions.serverResponseType,c=await Me(aN,me.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,l),d=Lr(mc,me.DeserializeResponse,this.logger,this.performanceClient,r)(c,l,this.logger);return Me(wl,me.HandleResponseCode,this.logger,this.performanceClient,r)(n,d,t.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Iz extends Hl{async acquireToken(e){this.performanceClient.addQueueMeasurement(me.SilentRefreshClientAcquireToken,e.correlationId);const n=await Me(mT,me.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const t=this.initializeServerTelemetryManager(Qt.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:t,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return Me(o.acquireTokenByRefreshToken.bind(o),me.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(a=>{throw a.setCorrelationId(this.correlationId),t.cacheFailedRequest(a),a})}logout(){return Promise.reject(et(Pm))}async createRefreshTokenClient(e){const n=await Me(this.getClientConfiguration.bind(this),me.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new GG(n,this.performanceClient)}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Nz{constructor(e,n,r,t){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=t}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw et(Lm);const t=e.correlationId||Ii(),o=n.id_token?qi(n.id_token,lr):void 0,a=Gi(o||{}),l={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=e.authority?new Xn(Xn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,l,this.logger,e.correlationId||Ii()):void 0,d=await this.loadAccount(e,r.clientInfo||n.client_info||"",t,o,c),f=await this.loadIdToken(n,d.homeAccountId,d.environment,d.realm,t,a),p=await this.loadAccessToken(e,n,d.homeAccountId,d.environment,d.realm,r,t,a),m=await this.loadRefreshToken(n,d.homeAccountId,d.environment,t,a);return this.generateAuthenticationResult(e,{account:d,idToken:f,accessToken:p,refreshToken:m},o,c)}async loadAccount(e,n,r,t,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const d=An.createFromAccountInfo(e.account);return await this.storage.setAccount(d,r,Gi(t||{})),d}else if(!o||!n&&!t)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),et(Qk);const a=An.generateHomeAccountId(n,o.authorityType,this.logger,this.cryptoObj,t),l=t==null?void 0:t.tid,c=$E(this.storage,o,a,lr,r,t,n,o.hostnameAndPort,l,void 0,void 0,this.logger);return await this.storage.setAccount(c,r,Gi(t||{})),c}async loadIdToken(e,n,r,t,o,a){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const l=Nm(n,r,e.id_token,this.config.auth.clientId,t);return await this.storage.setIdTokenCredential(l,o,a),l}async loadAccessToken(e,n,r,t,o,a,l,c){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const d=n.scope?Pn.fromString(n.scope):new Pn(e.scopes),f=a.expiresOn||n.expires_in+Sr(),p=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+Sr(),m=Rm(r,t,n.access_token,this.config.auth.clientId,o,d.printScopes(),f,p,lr);return await this.storage.setAccessTokenCredential(m,l,c),m}async loadRefreshToken(e,n,r,t,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const a=Sk(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(a,t,o),a}generateAuthenticationResult(e,n,r,t){var f,p,m;let o="",a=[],l=null,c;n!=null&&n.accessToken&&(o=n.accessToken.secret,a=Pn.fromString(n.accessToken.target).asArray(),l=vl(n.accessToken.expiresOn),c=vl(n.accessToken.extendedExpiresOn));const d=n.account;return{authority:t?t.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:An.getAccountInfo(d),idToken:((f=n.idToken)==null?void 0:f.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:l,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((p=n.refreshToken)==null?void 0:p.familyId)||"",tokenType:((m=n==null?void 0:n.accessToken)==null?void 0:m.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class Rz extends Rk{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.27.0 2025-12-04 */class xz extends Hl{constructor(e,n,r,t,o,a,l,c,d,f){super(e,n,r,t,o,a,c,d,f),this.apiId=l}async acquireToken(e){if(!e.code)throw et(Xk);const n=await Me(this.initializeAuthorizationRequest.bind(this),me.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,gt.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const t={...n,code:e.code},o=await Me(this.getClientConfiguration.bind(this),me.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new Rz(o);this.logger.verbose("Auth code client created");const l=new IP(a,this.browserStorage,t,this.logger,this.performanceClient);return await Me(l.handleCodeResponseFromServer.bind(l),me.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(t){throw t instanceof cn&&(t.setCorrelationId(this.correlationId),r.cacheFailedRequest(t)),t}}logout(){return Promise.reject(et(Pm))}}/*! @azure/msal-browser v4.27.0 2025-12-04 */function Oz(i,e,n){var a;const r=((a=window.msal)==null?void 0:a.clientIds)||[],t=r.length,o=r.filter(l=>l===i).length;o>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:t,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.27.0 2025-12-04 */function Df(i,e,n){try{hT(i)}catch(r){throw e.end({success:!1},r,n),r}}class Hm{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ro(this.logger,this.performanceClient):Hp,this.eventHandler=new Z7(this.logger),this.browserStorage=this.isBrowserEnvironment?new Av(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,PG(this.config.auth)):G7(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:jn.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:jn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Av(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Nz(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new Hm(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ht.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),t=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(me.InitializeClientApplication,r);if(this.eventHandler.emitEvent(ht.INITIALIZE_START),!n)try{this.logMultipleInstances(o)}catch{}if(await Me(this.browserStorage.initialize.bind(this.browserStorage),me.InitializeCache,this.logger,this.performanceClient,r)(r),t)try{this.platformAuthProvider=await gz(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout,this.config.system.allowPlatformBrokerWithDOM)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Lr(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),me.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(ht.INITIALIZE_END),o.end({allowPlatformBroker:t,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),EP(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===ls.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),t=this.browserStorage.getCachedNativeRequest(),o=t&&this.platformAuthProvider&&!e;let a;this.eventHandler.emitEvent(ht.HANDLE_REDIRECT_START,gt.Redirect);let l;try{if(o&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(me.AcquireTokenRedirect,(t==null?void 0:t.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const d=new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qt.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,t.accountId,this.nativeInternalStorage,t.correlationId);l=Me(d.handleRedirectPromise.bind(d),me.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[d,f]=this.browserStorage.getCachedRequest(),p=d.correlationId;a=this.performanceClient.startMeasurement(me.AcquireTokenRedirect,p),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const m=this.createRedirectClient(p);l=Me(m.handleRedirectPromise.bind(m),me.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,d,f,a)}}catch(d){throw this.browserStorage.resetRequestCache(),d}return l.then(d=>(d?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ht.LOGIN_SUCCESS,gt.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_SUCCESS,gt.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0},void 0,d.account)):a.event.errorCode?a.end({success:!1},void 0):a.discard(),this.eventHandler.emitEvent(ht.HANDLE_REDIRECT_END,gt.Redirect),d)).catch(d=>{this.browserStorage.resetRequestCache();const f=d;throw r.length>0?this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_FAILURE,gt.Redirect,null,f):this.eventHandler.emitEvent(ht.LOGIN_FAILURE,gt.Redirect,null,f),this.eventHandler.emitEvent(ht.HANDLE_REDIRECT_END,gt.Redirect),a.end({success:!1},f),d})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(me.AcquireTokenPreRedirect,n);r.add({scenarioId:e.scenarioId});const t=e.onRedirectNavigate;if(t)e.onRedirectNavigate=a=>{const l=typeof t=="function"?t(a):void 0;return r.add({navigateCallbackResult:l!==!1}),r.event=r.end({success:!0},void 0,e.account)||r.event,l};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=l=>{const c=typeof a=="function"?a(l):void 0;return r.add({navigateCallbackResult:c!==!1}),r.event=r.end({success:!0},void 0,e.account)||r.event,c}}const o=this.getAllAccounts().length>0;try{Q1(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ls.SIGNIN),o?this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_START,gt.Redirect,e):this.eventHandler.emitEvent(ht.LOGIN_START,gt.Redirect,e);let a;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?a=new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qt.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(r.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof Bi&&al(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof bi)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),r.event.status===2?this.performanceClient.startMeasurement(me.AcquireTokenRedirect,n).end({success:!1},a,e.account):r.end({success:!1},a,e.account),o?this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_FAILURE,gt.Redirect,null,a):this.eventHandler.emitEvent(ht.LOGIN_FAILURE,gt.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(me.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId});try{this.logger.verbose("acquireTokenPopup called",n),Df(this.initialized,r,e.account),this.browserStorage.setInteractionInProgress(!0,ls.SIGNIN)}catch(l){return Promise.reject(l)}const t=this.getAllAccounts();t.length>0?this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_START,gt.Popup,e):this.eventHandler.emitEvent(ht.LOGIN_START,gt.Popup,e);let o;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(r.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative({...e,correlationId:n},Qt.acquireTokenPopup).then(l=>(r.end({success:!0},void 0,l.account),l)).catch(l=>{if(r.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l instanceof Bi&&al(l))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(l instanceof bi)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw l})):o=this.createPopupClient(n).acquireToken(e,a),o.then(l=>(t.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ht.LOGIN_SUCCESS,gt.Popup,l):this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_SUCCESS,gt.Popup,l),r.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length},void 0,l.account),l)).catch(l=>(t.length>0?this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_FAILURE,gt.Popup,null,l):this.eventHandler.emitEvent(ht.LOGIN_FAILURE,gt.Popup,null,l),r.end({success:!1},l,e.account),Promise.reject(l))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,a,l;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(me.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId}),Df(this.initialized,this.ssoSilentMeasurement,e.account),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(ht.SSO_SILENT_START,gt.Silent,r);let t;return this.canUsePlatformBroker(r)?((l=this.ssoSilentMeasurement)==null||l.add({isPlatformBrokerRequest:!0}),t=this.acquireTokenNative(r,Qt.ssoSilent).catch(c=>{var d;if((d=this.ssoSilentMeasurement)==null||d.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof Bi&&al(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw c})):t=this.createSilentIframeClient(r.correlationId).acquireToken(r),t.then(c=>{var d;return this.eventHandler.emitEvent(ht.SSO_SILENT_SUCCESS,gt.Silent,c),(d=this.ssoSilentMeasurement)==null||d.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length},void 0,c.account),c}).catch(c=>{var d;throw this.eventHandler.emitEvent(ht.SSO_SILENT_FAILURE,gt.Silent,null,c),(d=this.ssoSilentMeasurement)==null||d.end({success:!1},c,e.account),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(me.AcquireTokenByCode,n);Df(this.initialized,r),this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_BY_CODE_START,gt.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw et(eP);if(e.code){const t=e.code;let o=this.hybridAuthCodeResponses.get(t);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_BY_CODE_SUCCESS,gt.Silent,a),this.hybridAuthCodeResponses.delete(t),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length},void 0,a.account),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(t),this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_BY_CODE_FAILURE,gt.Silent,null,a),r.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(t,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const t=await this.acquireTokenNative({...e,correlationId:n},Qt.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof Bi&&al(o)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o});return r.end({success:!0},void 0,t.account),t}else throw et(tP);else throw et(Zk)}catch(t){throw this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_BY_CODE_FAILURE,gt.Silent,null,t),r.end({success:!1},t),t}}async acquireTokenByCodeAsync(e){var t;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(me.AcquireTokenByCodeAsync,e.correlationId),(t=this.acquireTokenByCodeAsyncMeasurement)==null||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:o.fromCache}),o}).catch(o=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(me.AcquireTokenFromCache,e.correlationId),n){case sr.Default:case sr.AccessToken:case sr.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return Me(r.acquireToken.bind(r),me.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw We(hs)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(me.AcquireTokenByRefreshToken,e.correlationId),n){case sr.Default:case sr.AccessTokenAndRefreshToken:case sr.RefreshToken:case sr.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return Me(r.acquireToken.bind(r),me.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw We(hs)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(me.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return Me(n.acquireToken.bind(n),me.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Q1(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ls.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return hT(this.initialized),this.browserStorage.setInteractionInProgress(!0,ls.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return z7(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return K7(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return W7(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return $7(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return j7(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();J7(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return Q7(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=An.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId,Gi(e.idTokenClaims)),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,t){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw et(rT);return new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,t)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Ac(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case $n.NONE:case $n.CONSENT:case $n.LOGIN:case $n.SELECT_ACCOUNT:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new yz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new vz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new bz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qt.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new RP(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new Iz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new xz(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qt.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return vP(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==jn.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==jn.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Ii():He.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||K1})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||K1})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(me.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Df(this.initialized,r,e.account),this.logger.verbose("acquireTokenSilent called",n);const t=e.account||this.getActiveAccount();if(!t)throw et(Kk);return this.acquireTokenSilentDeduped(e,t,n).then(o=>(r.end({success:!0,fromCache:o.fromCache,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length},void 0,o.account),{...o,state:e.state,correlationId:n})).catch(o=>{throw o instanceof cn&&o.setCorrelationId(n),r.end({success:!1},o,t),o})}async acquireTokenSilentDeduped(e,n,r){const t=Om(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),o=JSON.stringify(t),a=this.activeSilentTokenRequests.get(o);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const l=Me(this.acquireTokenSilentAsync.bind(this),me.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(o,l),l.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),a}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(me.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_START,gt.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const t=await Me(ez,me.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||sr.Default;return this.acquireTokenSilentNoIframe(t,o).catch(async l=>{if(Dz(l,o))if(this.activeIframeRequest)if(o!==sr.Skip){const[d,f]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${f}`,t.correlationId);const p=this.performanceClient.startMeasurement(me.AwaitConcurrentIframe,t.correlationId);p.add({awaitIframeCorrelationId:f});const m=await d;if(p.end({success:m}),m)return this.logger.verbose(`Parallel iframe request with correlationId: ${f} succeeded. Retrying cache and/or RT redemption`,t.correlationId),this.acquireTokenSilentNoIframe(t,o);throw this.logger.info(`Iframe request with correlationId: ${f} failed. Interaction is required.`),l}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",t.correlationId),Me(this.acquireTokenBySilentIframe.bind(this),me.AcquireTokenBySilentIframe,this.logger,this.performanceClient,t.correlationId)(t);else{let d;return this.activeIframeRequest=[new Promise(f=>{d=f}),t.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",t.correlationId),Me(this.acquireTokenBySilentIframe.bind(this),me.AcquireTokenBySilentIframe,this.logger,this.performanceClient,t.correlationId)(t).then(f=>(d(!0),f)).catch(f=>{throw d(!1),f}).finally(()=>{this.activeIframeRequest=void 0})}else throw l}).then(l=>(this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_SUCCESS,gt.Silent,l),this.performanceClient.addFields({fromCache:l.fromCache},e.correlationId),l)).catch(l=>{throw this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_FAILURE,gt.Silent,null,l),l}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return Ac(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Qt.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw this.performanceClient.addFields({brokerErrorName:r.name,brokerErrorCode:r.errorCode},e.correlationId),r instanceof Bi&&al(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,We(hs)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===sr.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Me(this.acquireTokenFromCache.bind(this),me.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===sr.AccessToken)throw r;return this.eventHandler.emitEvent(ht.ACQUIRE_TOKEN_NETWORK_START,gt.Silent,e),Me(this.acquireTokenByRefreshToken.bind(this),me.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Me(ra,me.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),Oz(n,e,this.logger)}}function Dz(i,e){const n=!(i instanceof bi&&i.subError!==Mm),r=i.errorCode===Er.INVALID_GRANT_ERROR||i.errorCode===hs,t=n&&r||i.errorCode===jp||i.errorCode===KE,o=u7.includes(e);return t&&o}/*! @azure/msal-browser v4.27.0 2025-12-04 */async function Mz(i,e){const n=new na(i);return await n.initialize(),Hm.createController(n,e)}/*! @azure/msal-browser v4.27.0 2025-12-04 */class wT{static async createPublicClientApplication(e){const n=await Mz(e);return new wT(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new Hm(new na(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}const lc=Ln("IdentityUtils"),DP="1.0";function kz(i,e,n){const r=t=>(lc.getToken.info(t),new gl({scopes:Array.isArray(i)?i:[i],getTokenOptions:n,message:t}));if(!e)throw r("No response");if(!e.expiresOn)throw r('Response had no "expiresOn" property.');if(!e.accessToken)throw r('Response had no "accessToken" property.')}function MP(i,e){return e||(e=hM),new RegExp(`${i}/?$`).test(e)?e:e.endsWith("/")?e+i:`${e}/${i}`}function Pz(i,e,n){return i==="adfs"&&e||n?[e]:[]}const Lz=(i,e=wM?"Node":"Browser")=>(n,r,t)=>{if(!t)switch(n){case Ft.Error:i.info(`MSAL ${e} V2 error: ${r}`);return;case Ft.Info:i.info(`MSAL ${e} V2 info message: ${r}`);return;case Ft.Verbose:i.info(`MSAL ${e} V2 verbose message: ${r}`);return;case Ft.Warning:i.info(`MSAL ${e} V2 warning: ${r}`);return}};function Uz(i){switch(i){case"error":return Ft.Error;case"info":return Ft.Info;case"verbose":return Ft.Verbose;case"warning":return Ft.Warning;default:return Ft.Info}}function Fz(i,e,n){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){const r=e;switch(r.errorCode){case"endpoints_resolution_error":return lc.info(Nt(i,e.message)),new Em(e.message);case"device_code_polling_cancelled":return new EM("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":lc.info(Nt(i,`Authentication returned errorCode ${r.errorCode}`));break;default:lc.info(Nt(i,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(lc.info(Nt(i,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new gl({scopes:i,getTokenOptions:n,message:e.message})}function G0(i){return{localAccountId:i.homeAccountId,environment:i.authority,username:i.username,homeAccountId:i.homeAccountId,tenantId:i.tenantId}}function z0(i,e){return{authority:e.environment??bV,homeAccountId:e.homeAccountId,tenantId:e.tenantId||fM,username:e.username,clientId:i,version:DP}}function Bz(i){return JSON.stringify(i)}function Hz(i){const e=JSON.parse(i);if(e.version&&e.version!==DP)throw Error("Unsupported AuthenticationRecord version");return e}class ST extends Error{constructor(e){super(e),this.name="AbortError"}}function Mf(i){return i.toLowerCase()}function*qz(i){for(const e of i.values())yield[e.name,e.value]}class Vz{constructor(e){Qe(this,"_headersMap");if(this._headersMap=new Map,e)for(const n of Object.keys(e))this.set(n,e[n])}set(e,n){this._headersMap.set(Mf(e),{name:e,value:String(n).trim()})}get(e){var n;return(n=this._headersMap.get(Mf(e)))==null?void 0:n.value}has(e){return this._headersMap.has(Mf(e))}delete(e){this._headersMap.delete(Mf(e))}toJSON(e={}){const n={};if(e.preserveCase)for(const r of this._headersMap.values())n[r.name]=r.value;else for(const[r,t]of this._headersMap)n[r]=t.value;return n}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return qz(this._headersMap)}}function bc(i){return new Vz(i)}class Yz{constructor(e){Qe(this,"url");Qe(this,"method");Qe(this,"headers");Qe(this,"timeout");Qe(this,"withCredentials");Qe(this,"body");Qe(this,"multipartBody");Qe(this,"formData");Qe(this,"streamResponseStatusCodes");Qe(this,"enableBrowserStreams");Qe(this,"proxySettings");Qe(this,"disableKeepAlive");Qe(this,"abortSignal");Qe(this,"requestId");Qe(this,"allowInsecureConnection");Qe(this,"onUploadProgress");Qe(this,"onDownloadProgress");Qe(this,"requestOverrides");Qe(this,"authSchemes");this.url=e.url,this.body=e.body,this.headers=e.headers??bc(),this.method=e.method??"GET",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||vM(),this.allowInsecureConnection=e.allowInsecureConnection??!1,this.enableBrowserStreams=e.enableBrowserStreams??!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}}function Gz(i){return new Yz(i)}const lN=new Set(["Deserialize","Serialize","Retry","Sign"]);class nm{constructor(e){Qe(this,"_policies",[]);Qe(this,"_orderedPolicies");this._policies=(e==null?void 0:e.slice(0))??[],this._orderedPolicies=void 0}addPolicy(e,n={}){if(n.phase&&n.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(n.phase&&!lN.has(n.phase))throw new Error(`Invalid phase name: ${n.phase}`);if(n.afterPhase&&!lN.has(n.afterPhase))throw new Error(`Invalid afterPhase name: ${n.afterPhase}`);this._policies.push({policy:e,options:n}),this._orderedPolicies=void 0}removePolicy(e){const n=[];return this._policies=this._policies.filter(r=>e.name&&r.policy.name===e.name||e.phase&&r.options.phase===e.phase?(n.push(r.policy),!1):!0),this._orderedPolicies=void 0,n}sendRequest(e,n){return this.getOrderedPolicies().reduceRight((o,a)=>l=>a.sendRequest(l,o),o=>e.sendRequest(o))(n)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new nm(this._policies)}static create(){return new nm}orderPolicies(){const e=[],n=new Map;function r(E){return{name:E,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const t=r("Serialize"),o=r("None"),a=r("Deserialize"),l=r("Retry"),c=r("Sign"),d=[t,o,a,l,c];function f(E){return E==="Retry"?l:E==="Serialize"?t:E==="Deserialize"?a:E==="Sign"?c:o}for(const E of this._policies){const T=E.policy,C=E.options,S=T.name;if(n.has(S))throw new Error("Duplicate policy names not allowed in pipeline");const b={policy:T,dependsOn:new Set,dependants:new Set};C.afterPhase&&(b.afterPhase=f(C.afterPhase),b.afterPhase.hasAfterPolicies=!0),n.set(S,b),f(C.phase).policies.add(b)}for(const E of this._policies){const{policy:T,options:C}=E,S=T.name,b=n.get(S);if(!b)throw new Error(`Missing node for policy ${S}`);if(C.afterPolicies)for(const I of C.afterPolicies){const N=n.get(I);N&&(b.dependsOn.add(N),N.dependants.add(b))}if(C.beforePolicies)for(const I of C.beforePolicies){const N=n.get(I);N&&(N.dependsOn.add(b),b.dependants.add(N))}}function p(E){E.hasRun=!0;for(const T of E.policies)if(!(T.afterPhase&&(!T.afterPhase.hasRun||T.afterPhase.policies.size))&&T.dependsOn.size===0){e.push(T.policy);for(const C of T.dependants)C.dependsOn.delete(T);n.delete(T.policy.name),E.policies.delete(T)}}function m(){for(const E of d){if(p(E),E.policies.size>0&&E!==o){o.hasRun||p(o);return}E.hasAfterPolicies&&p(o)}}let y=0;for(;n.size>0;){y++;const E=e.length;if(m(),e.length<=E&&y>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}function zz(){return nm.create()}const Kz=Symbol(),Wz=new hE;var us;let rm=(us=class extends Error{constructor(n,r={}){var o;super(n);Qe(this,"code");Qe(this,"statusCode");Qe(this,"request");Qe(this,"response");Qe(this,"details");this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1});const t=(o=this.request)!=null&&o.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,Kz,{value:()=>`RestError: ${this.message} 
 ${Wz.sanitize({...this,request:{...this.request,agent:t},response:this.response})}`,enumerable:!1}),Object.setPrototypeOf(this,us.prototype)}},Qe(us,"REQUEST_SEND_ERROR","REQUEST_SEND_ERROR"),Qe(us,"PARSE_ERROR","PARSE_ERROR"),us);function $z(i){return i instanceof rm?!0:dE(i)&&i.name==="RestError"}function jz(i){return!!(i&&typeof i.pipe=="function")}function CT(i){return!!(i&&typeof i.getReader=="function"&&typeof i.tee=="function")}function Jz(i){return typeof i.stream=="function"}function Qz(i){if(i.buffer instanceof ArrayBuffer&&i.byteOffset===0&&i.byteLength===i.buffer.byteLength)return i.buffer;const e=new ArrayBuffer(i.byteLength),n=new Uint8Array(e),r=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return n.set(r),n.buffer}function Xz(i){return(typeof Blob=="function"||typeof Blob=="object")&&i instanceof Blob}class Zz{async sendRequest(e){if(new URL(e.url).protocol!=="https:"&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return await eK(e)}catch(t){throw rK(t,e)}}}async function eK(i){const{abortController:e,abortControllerCleanup:n}=nK(i);try{const r=iK(i.headers),{streaming:t,body:o}=sK(i),a={body:o,method:i.method,headers:r,signal:e.signal,..."credentials"in Request.prototype?{credentials:i.withCredentials?"include":"same-origin"}:{},..."cache"in Request.prototype?{cache:"no-store"}:{}};t&&(a.duplex="half");const l=await fetch(i.url,{...a,...i.requestOverrides});return Xz(i.body)&&i.onUploadProgress&&i.onUploadProgress({loadedBytes:i.body.size}),tK(l,i,n)}catch(r){throw n==null||n(),r}}async function tK(i,e,n){var a,l;const r=oK(i),t={request:e,headers:r,status:i.status},o=CT(i.body)?kP(i.body,{onProgress:e.onDownloadProgress,onEnd:n}):i.body;if((a=e.streamResponseStatusCodes)!=null&&a.has(Number.POSITIVE_INFINITY)||(l=e.streamResponseStatusCodes)!=null&&l.has(t.status))if(e.enableBrowserStreams)t.browserStreamBody=o??void 0;else{const c=new Response(o);t.blobBody=c.blob(),n==null||n()}else{const c=new Response(o);t.bodyAsText=await c.text(),n==null||n()}return t}function nK(i){const e=new AbortController;let n,r;if(i.abortSignal){if(i.abortSignal.aborted)throw new ST("The operation was aborted. Request has already been canceled.");r=t=>{t.type==="abort"&&e.abort()},i.abortSignal.addEventListener("abort",r),n=()=>{var t;r&&((t=i.abortSignal)==null||t.removeEventListener("abort",r))}}return i.timeout>0&&setTimeout(()=>{e.abort()},i.timeout),{abortController:e,abortControllerCleanup:n}}function rK(i,e){return i&&(i==null?void 0:i.name)==="AbortError"?i:new rm(`Error sending request: ${i.message}`,{code:(i==null?void 0:i.code)??rm.REQUEST_SEND_ERROR,request:e})}function iK(i){const e=new Headers;for(const[n,r]of i)e.append(n,r);return e}function oK(i){const e=bc();for(const[n,r]of i.headers)e.set(n,r);return e}function sK(i){const e=typeof i.body=="function"?i.body():i.body;if(jz(e))throw new Error("Node streams are not supported in browser environment.");return CT(e)?{streaming:!0,body:kP(e,{onProgress:i.onUploadProgress})}:typeof e=="object"&&e&&"buffer"in e?{streaming:!1,body:Qz(e)}:e===void 0?{streaming:!1}:{streaming:!1,body:e}}function kP(i,e={}){let n=0;const{onProgress:r,onEnd:t}=e;if(lK(i))return i.pipeThrough(new TransformStream({transform(o,a){if(o===null){a.terminate();return}a.enqueue(o),n+=o.length,r&&r({loadedBytes:n})},flush(){t==null||t()}}));{const o=i.getReader();return new ReadableStream({async pull(a){const{done:l,value:c}=await o.read();if(l||!c){t==null||t(),a.close(),o.releaseLock();return}n+=(c==null?void 0:c.length)??0,a.enqueue(c),r&&r({loadedBytes:n})},cancel(a){return t==null||t(),o.cancel(a)}})}}function aK(){return new Zz}function lK(i){return i.pipeThrough!==void 0&&self.TransformStream!==void 0}function uK(){return aK()}const cK=oM("ts-http-runtime"),dK="logPolicy";function fK(i={}){const e=i.logger??cK.info,n=new hE({additionalAllowedHeaderNames:i.additionalAllowedHeaderNames,additionalAllowedQueryParameters:i.additionalAllowedQueryParameters});return{name:dK,async sendRequest(r,t){if(!e.enabled)return t(r);e(`Request: ${n.sanitize(r)}`);const o=await t(r);return e(`Response status code: ${o.status}`),e(`Headers: ${n.sanitize(o.headers)}`),o}}}const hK="redirectPolicy",uN=["GET","HEAD"];function pK(i={}){const{maxRetries:e=20}=i;return{name:hK,async sendRequest(n,r){const t=await r(n);return PP(r,t,e)}}}async function PP(i,e,n,r=0){const{request:t,status:o,headers:a}=e,l=a.get("location");if(l&&(o===300||o===301&&uN.includes(t.method)||o===302&&uN.includes(t.method)||o===303&&t.method==="POST"||o===307)&&r<n){const c=new URL(l,t.url);t.url=c.toString(),o===303&&(t.method="GET",t.headers.delete("Content-Length"),delete t.body),t.headers.delete("Authorization");const d=await i(t);return PP(i,d,n,r+1)}return e}const bv=3;function mK(){throw new Error("decompressResponsePolicy is not supported in browser environment")}const gK="The operation was aborted.";function yK(i,e,n){return new Promise((r,t)=>{let o,a;const l=()=>t(new ST(n!=null&&n.abortErrorMsg?n==null?void 0:n.abortErrorMsg:gK)),c=()=>{n!=null&&n.abortSignal&&a&&n.abortSignal.removeEventListener("abort",a)};if(a=()=>(o&&clearTimeout(o),c(),l()),n!=null&&n.abortSignal&&n.abortSignal.aborted)return l();o=setTimeout(()=>{c(),r(e)},i),n!=null&&n.abortSignal&&n.abortSignal.addEventListener("abort",a)})}function _K(i,e){const n=i.headers.get(e);if(!n)return;const r=Number(n);if(!Number.isNaN(r))return r}const Iv="Retry-After",vK=["retry-after-ms","x-ms-retry-after-ms",Iv];function LP(i){if(i&&[429,503].includes(i.status))try{for(const t of vK){const o=_K(i,t);if(o===0||o)return o*(t===Iv?1e3:1)}const e=i.headers.get(Iv);if(!e)return;const r=Date.parse(e)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch{return}}function EK(i){return Number.isFinite(LP(i))}function TK(){return{name:"throttlingRetryStrategy",retry({response:i}){const e=LP(i);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}const wK=1e3,SK=1e3*64;function CK(i={}){const e=i.retryDelayInMs??wK,n=i.maxRetryDelayInMs??SK;return{name:"exponentialRetryStrategy",retry({retryCount:r,response:t,responseError:o}){const a=bK(o),l=a&&i.ignoreSystemErrors,c=AK(t),d=c&&i.ignoreHttpStatusCodes;return t&&(EK(t)||!c)||d||l?{skipStrategy:!0}:o&&!a&&!c?{errorToThrow:o}:DV(r,{retryDelayInMs:e,maxRetryDelayInMs:n})}}}function AK(i){return!!(i&&i.status!==void 0&&(i.status>=500||i.status===408)&&i.status!==501&&i.status!==505)}function bK(i){return i?i.code==="ETIMEDOUT"||i.code==="ESOCKETTIMEDOUT"||i.code==="ECONNREFUSED"||i.code==="ECONNRESET"||i.code==="ENOENT"||i.code==="ENOTFOUND":!1}const IK=oM("ts-http-runtime retryPolicy"),NK="retryPolicy";function RK(i,e={maxRetries:bv}){const n=e.logger||IK;return{name:NK,async sendRequest(r,t){var c;let o,a,l=-1;e:for(;;){l+=1,o=void 0,a=void 0;try{n.info(`Retry ${l}: Attempting to send request`,r.requestId),o=await t(r),n.info(`Retry ${l}: Received a response from request`,r.requestId)}catch(d){if(n.error(`Retry ${l}: Received an error from request`,r.requestId),a=d,!d||a.name!=="RestError")throw d;o=a.response}if((c=r.abortSignal)!=null&&c.aborted)throw n.error(`Retry ${l}: Request aborted.`),new ST;if(l>=(e.maxRetries??bv)){if(n.info(`Retry ${l}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),a)throw a;if(o)return o;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${l}: Processing ${i.length} retry strategies.`);t:for(const d of i){const f=d.logger||n;f.info(`Retry ${l}: Processing retry strategy ${d.name}.`);const p=d.retry({retryCount:l,response:o,responseError:a});if(p.skipStrategy){f.info(`Retry ${l}: Skipped.`);continue t}const{errorToThrow:m,retryAfterInMs:y,redirectTo:E}=p;if(m)throw f.error(`Retry ${l}: Retry strategy ${d.name} throws error:`,m),m;if(y||y===0){f.info(`Retry ${l}: Retry strategy ${d.name} retries after ${y}`),await yK(y,void 0,{abortSignal:r.abortSignal});continue e}if(E){f.info(`Retry ${l}: Retry strategy ${d.name} redirects to ${E}`),r.url=E;continue e}}if(a)throw n.info("None of the retry strategies could work with the received error. Throwing it."),a;if(o)return n.info("None of the retry strategies could work with the received response. Returning it."),o}}}}const xK="defaultRetryPolicy";function OK(i={}){return{name:xK,sendRequest:RK([TK(),CK(i)],{maxRetries:i.maxRetries??bv}).sendRequest}}const DK="formDataPolicy";function MK(i){const e={};for(const[n,r]of i.entries())e[n]??(e[n]=[]),e[n].push(r);return e}function kK(){return{name:DK,async sendRequest(i,e){if(fE&&typeof FormData<"u"&&i.body instanceof FormData&&(i.formData=MK(i.body),i.body=void 0),i.formData){const n=i.headers.get("Content-Type");n&&n.indexOf("application/x-www-form-urlencoded")!==-1?i.body=PK(i.formData):await LK(i.formData,i),i.formData=void 0}return e(i)}}}function PK(i){const e=new URLSearchParams;for(const[n,r]of Object.entries(i))if(Array.isArray(r))for(const t of r)e.append(n,t.toString());else e.append(n,r.toString());return e.toString()}async function LK(i,e){const n=e.headers.get("Content-Type");if(n&&!n.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",n??"multipart/form-data");const r=[];for(const[t,o]of Object.entries(i))for(const a of Array.isArray(o)?o:[o])if(typeof a=="string")r.push({headers:bc({"Content-Disposition":`form-data; name="${t}"`}),body:Ws(a,"utf-8")});else{if(a==null||typeof a!="object")throw new Error(`Unexpected value for key ${t}: ${a}. Value should be serialized to string first.`);{const l=a.name||"blob",c=bc();c.set("Content-Disposition",`form-data; name="${t}"; filename="${l}"`),c.set("Content-Type",a.type||"application/octet-stream"),r.push({headers:c,body:a})}}e.multipartBody={parts:r}}const UK="proxyPolicy is not supported in browser environment";function FK(){throw new Error(UK)}const BK="agentPolicy";function HK(i){return{name:BK,sendRequest:async(e,n)=>(e.agent||(e.agent=i),n(e))}}const qK="tlsPolicy";function VK(i){return{name:qK,sendRequest:async(e,n)=>(e.tlsSettings||(e.tlsSettings=i),n(e))}}function YK(i){return new Response(i).blob()}async function GK(i){if(i instanceof Blob||i instanceof Uint8Array)return i;if(CT(i))return YK(i);throw new Error("Unsupported source type. Only Blob, Uint8Array, and ReadableStream are supported in browser.")}function zK(i){return"resize"in i.buffer?i:i.map(e=>e)}async function KK(i){const e=[];for(const n of i){const r=await GK(typeof n=="function"?n():n);r instanceof Blob?e.push(r):e.push(new Blob([zK(r)]))}return new Blob(e)}function WK(){return`----AzSDKFormBoundary${vM()}`}function $K(i){let e="";for(const[n,r]of i)e+=`${n}: ${r}\r
`;return e}function jK(i){return i instanceof Uint8Array?i.byteLength:Jz(i)?i.size===-1?void 0:i.size:void 0}function JK(i){let e=0;for(const n of i){const r=jK(n);if(r===void 0)return;e+=r}return e}async function QK(i,e,n){const r=[Ws(`--${n}`,"utf-8"),...e.flatMap(o=>[Ws(`\r
`,"utf-8"),Ws($K(o.headers),"utf-8"),Ws(`\r
`,"utf-8"),o.body,Ws(`\r
--${n}`,"utf-8")]),Ws(`--\r
\r
`,"utf-8")],t=JK(r);t&&i.headers.set("Content-Length",t),i.body=await KK(r)}const UP="multipartPolicy",XK=70,ZK=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function eW(i){if(i.length>XK)throw new Error(`Multipart boundary "${i}" exceeds maximum length of 70 characters`);if(Array.from(i).some(e=>!ZK.has(e)))throw new Error(`Multipart boundary "${i}" contains invalid characters`)}function tW(){return{name:UP,async sendRequest(i,e){if(!i.multipartBody)return e(i);if(i.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=i.multipartBody.boundary;const r=i.headers.get("Content-Type")??"multipart/mixed",t=r.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!t)throw new Error(`Got multipart request body, but content-type header was not multipart: ${r}`);const[,o,a]=t;if(a&&n&&a!==n)throw new Error(`Multipart boundary was specified as ${a} in the header, but got ${n} in the request body`);return n??(n=a),n?eW(n):n=WK(),i.headers.set("Content-Type",`${o}; boundary=${n}`),await QK(i,i.multipartBody.parts,n),i.multipartBody=void 0,e(i)}}}function FP(){return zz()}const ql=uE("core-rest-pipeline");function nW(i={}){return fK({logger:ql.info,...i})}function rW(i={}){return pK(i)}function iW(){return"x-ms-useragent"}function oW(i){const e=[{name:"Firefox",regex:/Firefox\/([\d.]+)/},{name:"Safari",regex:/Version\/([\d.]+).*Safari/}];for(const n of e){const r=i.match(n.regex);if(r)return{brand:n.name,version:r[1]}}}function sW(i){const e=["Google Chrome","Microsoft Edge","Opera","Brave","Chromium"];for(const n of e){const r=i.find(t=>t.brand===n);if(r)return r}}async function aW(i){const e=globalThis.navigator;let n="unknown";if(e!=null&&e.userAgentData){const r=await e.userAgentData.getHighEntropyValues(["architecture","platformVersion"]);n=`${r.platform} ${r.platformVersion}; ${r.architecture}`;const t=sW(e.userAgentData.brands);t&&i.set(t.brand,`${t.version} (${n})`)}else if(e!=null&&e.platform){n=e.platform;const r=oW(e.userAgent);r&&i.set(r.brand,`${r.version} (${n})`)}else typeof globalThis.EdgeRuntime=="string"&&i.set("EdgeRuntime",`${globalThis.EdgeRuntime} (${n})`)}const BP="1.22.2";function lW(i){const e=[];for(const[n,r]of i){const t=r?`${n}/${r}`:n;e.push(t)}return e.join(" ")}function uW(){return iW()}async function HP(i){const e=new Map;e.set("core-rest-pipeline",BP),await aW(e);const n=lW(e);return i?`${i} ${n}`:n}const cN=uW(),cW="userAgentPolicy";function dW(i={}){const e=HP(i.userAgentPrefix);return{name:cW,async sendRequest(n,r){return n.headers.has(cN)||n.headers.set(cN,await e),r(n)}}}const qP=Symbol("rawContent");function VP(i){return typeof i[qP]=="function"}function fW(i){return VP(i)?i[qP]():i}const YP=UP;function hW(){const i=tW();return{name:YP,sendRequest:async(e,n)=>{if(e.multipartBody)for(const r of e.multipartBody.parts)VP(r.body)&&(r.body=fW(r.body));return i.sendRequest(e,n)}}}function pW(){return mK()}function mW(i={}){return OK(i)}function gW(){return kK()}function yW(i,e){return FK()}const _W="setClientRequestIdPolicy";function vW(i="x-ms-client-request-id"){return{name:_W,async sendRequest(e,n){return e.headers.has(i)||e.headers.set(i,e.requestId),n(e)}}}function EW(i){return HK(i)}function TW(i){return VK(i)}const im=rm;function GP(i){return $z(i)}const wW="tracingPolicy";function SW(i={}){const e=HP(i.userAgentPrefix),n=new hE({additionalAllowedQueryParameters:i.additionalAllowedQueryParameters}),r=CW();return{name:wW,async sendRequest(t,o){if(!r)return o(t);const a=await e,l={"http.url":n.sanitizeUrl(t.url),"http.method":t.method,"http.user_agent":a,requestId:t.requestId};a&&(l["http.user_agent"]=a);const{span:c,tracingContext:d}=AW(r,t,l)??{};if(!c||!d)return o(t);try{const f=await r.withContext(d,o,t);return IW(c,f),f}catch(f){throw bW(c,f),f}}}}function CW(){try{return pM({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:BP})}catch(i){ql.warning(`Error when creating the TracingClient: ${Tm(i)}`);return}}function AW(i,e,n){try{const{span:r,updatedOptions:t}=i.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:n});if(!r.isRecording()){r.end();return}const o=i.createRequestHeaders(t.tracingOptions.tracingContext);for(const[a,l]of Object.entries(o))e.headers.set(a,l);return{span:r,tracingContext:t.tracingOptions.tracingContext}}catch(r){ql.warning(`Skipping creating a tracing span due to an error: ${Tm(r)}`);return}}function bW(i,e){try{i.setStatus({status:"error",error:GV(e)?e:void 0}),GP(e)&&e.statusCode&&i.setAttribute("http.status_code",e.statusCode),i.end()}catch(n){ql.warning(`Skipping tracing span processing due to an error: ${Tm(n)}`)}}function IW(i,e){try{i.setAttribute("http.status_code",e.status);const n=e.headers.get("x-ms-request-id");n&&i.setAttribute("serviceRequestId",n),e.status>=400&&i.setStatus({status:"error"}),i.end()}catch(n){ql.warning(`Skipping tracing span processing due to an error: ${Tm(n)}`)}}function zP(i){if(i instanceof AbortSignal)return{abortSignal:i};if(i.aborted)return{abortSignal:AbortSignal.abort(i.reason)};const e=new AbortController;let n=!0;function r(){n&&(i.removeEventListener("abort",t),n=!1)}function t(){e.abort(i.reason),r()}return i.addEventListener("abort",t),{abortSignal:e.signal,cleanup:r}}const NW="wrapAbortSignalLikePolicy";function RW(){return{name:NW,sendRequest:async(i,e)=>{if(!i.abortSignal)return e(i);const{abortSignal:n,cleanup:r}=zP(i.abortSignal);i.abortSignal=n;try{return await e(i)}finally{r==null||r()}}}}function xW(i){var n;const e=FP();return w1&&(i.agent&&e.addPolicy(EW(i.agent)),i.tlsOptions&&e.addPolicy(TW(i.tlsOptions)),e.addPolicy(yW(i.proxyOptions)),e.addPolicy(pW())),e.addPolicy(RW()),e.addPolicy(gW(),{beforePolicies:[YP]}),e.addPolicy(dW(i.userAgentOptions)),e.addPolicy(vW((n=i.telemetryOptions)==null?void 0:n.clientRequestIdHeaderName)),e.addPolicy(hW(),{afterPhase:"Deserialize"}),e.addPolicy(mW(i.retryOptions),{phase:"Retry"}),e.addPolicy(SW({...i.userAgentOptions,...i.loggingOptions}),{afterPhase:"Retry"}),w1&&e.addPolicy(rW(i.redirectOptions),{afterPhase:"Retry"}),e.addPolicy(nW(i.loggingOptions),{afterPhase:"Sign"}),e}function OW(){const i=uK();return{async sendRequest(e){const{abortSignal:n,cleanup:r}=e.abortSignal?zP(e.abortSignal):{};try{return e.abortSignal=n,await i.sendRequest(e)}finally{r==null||r()}}}}function gc(i){return bc(i)}function Qs(i){return Gz(i)}const DW={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function MW(i,e,n){async function r(){if(Date.now()<n)try{return await i()}catch{return null}else{const o=await i();if(o===null)throw new Error("Failed to refresh access token.");return o}}let t=await r();for(;t===null;)await VV(e),t=await r();return t}function kW(i,e){let n=null,r=null,t;const o={...DW,...e},a={get isRefreshing(){return n!==null},get shouldRefresh(){return a.isRefreshing?!1:r!=null&&r.refreshAfterTimestamp&&r.refreshAfterTimestamp<Date.now()?!0:((r==null?void 0:r.expiresOnTimestamp)??0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return r===null||r.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function l(c,d){return a.isRefreshing||(n=MW(()=>i.getToken(c,d),o.retryIntervalInMs,(r==null?void 0:r.expiresOnTimestamp)??Date.now()).then(p=>(n=null,r=p,t=d.tenantId,r)).catch(p=>{throw n=null,r=null,t=void 0,p})),n}return async(c,d)=>{const f=!!d.claims,p=t!==d.tenantId;return f&&(r=null),p||f||a.mustRefresh?l(c,d):(a.shouldRefresh&&l(c,d),r)}}const PW="bearerTokenAuthenticationPolicy";async function kf(i,e){try{return[await e(i),void 0]}catch(n){if(GP(n)&&n.response)return[n.response,n];throw n}}async function LW(i){const{scopes:e,getAccessToken:n,request:r}=i,t={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions,enableCae:!0},o=await n(e,t);o&&i.request.headers.set("Authorization",`Bearer ${o.token}`)}function dN(i){return i.status===401&&i.headers.has("WWW-Authenticate")}async function fN(i,e){const{scopes:n}=i,r=await i.getAccessToken(n,{enableCae:!0,claims:e});return r?(i.request.headers.set("Authorization",`${r.tokenType??"Bearer"} ${r.token}`),!0):!1}function KP(i){var l,c;const{credential:e,scopes:n,challengeCallbacks:r}=i,t=i.logger||ql,o={authorizeRequest:((l=r==null?void 0:r.authorizeRequest)==null?void 0:l.bind(r))??LW,authorizeRequestOnChallenge:(c=r==null?void 0:r.authorizeRequestOnChallenge)==null?void 0:c.bind(r)},a=e?kW(e):()=>Promise.resolve(null);return{name:PW,async sendRequest(d,f){if(!d.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await o.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:d,getAccessToken:a,logger:t});let p,m,y;if([p,m]=await kf(d,f),dN(p)){let E=hN(p.headers.get("WWW-Authenticate"));if(E){let T;try{T=atob(E)}catch{return t.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${E}`),p}y=await fN({scopes:Array.isArray(n)?n:[n],response:p,request:d,getAccessToken:a,logger:t},T),y&&([p,m]=await kf(d,f))}else if(o.authorizeRequestOnChallenge&&(y=await o.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:d,response:p,getAccessToken:a,logger:t}),y&&([p,m]=await kf(d,f)),dN(p)&&(E=hN(p.headers.get("WWW-Authenticate")),E))){let T;try{T=atob(E)}catch{return t.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${E}`),p}y=await fN({scopes:Array.isArray(n)?n:[n],response:p,request:d,getAccessToken:a,logger:t},T),y&&([p,m]=await kf(d,f))}}if(m)throw m;return p}}}function UW(i){const e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,n=/(\w+)="([^"]*)"/g,r=[];let t;for(;(t=e.exec(i))!==null;){const o=t[1],a=t[2],l={};let c;for(;(c=n.exec(a))!==null;)l[c[1]]=c[2];r.push({scheme:o,params:l})}return r}function hN(i){var n;return i?(n=UW(i).find(r=>r.scheme==="Bearer"&&r.params.claims&&r.params.error==="insufficient_claims"))==null?void 0:n.params.claims:void 0}function FW(i){return`The current credential is not configured to acquire tokens for tenant ${i}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}function qm(i,e,n=[]){let r;if(i==="adfs"?r=i:r=(e==null?void 0:e.tenantId)??i,i&&r!==i&&!n.includes("*")&&!n.some(t=>t.localeCompare(r)===0))throw new Error(FW(i));return r}function WP(i,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){const n=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw i.info(Nt("",n)),n}}function BW(i,e,n){return e?(WP(i,e),e):(n||(n=v1),n!==v1?"common":"organizations")}function Vm(i){return!i||i.length===0?[]:i.includes("*")?IV:i}const $P="$",jP="_";function HW(i,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||(e==null?void 0:e.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))!==null||i===void 0||i===null)}function qW(i){const e={...i.headers,...i.body};return i.hasNullableType&&Object.getOwnPropertyNames(e).length===0?i.shouldWrapBody?{body:null}:null:i.shouldWrapBody?{...i.headers,body:i.body}:e}function pN(i,e){var c;const n=i.parsedHeaders;if(i.request.method==="HEAD")return{...n,body:i.parsedBody};const r=e&&e.bodyMapper,t=!!(r!=null&&r.nullable),o=r==null?void 0:r.type.name;if(o==="Stream")return{...n,blobBody:i.blobBody,readableStreamBody:i.readableStreamBody};const a=o==="Composite"&&r.type.modelProperties||{},l=Object.keys(a).some(d=>a[d].serializedName==="");if(o==="Sequence"||l){const d=i.parsedBody??[];for(const f of Object.keys(a))a[f].serializedName&&(d[f]=(c=i.parsedBody)==null?void 0:c[f]);if(n)for(const f of Object.keys(n))d[f]=n[f];return t&&!i.parsedBody&&!n&&Object.getOwnPropertyNames(a).length===0?null:d}return qW({body:i.parsedBody,headers:n,hasNullableType:t,shouldWrapBody:HW(i.parsedBody,o)})}const Sl={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"},mN={operationRequestMap:new WeakMap};function Il(i,e,n){let r=e.parameterPath;const t=e.mapper;let o;if(typeof r=="string"&&(r=[r]),Array.isArray(r)){if(r.length>0)if(t.isConstant)o=t.defaultValue;else{let a=gN(i,r);!a.propertyFound&&n&&(a=gN(n,r));let l=!1;a.propertyFound||(l=t.required||r[0]==="options"&&r.length===2),o=l?t.defaultValue:a.propertyValue}}else{t.required&&(o={});for(const a in r){const l=t.type.modelProperties[a],c=r[a],d=Il(i,{parameterPath:c,mapper:l},n);d!==void 0&&(o||(o={}),o[a]=d)}}return o}function gN(i,e){const n={propertyFound:!1};let r=0;for(;r<e.length;++r){const t=e[r];if(i&&t in i)i=i[t];else break}return r===e.length&&(n.propertyValue=i,n.propertyFound=!0),n}const JP=Symbol.for("@azure/core-client original request");function VW(i){return JP in i}function Vl(i){if(VW(i))return Vl(i[JP]);let e=mN.operationRequestMap.get(i);return e||(e={},mN.operationRequestMap.set(i,e)),e}const YW=["application/json","text/json"],GW=["application/xml","application/atom+xml"],zW="deserializationPolicy";function KW(i={}){var a,l;const e=((a=i.expectedContentTypes)==null?void 0:a.json)??YW,n=((l=i.expectedContentTypes)==null?void 0:l.xml)??GW,r=i.parseXML,t=i.serializerOptions,o={xml:{rootName:(t==null?void 0:t.xml.rootName)??"",includeRoot:(t==null?void 0:t.xml.includeRoot)??!1,xmlCharKey:(t==null?void 0:t.xml.xmlCharKey)??jP}};return{name:zW,async sendRequest(c,d){const f=await d(c);return jW(e,n,f,o,r)}}}function WW(i){let e;const n=i.request,r=Vl(n),t=r==null?void 0:r.operationSpec;return t&&(r!=null&&r.operationResponseGetter?e=r==null?void 0:r.operationResponseGetter(t,i):e=t.responses[i.status]),e}function $W(i){const e=i.request,n=Vl(e),r=n==null?void 0:n.shouldDeserialize;let t;return r===void 0?t=!0:typeof r=="boolean"?t=r:t=r(i),t}async function jW(i,e,n,r,t){const o=await XW(i,e,n,r,t);if(!$W(o))return o;const a=Vl(o.request),l=a==null?void 0:a.operationSpec;if(!l||!l.responses)return o;const c=WW(o),{error:d,shouldReturnResponse:f}=QW(o,l,c,r);if(d)throw d;if(f)return o;if(c){if(c.bodyMapper){let p=o.parsedBody;l.isXML&&c.bodyMapper.type.name===Sl.Sequence&&(p=typeof p=="object"?p[c.bodyMapper.xmlElementName]:[]);try{o.parsedBody=l.serializer.deserialize(c.bodyMapper,p,"operationRes.parsedBody",r)}catch(m){throw new im(`Error ${m} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else l.httpMethod==="HEAD"&&(o.parsedBody=n.status>=200&&n.status<300);c.headersMapper&&(o.parsedHeaders=l.serializer.deserialize(c.headersMapper,o.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return o}function JW(i){const e=Object.keys(i.responses);return e.length===0||e.length===1&&e[0]==="default"}function QW(i,e,n,r){var p,m,y,E,T;const t=200<=i.status&&i.status<300;if(JW(e)?t:!!n)if(n){if(!n.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};const a=n??e.responses.default,l=(p=i.request.streamResponseStatusCodes)!=null&&p.has(i.status)?`Unexpected status code: ${i.status}`:i.bodyAsText,c=new im(l,{statusCode:i.status,request:i.request,response:i});if(!a&&!((y=(m=i.parsedBody)==null?void 0:m.error)!=null&&y.code&&((T=(E=i.parsedBody)==null?void 0:E.error)!=null&&T.message)))throw c;const d=a==null?void 0:a.bodyMapper,f=a==null?void 0:a.headersMapper;try{if(i.parsedBody){const C=i.parsedBody;let S;if(d){let I=C;if(e.isXML&&d.type.name===Sl.Sequence){I=[];const N=d.xmlElementName;typeof C=="object"&&N&&(I=C[N])}S=e.serializer.deserialize(d,I,"error.response.parsedBody",r)}const b=C.error||S||C;c.code=b.code,b.message&&(c.message=b.message),d&&(c.response.parsedBody=S)}i.headers&&f&&(c.response.parsedHeaders=e.serializer.deserialize(f,i.headers.toJSON(),"operationRes.parsedHeaders"))}catch(C){c.message=`Error "${C.message}" occurred in deserializing the responseBody - "${i.bodyAsText}" for the default response.`}return{error:c,shouldReturnResponse:!1}}async function XW(i,e,n,r,t){var o;if(!((o=n.request.streamResponseStatusCodes)!=null&&o.has(n.status))&&n.bodyAsText){const a=n.bodyAsText,l=n.headers.get("Content-Type")||"",c=l?l.split(";").map(d=>d.toLowerCase()):[];try{if(c.length===0||c.some(d=>i.indexOf(d)!==-1))return n.parsedBody=JSON.parse(a),n;if(c.some(d=>e.indexOf(d)!==-1)){if(!t)throw new Error("Parsing XML not supported.");const d=await t(a,r.xml);return n.parsedBody=d,n}}catch(d){const f=`Error "${d}" occurred while parsing the response body - ${n.bodyAsText}.`,p=d.code||im.PARSE_ERROR;throw new im(f,{code:p,statusCode:n.status,request:n.request,response:n})}}return n}function ZW(i){const e=new Set;for(const n in i.responses){const r=i.responses[n];r.bodyMapper&&r.bodyMapper.type.name===Sl.Stream&&e.add(Number(n))}return e}function gs(i){const{parameterPath:e,mapper:n}=i;let r;return typeof e=="string"?r=e:Array.isArray(e)?r=e.join("."):r=n.serializedName,r}const e$="serializationPolicy";function t$(i={}){const e=i.stringifyXML;return{name:e$,async sendRequest(n,r){const t=Vl(n),o=t==null?void 0:t.operationSpec,a=t==null?void 0:t.operationArguments;return o&&a&&(n$(n,a,o),r$(n,a,o,e)),r(n)}}}function n$(i,e,n){var t,o;if(n.headerParameters)for(const a of n.headerParameters){let l=Il(e,a);if(l!=null||a.mapper.required){l=n.serializer.serialize(a.mapper,l,gs(a));const c=a.mapper.headerCollectionPrefix;if(c)for(const d of Object.keys(l))i.headers.set(c+d,l[d]);else i.headers.set(a.mapper.serializedName||gs(a),l)}}const r=(o=(t=e.options)==null?void 0:t.requestOptions)==null?void 0:o.customHeaders;if(r)for(const a of Object.keys(r))i.headers.set(a,r[a])}function r$(i,e,n,r=function(){throw new Error("XML serialization unsupported!")}){var l,c;const t=(l=e.options)==null?void 0:l.serializerOptions,o={xml:{rootName:(t==null?void 0:t.xml.rootName)??"",includeRoot:(t==null?void 0:t.xml.includeRoot)??!1,xmlCharKey:(t==null?void 0:t.xml.xmlCharKey)??jP}},a=o.xml.xmlCharKey;if(n.requestBody&&n.requestBody.mapper){i.body=Il(e,n.requestBody);const d=n.requestBody.mapper,{required:f,serializedName:p,xmlName:m,xmlElementName:y,xmlNamespace:E,xmlNamespacePrefix:T,nullable:C}=d,S=d.type.name;try{if(i.body!==void 0&&i.body!==null||C&&i.body===null||f){const b=gs(n.requestBody);i.body=n.serializer.serialize(d,i.body,b,o);const I=S===Sl.Stream;if(n.isXML){const N=T?`xmlns:${T}`:"xmlns",x=i$(E,N,S,i.body,o);S===Sl.Sequence?i.body=r(o$(x,y||m||p,N,E),{rootName:m||p,xmlCharKey:a}):I||(i.body=r(x,{rootName:m||p,xmlCharKey:a}))}else{if(S===Sl.String&&((c=n.contentType)!=null&&c.match("text/plain")||n.mediaType==="text"))return;I||(i.body=JSON.stringify(i.body))}}}catch(b){throw new Error(`Error "${b.message}" occurred in serializing the payload - ${JSON.stringify(p,void 0,"  ")}.`)}}else if(n.formDataParameters&&n.formDataParameters.length>0){i.formData={};for(const d of n.formDataParameters){const f=Il(e,d);if(f!=null){const p=d.mapper.serializedName||gs(d);i.formData[p]=n.serializer.serialize(d.mapper,f,gs(d),o)}}}}function i$(i,e,n,r,t){if(i&&!["Composite","Sequence","Dictionary"].includes(n)){const o={};return o[t.xml.xmlCharKey]=r,o[$P]={[e]:i},o}return r}function o$(i,e,n,r){if(Array.isArray(i)||(i=[i]),!n||!r)return{[e]:i};const t={[e]:i};return t[$P]={[n]:r},t}function s$(i={}){const e=xW(i??{});return i.credentialOptions&&e.addPolicy(KP({credential:i.credentialOptions.credential,scopes:i.credentialOptions.credentialScopes})),e.addPolicy(t$(i.serializationOptions),{phase:"Serialize"}),e.addPolicy(KW(i.deserializationOptions),{phase:"Deserialize"}),e}let K0;function a$(){return K0||(K0=OW()),K0}const l$={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function u$(i,e,n,r){const t=c$(e,n,r);let o=!1,a=yN(i,t);if(e.path){let d=yN(e.path,t);e.path==="/{nextLink}"&&d.startsWith("/")&&(d=d.substring(1)),d$(d)?(a=d,o=!0):a=f$(a,d)}const{queryParams:l,sequenceParams:c}=h$(e,n,r);return a=m$(a,l,c,o),a}function yN(i,e){let n=i;for(const[r,t]of e)n=n.split(r).join(t);return n}function c$(i,e,n){var t;const r=new Map;if((t=i.urlParameters)!=null&&t.length)for(const o of i.urlParameters){let a=Il(e,o,n);const l=gs(o);a=i.serializer.serialize(o.mapper,a,l),o.skipEncoding||(a=encodeURIComponent(a)),r.set(`{${o.mapper.serializedName||l}}`,a)}return r}function d$(i){return i.includes("://")}function f$(i,e){if(!e)return i;const n=new URL(i);let r=n.pathname;r.endsWith("/")||(r=`${r}/`),e.startsWith("/")&&(e=e.substring(1));const t=e.indexOf("?");if(t!==-1){const o=e.substring(0,t),a=e.substring(t+1);r=r+o,a&&(n.search=n.search?`${n.search}&${a}`:a)}else r=r+e;return n.pathname=r,n.toString()}function h$(i,e,n){var o;const r=new Map,t=new Set;if((o=i.queryParameters)!=null&&o.length)for(const a of i.queryParameters){a.mapper.type.name==="Sequence"&&a.mapper.serializedName&&t.add(a.mapper.serializedName);let l=Il(e,a,n);if(l!=null||a.mapper.required){l=i.serializer.serialize(a.mapper,l,gs(a));const c=a.collectionFormat?l$[a.collectionFormat]:"";if(Array.isArray(l)&&(l=l.map(d=>d??"")),a.collectionFormat==="Multi"&&l.length===0)continue;Array.isArray(l)&&(a.collectionFormat==="SSV"||a.collectionFormat==="TSV")&&(l=l.join(c)),a.skipEncoding||(Array.isArray(l)?l=l.map(d=>encodeURIComponent(d)):l=encodeURIComponent(l)),Array.isArray(l)&&(a.collectionFormat==="CSV"||a.collectionFormat==="Pipes")&&(l=l.join(c)),r.set(a.mapper.serializedName||gs(a),l)}}return{queryParams:r,sequenceParams:t}}function p$(i){const e=new Map;if(!i||i[0]!=="?")return e;i=i.slice(1);const n=i.split("&");for(const r of n){const[t,o]=r.split("=",2),a=e.get(t);a?Array.isArray(a)?a.push(o):e.set(t,[a,o]):e.set(t,o)}return e}function m$(i,e,n,r=!1){if(e.size===0)return i;const t=new URL(i),o=p$(t.search);for(const[l,c]of e){const d=o.get(l);if(Array.isArray(d))if(Array.isArray(c)){d.push(...c);const f=new Set(d);o.set(l,Array.from(f))}else d.push(c);else d?(Array.isArray(c)?c.unshift(d):n.has(l)&&o.set(l,[d,c]),r||o.set(l,c)):o.set(l,c)}const a=[];for(const[l,c]of o)if(typeof c=="string")a.push(`${l}=${c}`);else if(Array.isArray(c))for(const d of c)a.push(`${l}=${d}`);else a.push(`${l}=${c}`);return t.search=a.length?`?${a.join("&")}`:"",t.toString()}const g$=uE("core-client");class y${constructor(e={}){Qe(this,"_endpoint");Qe(this,"_requestContentType");Qe(this,"_allowInsecureConnection");Qe(this,"_httpClient");Qe(this,"pipeline");var n;if(this._requestContentType=e.requestContentType,this._endpoint=e.endpoint??e.baseUri,e.baseUri&&g$.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||a$(),this.pipeline=e.pipeline||_$(e),(n=e.additionalPolicies)!=null&&n.length)for(const{policy:r,position:t}of e.additionalPolicies){const o=t==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(r,{afterPhase:o})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,n){const r=n.baseUrl||this._endpoint;if(!r)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");const t=u$(r,n,e,this),o=Qs({url:t});o.method=n.httpMethod;const a=Vl(o);a.operationSpec=n,a.operationArguments=e;const l=n.contentType||this._requestContentType;l&&n.requestBody&&o.headers.set("Content-Type",l);const c=e.options;if(c){const d=c.requestOptions;d&&(d.timeout&&(o.timeout=d.timeout),d.onUploadProgress&&(o.onUploadProgress=d.onUploadProgress),d.onDownloadProgress&&(o.onDownloadProgress=d.onDownloadProgress),d.shouldDeserialize!==void 0&&(a.shouldDeserialize=d.shouldDeserialize),d.allowInsecureConnection&&(o.allowInsecureConnection=!0)),c.abortSignal&&(o.abortSignal=c.abortSignal),c.tracingOptions&&(o.tracingOptions=c.tracingOptions)}this._allowInsecureConnection&&(o.allowInsecureConnection=!0),o.streamResponseStatusCodes===void 0&&(o.streamResponseStatusCodes=ZW(n));try{const d=await this.sendRequest(o),f=pN(d,n.responses[d.status]);return c!=null&&c.onResponse&&c.onResponse(d,f),f}catch(d){if(typeof d=="object"&&(d!=null&&d.response)){const f=d.response,p=pN(f,n.responses[d.statusCode]||n.responses.default);d.details=p,c!=null&&c.onResponse&&c.onResponse(f,p,d)}throw d}}}function _$(i){const e=v$(i),n=i.credential&&e?{credentialScopes:e,credential:i.credential}:void 0;return s$({...i,credentialOptions:n})}function v$(i){if(i.credentialScopes)return i.credentialScopes;if(i.endpoint)return`${i.endpoint}/.default`;if(i.baseUri)return`${i.baseUri}/.default`;if(i.credential&&!i.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}function AT(i){return i==="adfs"?"oauth2/token":"oauth2/v2.0/token"}function E$(i){if(typeof i.expires_on=="number")return i.expires_on*1e3;if(typeof i.expires_on=="string"){const e=+i.expires_on;if(!isNaN(e))return e*1e3;const n=Date.parse(i.expires_on);if(!isNaN(n))return n}if(typeof i.expires_in=="number")return Date.now()+i.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${i.expires_in}", expires_on="${i.expires_on}"`)}function T$(i){if(i.refresh_on){if(typeof i.refresh_on=="number")return i.refresh_on*1e3;if(typeof i.refresh_on=="string"){const e=+i.refresh_on;if(!isNaN(e))return e*1e3;const n=Date.parse(i.refresh_on);if(!isNaN(n))return n}throw new Error(`Failed to parse refresh_on from body. refresh_on="${i.refresh_on}"`)}else return}var w$={};const Gu="noCorrelationId";function S$(i){let e=i==null?void 0:i.authorityHost;return wM&&(e=e??w$.AZURE_AUTHORITY_HOST),e??hM}class QP extends y${constructor(n){var a,l;const r=`azsdk-js-identity/${dM}`,t=(a=n==null?void 0:n.userAgentOptions)!=null&&a.userAgentPrefix?`${n.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,o=S$(n);if(!o.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3},...n,userAgentOptions:{userAgentPrefix:t},baseUri:o});Qe(this,"authorityHost");Qe(this,"allowLoggingAccountIdentifiers");Qe(this,"abortControllers");Qe(this,"allowInsecureConnection",!1);Qe(this,"tokenCredentialOptions");this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=(l=n==null?void 0:n.loggingOptions)==null?void 0:l.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...n},n!=null&&n.allowInsecureConnection&&(this.allowInsecureConnection=n.allowInsecureConnection)}async sendTokenRequest(n){Jr.info(`IdentityClient: sending token request to [${n.url}]`);const r=await this.sendRequest(n);if(r.bodyAsText&&(r.status===200||r.status===201)){const t=JSON.parse(r.bodyAsText);if(!t.access_token)return null;this.logIdentifiers(r);const o={accessToken:{token:t.access_token,expiresOnTimestamp:E$(t),refreshAfterTimestamp:T$(t),tokenType:"Bearer"},refreshToken:t.refresh_token};return Jr.info(`IdentityClient: [${n.url}] token acquired, expires on ${o.accessToken.expiresOnTimestamp}`),o}else{const t=new lM(r.status,r.bodyAsText);throw Jr.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${t.errorResponse.errorDescription}`),t}}async refreshAccessToken(n,r,t,o,a,l={}){if(o===void 0)return null;Jr.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${t} started`);const c={grant_type:"refresh_token",client_id:r,refresh_token:o,scope:t};a!==void 0&&(c.client_secret=a);const d=new URLSearchParams(c);return Cl.withSpan("IdentityClient.refreshAccessToken",l,async f=>{try{const p=AT(n),m=Qs({url:`${this.authorityHost}/${n}/${p}`,method:"POST",body:d.toString(),abortSignal:l.abortSignal,headers:gc({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:f.tracingOptions}),y=await this.sendTokenRequest(m);return Jr.info(`IdentityClient: refreshed token for client ID: ${r}`),y}catch(p){if(p.name===cE&&p.errorResponse.error==="interaction_required")return Jr.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Jr.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${p}`),p}})}generateAbortSignal(n){const r=new AbortController,t=this.abortControllers.get(n)||[];t.push(r),this.abortControllers.set(n,t);const o=r.signal.onabort;return r.signal.onabort=(...a)=>{this.abortControllers.set(n,void 0),o&&o.apply(r.signal,a)},r.signal}abortRequests(n){const r=n||Gu,t=[...this.abortControllers.get(r)||[],...this.abortControllers.get(Gu)||[]];if(t.length){for(const o of t)o.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(n){var t;const r=(t=n==null?void 0:n.body)==null?void 0:t.split("&").map(o=>o.split("=")).find(([o])=>o==="client-request-id");return r&&r.length&&r[1]||Gu}async sendGetRequestAsync(n,r){const t=Qs({url:n,method:"GET",body:r==null?void 0:r.body,allowInsecureConnection:this.allowInsecureConnection,headers:gc(r==null?void 0:r.headers),abortSignal:this.generateAbortSignal(Gu)}),o=await this.sendRequest(t);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}async sendPostRequestAsync(n,r){const t=Qs({url:n,method:"POST",body:r==null?void 0:r.body,headers:gc(r==null?void 0:r.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),o=await this.sendRequest(t);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(n){if(!this.allowLoggingAccountIdentifiers||!n.bodyAsText)return;const r="No User Principal Name available";try{const o=(n.parsedBody||JSON.parse(n.bodyAsText)).access_token;if(!o)return;const a=o.split(".")[1],{appid:l,upn:c,tid:d,oid:f}=JSON.parse(Buffer.from(a,"base64").toString("utf8"));Jr.info(`[Authenticated account] Client ID: ${l}. Tenant ID: ${d}. User Principal Name: ${c||r}. Object ID (user): ${f}`)}catch(t){Jr.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",t.message)}}}const _N=Ln("ClientSecretCredential");class C${constructor(e,n,r,t){Qe(this,"identityClient");Qe(this,"tenantId");Qe(this,"additionallyAllowedTenantIds");Qe(this,"clientId");Qe(this,"clientSecret");this.identityClient=new QP(t),this.tenantId=e,this.additionallyAllowedTenantIds=Vm(t==null?void 0:t.additionallyAllowedTenants),this.clientId=n,this.clientSecret=r}async getToken(e,n={}){return Cl.withSpan(`${this.constructor.name}.getToken`,n,async r=>{const t=qm(this.tenantId,r,this.additionallyAllowedTenantIds),o=new URLSearchParams({response_type:"token",grant_type:"client_credentials",client_id:this.clientId,client_secret:this.clientSecret,scope:typeof e=="string"?e:e.join(" ")});try{const a=AT(t),l=Qs({url:`${this.identityClient.authorityHost}/${t}/${a}`,method:"POST",body:o.toString(),headers:gc({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),abortSignal:n&&n.abortSignal,tracingOptions:r==null?void 0:r.tracingOptions}),c=await this.identityClient.sendTokenRequest(l);return _N.getToken.info(vm(e)),c&&c.accessToken||null}catch(a){throw _N.getToken.info(Nt(e,a)),a}})}}const Pf=new Error("EnvironmentCredential is not supported in the browser."),vN=Ln("EnvironmentCredential");class A${constructor(){throw vN.info(Nt("",Pf)),Pf}getToken(){throw vN.getToken.info(Nt("",Pf)),Pf}}const Lf=new Error("ClientCertificateCredential is not supported in the browser."),EN=Ln("ClientCertificateCredential");class b${constructor(){throw EN.info(Nt("",Lf)),Lf}getToken(){throw EN.getToken.info(Nt("",Lf)),Lf}}const Uf=new Error("ClientAssertionCredential is not supported in the browser."),TN=Ln("ClientAssertionCredential");class I${constructor(){throw TN.info(Nt("",Uf)),Uf}getToken(){throw TN.getToken.info(Nt("",Uf)),Uf}}const Ff=new Error("AzureCliCredential is not supported in the browser."),wN=Ln("AzureCliCredential");class N${constructor(){throw wN.info(Nt("",Ff)),Ff}getToken(){throw wN.getToken.info(Nt("",Ff)),Ff}}const Bf=new Error("AzureDeveloperCliCredential is not supported in the browser."),SN=Ln("AzureDeveloperCliCredential");class R${constructor(){throw SN.info(Nt("",Bf)),Bf}getToken(){throw SN.getToken.info(Nt("",Bf)),Bf}}function x$(i){return Array.isArray(i)?i:[i]}const XP=typeof self<"u"&&self.location!==void 0;function O$(i){var r;const e=i.tenantId||fM,n=MP(e,i.authorityHost);return{auth:{clientId:i.clientId,authority:n,knownAuthorities:Pz(e,n,i.disableInstanceDiscovery),redirectUri:i.redirectUri||(XP?self.location.origin:void 0)},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0},system:{loggerOptions:{loggerCallback:Lz(i.logger,"Browser"),logLevel:Uz(CV()),piiLoggingEnabled:(r=i.loggingOptions)==null?void 0:r.enableUnsafeSupportLogging}}}}const D$=XP?self.location.hash:void 0;function M$(i){var x;const e=i.loginStyle;if(!i.clientId)throw new Em("A client ID is required in browsers");const n=i.clientId,r=i.logger,t=BW(r,i.tenantId,i.clientId),o=Vm((x=i==null?void 0:i.tokenCredentialOptions)==null?void 0:x.additionallyAllowedTenants),a=i.authorityHost,l=O$(i),c=i.disableAutomaticAuthentication,d=i.loginHint;let f;i.authenticationRecord&&(f={...i.authenticationRecord,tenantId:t});let p;async function m(){return p||(p=await wT.createPublicClientApplication(l),f&&p.setActiveAccount(G0(f))),p}async function y(L){try{const F=await m();if(L&&L.account)return r.info("MSAL Browser V2 authentication successful."),F.setActiveAccount(L.account),z0(n,L.account)}catch(F){r.info(`Failed to acquire token through MSAL. ${F.message}`)}}function E(L,F,G){var Q;return F!=null&&F.account&&(f=z0(n,F.account)),kz(L,F,G),r.getToken.info(vm(L)),{token:F.accessToken,expiresOnTimestamp:F.expiresOn.getTime(),refreshAfterTimestamp:(Q=F.refreshOn)==null?void 0:Q.getTime(),tokenType:"Bearer"}}async function T(){const L=await m();return y(await L.handleRedirectPromise(D$)||void 0)}async function C(){const F=(await m()).getActiveAccount();if(F)return z0(n,F)}async function S(L=[]){const G={scopes:Array.isArray(L)?L:[L],loginHint:d},Q=await m();switch(e){case"redirect":{await p.loginRedirect(G);return}case"popup":return y(await Q.loginPopup(G))}}async function b(L,F){const G=await C();if(!G)throw new gl({scopes:L,getTokenOptions:F,message:"Silent authentication failed. We couldn't retrieve an active account from the cache."});const Q={authority:(F==null?void 0:F.authority)||l.auth.authority,correlationId:F==null?void 0:F.correlationId,claims:F==null?void 0:F.claims,account:G0(G),forceRefresh:!1,scopes:L};try{r.info("Attempting to acquire token silently");const Z=await(await m()).acquireTokenSilent(Q);return E(L,Z)}catch(j){throw Fz(L,j,i)}}async function I(L,F){const G=await C();if(!G)throw new gl({scopes:L,getTokenOptions:F,message:"Silent authentication failed. We couldn't retrieve an active account from the cache."});const Q={authority:(F==null?void 0:F.authority)||l.auth.authority,correlationId:F==null?void 0:F.correlationId,claims:F==null?void 0:F.claims,account:G0(G),loginHint:d,scopes:L},j=await m();switch(e){case"redirect":return await j.acquireTokenRedirect(Q),{token:"",expiresOnTimestamp:0,tokenType:"Bearer"};case"popup":return E(L,await p.acquireTokenPopup(Q))}}async function N(L,F={}){const G=qm(t,F,o)||t;F.authority||(F.authority=MP(G,a)),await T(),!await C()&&!c&&await S(L);try{return await b(L,F)}catch(Q){if(Q.name!=="AuthenticationRequiredError")throw Q;if(F!=null&&F.disableAutomaticAuthentication)throw new gl({scopes:L,getTokenOptions:F,message:"Automatic authentication has been disabled. You may call the authenticate() method."});return r.info(`Silent authentication failed, falling back to interactive method ${e}`),I(L,F)}}return{getActiveAccount:C,getToken:N}}const W0=Ln("InteractiveBrowserCredential");class k${constructor(e){Qe(this,"tenantId");Qe(this,"additionallyAllowedTenantIds");Qe(this,"msalClient");Qe(this,"disableAutomaticAuthentication");if(!(e!=null&&e.clientId)){const a=new Error("The parameter `clientId` cannot be left undefined for the `InteractiveBrowserCredential`");throw W0.info(Nt("",a)),a}this.tenantId=e==null?void 0:e.tenantId,this.additionallyAllowedTenantIds=Vm(e==null?void 0:e.additionallyAllowedTenants);const n=e,r=n.loginStyle||"popup",t=["redirect","popup"];if(t.indexOf(r)===-1){const a=new Error(`Invalid loginStyle: ${n.loginStyle}. Should be any of the following: ${t.join(", ")}.`);throw W0.info(Nt("",a)),a}const o={...e,tokenCredentialOptions:e,logger:W0,loginStyle:r,redirectUri:typeof e.redirectUri=="function"?e.redirectUri():e.redirectUri};this.msalClient=M$(o),this.disableAutomaticAuthentication=e==null?void 0:e.disableAutomaticAuthentication}async getToken(e,n={}){return Cl.withSpan(`${this.constructor.name}.getToken`,n,async r=>{const t=qm(this.tenantId,r,this.additionallyAllowedTenantIds);r.tenantId=t;const o=x$(e);return this.msalClient.getToken(o,{...r,disableAutomaticAuthentication:this.disableAutomaticAuthentication})})}async authenticate(e,n={}){return Cl.withSpan(`${this.constructor.name}.authenticate`,n,async r=>{const t=Array.isArray(e)?e:[e];return await this.msalClient.getToken(t,r),this.msalClient.getActiveAccount()})}}const Hf=new Error("ManagedIdentityCredential is not supported in the browser."),CN=Ln("ManagedIdentityCredential");class P${constructor(){throw CN.info(Nt("",Hf)),Hf}async getToken(){throw CN.getToken.info(Nt("",Hf)),Hf}}const qf=new Error("DeviceCodeCredential is not supported in the browser."),AN=Ln("DeviceCodeCredential");class L${constructor(){throw AN.info(Nt("",qf)),qf}getToken(){throw AN.getToken.info(Nt("",qf)),qf}}const Vf=new Error("AzurePipelinesCredential is not supported in the browser."),bN=Ln("AzurePipelinesCredential");class U${constructor(){throw bN.info(Nt("",Vf)),Vf}getToken(){throw bN.getToken.info(Nt("",Vf)),Vf}}const Yf=new Error("AuthorizationCodeCredential is not supported in the browser. InteractiveBrowserCredential is more appropriate for this use case."),IN=Ln("AuthorizationCodeCredential");class F${constructor(){throw IN.info(Nt("",Yf)),Yf}getToken(){throw IN.getToken.info(Nt("",Yf)),Yf}}const Gf=new Error("AzurePowerShellCredential is not supported in the browser."),NN=Ln("AzurePowerShellCredential");class B${constructor(){throw NN.info(Nt("",Gf)),Gf}getToken(){throw NN.getToken.info(Nt("",Gf)),Gf}}const RN=Ln("UsernamePasswordCredential");class H${constructor(e,n,r,t,o){Qe(this,"identityClient");Qe(this,"tenantId");Qe(this,"additionallyAllowedTenantIds");Qe(this,"clientId");Qe(this,"username");Qe(this,"password");WP(RN,e),this.identityClient=new QP(o),this.tenantId=e,this.additionallyAllowedTenantIds=Vm(o==null?void 0:o.additionallyAllowedTenants),this.clientId=n,this.username=r,this.password=t}async getToken(e,n={}){return Cl.withSpan("UsernamePasswordCredential.getToken",n,async r=>{const t=qm(this.tenantId,r,this.additionallyAllowedTenantIds);r.tenantId=t;const o=AT(this.tenantId),a=new URLSearchParams({response_type:"token",grant_type:"password",client_id:this.clientId,username:this.username,password:this.password,scope:typeof e=="string"?e:e.join(" ")}),l=Qs({url:`${this.identityClient.authorityHost}/${this.tenantId}/${o}`,method:"POST",body:a.toString(),headers:gc({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),abortSignal:n&&n.abortSignal,tracingOptions:r.tracingOptions}),c=await this.identityClient.sendTokenRequest(l);return RN.getToken.info(vm(e)),c&&c.accessToken||null})}}const zf=new Error("VisualStudioCodeCredential is not supported in the browser."),xN=Ln("VisualStudioCodeCredential");class q${constructor(){throw xN.info(Nt("",zf)),zf}getToken(){throw xN.getToken.info(Nt("",zf)),zf}}const ZP="OnBehalfOfCredential",Kf=new Error(`${ZP}: Not supported in the browser.`),ON=Ln(ZP);class V${constructor(){throw ON.info(Nt("",Kf)),Kf}getToken(){throw ON.getToken.info(Nt("",Kf)),Kf}}const Wf=new Error("WorkloadIdentityCredential is not supported in the browser."),DN=Ln("WorkloadIdentityCredential");class Y${constructor(){throw DN.info(Nt("",Wf)),Wf}getToken(){throw DN.getToken.info(Nt("",Wf)),Wf}}function G$(i,e,n){const{abortSignal:r,tracingOptions:t}=n||{},o=FP();o.addPolicy(KP({credential:i,scopes:e}));async function a(){var d;const c=(d=(await o.sendRequest({sendRequest:f=>Promise.resolve({request:f,status:200,headers:f.headers})},Qs({url:"https://example.com",abortSignal:r,tracingOptions:t}))).headers.get("authorization"))==null?void 0:d.split(" ")[1];if(!c)throw new Error("Failed to get access token");return c}return a}function z$(){return new gM}const K$=Object.freeze(Object.defineProperty({__proto__:null,AggregateAuthenticationError:cM,AggregateAuthenticationErrorName:uM,AuthenticationError:lM,AuthenticationErrorName:cE,AuthenticationRequiredError:gl,AuthorizationCodeCredential:F$,get AzureAuthorityHosts(){return Lp},AzureCliCredential:N$,AzureDeveloperCliCredential:R$,AzurePipelinesCredential:U$,AzurePowerShellCredential:B$,ChainedTokenCredential:mM,ClientAssertionCredential:I$,ClientCertificateCredential:b$,ClientSecretCredential:C$,CredentialUnavailableError:Em,CredentialUnavailableErrorName:aM,DefaultAzureCredential:gM,DeviceCodeCredential:L$,EnvironmentCredential:A$,InteractiveBrowserCredential:k$,ManagedIdentityCredential:P$,OnBehalfOfCredential:V$,UsernamePasswordCredential:H$,VisualStudioCodeCredential:q$,WorkloadIdentityCredential:Y$,deserializeAuthenticationRecord:Hz,getBearerTokenProvider:G$,getDefaultAzureCredential:z$,logger:Jr,serializeAuthenticationRecord:Bz,useIdentityPlugin:_V},Symbol.toStringTag,{value:"Module"})),W$=sm(K$);class $${constructor(e){Qe(this,"_key");if(!e)throw new Error("key must be a non-empty string");this._key=e}get key(){return this._key}update(e){this._key=e}}function j$(i){return pE(i,["key"])&&typeof i.key=="string"}class J${constructor(e,n){Qe(this,"_key");Qe(this,"_name");if(!e||!n)throw new TypeError("name and key must be non-empty strings");this._name=e,this._key=n}get key(){return this._key}get name(){return this._name}update(e,n){if(!e||!n)throw new TypeError("newName and newKey must be non-empty strings");this._name=e,this._key=n}}function Q$(i){return pE(i,["name","key"])&&typeof i.key=="string"&&typeof i.name=="string"}class X${constructor(e){Qe(this,"_signature");if(!e)throw new Error("shared access signature must be a non-empty string");this._signature=e}get signature(){return this._signature}update(e){if(!e)throw new Error("shared access signature must be a non-empty string");this._signature=e}}function Z$(i){return pE(i,["signature"])&&typeof i.signature=="string"}function ej(i){const e=i;return e&&typeof e.getToken=="function"&&(e.signRequest===void 0||e.getToken.length>0)}const tj=Object.freeze(Object.defineProperty({__proto__:null,AzureKeyCredential:$$,AzureNamedKeyCredential:J$,AzureSASCredential:X$,isKeyCredential:j$,isNamedKeyCredential:Q$,isSASCredential:Z$,isTokenCredential:ej},Symbol.toStringTag,{value:"Module"})),nj=sm(tj);var $f={exports:{}},MN;function rj(){return MN||(MN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Ri(),r=t(Kt);function t(a,l){if(typeof WeakMap=="function")var c=new WeakMap,d=new WeakMap;return(t=function(f,p){if(!p&&f&&f.__esModule)return f;var m,y,E={__proto__:null,default:f};if(f===null||typeof f!="object"&&typeof f!="function")return E;if(m=p?d:c){if(m.has(f))return m.get(f);m.set(f,E)}for(const T in f)T!=="default"&&{}.hasOwnProperty.call(f,T)&&((y=(m=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,T))&&(y.get||y.set)?m(E,T,y):E[T]=f[T]);return E})(a,l)}class o extends n.EventEmitter{constructor({data:l=!1,payload:c=!1,packet:d=!1,token:f=!1}={}){super(),this.options={data:l,payload:c,packet:d,token:f},this.indent="  "}packet(l,c){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(l),this.log(c.headerToString(this.indent)))}data(l){this.haveListeners()&&this.options.data&&this.log(l.dataToString(this.indent))}payload(l){this.haveListeners()&&this.options.payload&&this.log(l())}token(l){this.haveListeners()&&this.options.token&&this.log(r.inspect(l,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(l){this.emit("debug",l)}}e.default=o,i.exports=o})($f,$f.exports)),$f.exports}var zu={},Ku={},kN;function ij(){if(kN)return Ku;kN=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.sendInParallel=t,Ku.sendMessage=o;var i=r(Kt),e=r(Kt),n=r(Kt);function r(a){return a&&a.__esModule?a:{default:a}}async function t(a,l,c,d){return d.throwIfAborted(),await new Promise((f,p)=>{const m=[];let y=0;const E=b=>{y++,y===a.length&&(d.removeEventListener("abort",C),S(),p(b))},T=b=>{d.removeEventListener("abort",C),S(),f(b)},C=()=>{S(),p(d.reason)},S=()=>{for(const b of m)b.removeListener("error",E),b.removeListener("message",T),b.close()};d.addEventListener("abort",C,{once:!0});for(let b=0;b<a.length;b++){const I=a[b].family===6?"udp6":"udp4",N=i.default.createSocket(I);m.push(N),N.on("error",E),N.on("message",T),N.send(c,0,c.length,l,a[b].address)}})}async function o(a,l,c,d,f){d.throwIfAborted();let p;return e.default.isIP(a)?p=[{address:a,family:e.default.isIPv6(a)?6:4}]:p=await new Promise((m,y)=>{const E=()=>{y(d.reason)},T=n.default.domainToASCII(a);c(T===""?a:T,{all:!0},(C,S)=>{d.removeEventListener("abort",E),C?y(C):m(S)})}),await t(p,l,f,d)}return Ku}var PN;function oj(){if(PN)return zu;PN=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.instanceLookup=l,zu.parseBrowserResponse=c;var i=n(Kt),e=ij();function n(d){return d&&d.__esModule?d:{default:d}}const r=1434,t=2*1e3,o=3,a=3;async function l(d){const f=d.server;if(typeof f!="string")throw new TypeError('Invalid arguments: "server" must be a string');const p=d.instanceName;if(typeof p!="string")throw new TypeError('Invalid arguments: "instanceName" must be a string');const m=d.timeout===void 0?t:d.timeout;if(typeof m!="number")throw new TypeError('Invalid arguments: "timeout" must be a number');const y=d.retries===void 0?o:d.retries;if(typeof y!="number")throw new TypeError('Invalid arguments: "retries" must be a number');if(d.lookup!==void 0&&typeof d.lookup!="function")throw new TypeError('Invalid arguments: "lookup" must be a function');const E=d.lookup??i.default.lookup;if(d.port!==void 0&&typeof d.port!="number")throw new TypeError('Invalid arguments: "port" must be a number');const T=d.port??r,C=d.signal;C.throwIfAborted();let S;const b=Buffer.from([2]);for(let x=0;x<=y;x++){const L=AbortSignal.timeout(m);try{S=await(0,e.sendMessage)(d.server,T,E,AbortSignal.any([C,L]),b)}catch(F){if(L.aborted)continue;throw F}}if(!S)throw new Error("Failed to get response from SQL Server Browser on "+f);const I=S.toString("ascii",a),N=c(I,p);if(!N)throw new Error("Port for "+p+" not found in "+d.server);return N}function c(d,f){let p;const m=d.split(";;");for(let y=0,E=m.length;y<E;y++){const C=m[y].split(";");for(let S=0,b=C.length;S<b;S+=2){const I=C[S],N=C[S+1];if(I==="tcp"&&p)return parseInt(N,10);I==="InstanceName"&&(N.toUpperCase()===f.toUpperCase()?p=!0:p=!1)}}}return zu}var Wu={},LN;function sj(){if(LN)return Wu;LN=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.TransientErrorLookup=void 0;class i{isTransientError(n){return[4060,10928,10929,40197,40501,40613].indexOf(n)!==-1}}return Wu.TransientErrorLookup=i,Wu}var Or={},$0={},UN;function Uc(){return UN||(UN=1,(function(i){(function(){var e={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(l){return t(a(l),arguments)}function r(l,c){return n.apply(null,[l].concat(c||[]))}function t(l,c){var d=1,f=l.length,p,m="",y,E,T,C,S,b,I,N;for(y=0;y<f;y++)if(typeof l[y]=="string")m+=l[y];else if(typeof l[y]=="object"){if(T=l[y],T.keys)for(p=c[d],E=0;E<T.keys.length;E++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',T.keys[E],T.keys[E-1]));p=p[T.keys[E]]}else T.param_no?p=c[T.param_no]:p=c[d++];if(e.not_type.test(T.type)&&e.not_primitive.test(T.type)&&p instanceof Function&&(p=p()),e.numeric_arg.test(T.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(e.number.test(T.type)&&(I=p>=0),T.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,T.width?parseInt(T.width):0);break;case"e":p=T.precision?parseFloat(p).toExponential(T.precision):parseFloat(p).toExponential();break;case"f":p=T.precision?parseFloat(p).toFixed(T.precision):parseFloat(p);break;case"g":p=T.precision?String(Number(p.toPrecision(T.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=T.precision?p.substring(0,T.precision):p;break;case"t":p=String(!!p),p=T.precision?p.substring(0,T.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=T.precision?p.substring(0,T.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=T.precision?p.substring(0,T.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}e.json.test(T.type)?m+=p:(e.number.test(T.type)&&(!I||T.sign)?(N=I?"+":"-",p=p.toString().replace(e.sign,"")):N="",S=T.pad_char?T.pad_char==="0"?"0":T.pad_char.charAt(1):" ",b=T.width-(N+p).length,C=T.width&&b>0?S.repeat(b):"",m+=T.align?N+p+C:S==="0"?N+C+p:C+N+p)}return m}var o=Object.create(null);function a(l){if(o[l])return o[l];for(var c=l,d,f=[],p=0;c;){if((d=e.text.exec(c))!==null)f.push(d[0]);else if((d=e.modulo.exec(c))!==null)f.push("%");else if((d=e.placeholder.exec(c))!==null){if(d[2]){p|=1;var m=[],y=d[2],E=[];if((E=e.key.exec(y))!==null)for(m.push(E[1]);(y=y.substring(E[0].length))!=="";)if((E=e.key_access.exec(y))!==null)m.push(E[1]);else if((E=e.index_access.exec(y))!==null)m.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");d[2]=m}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");c=c.substring(d[0].length)}return o[l]=f}i.sprintf=n,i.vsprintf=r,typeof window<"u"&&(window.sprintf=n,window.vsprintf=r)})()})($0)),$0}var FN;function Ym(){if(FN)return Or;FN=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.TYPE=Or.Packet=Or.OFFSET=Or.HEADER_LENGTH=void 0,Or.isPacketComplete=p,Or.packetLength=m;var i=Uc();const e=Or.HEADER_LENGTH=8,n=Or.TYPE={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8},r={};for(const y in n)r[n[y]]=y;const t={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},o=Or.OFFSET={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7},a=0,l=1,c=0,d=`
`;class f{constructor(E){if(E instanceof Buffer)this.buffer=E;else{const T=E;this.buffer=Buffer.alloc(e,0),this.buffer.writeUInt8(T,o.Type),this.buffer.writeUInt8(t.NORMAL,o.Status),this.buffer.writeUInt16BE(a,o.SPID),this.buffer.writeUInt8(l,o.PacketID),this.buffer.writeUInt8(c,o.Window),this.setLength()}}setLength(){this.buffer.writeUInt16BE(this.buffer.length,o.Length)}length(){return this.buffer.readUInt16BE(o.Length)}resetConnection(E){let T=this.buffer.readUInt8(o.Status);E?T|=t.RESETCONNECTION:T&=255-t.RESETCONNECTION,this.buffer.writeUInt8(T,o.Status)}last(E){let T=this.buffer.readUInt8(o.Status);return arguments.length>0&&(E?T|=t.EOM:T&=255-t.EOM,this.buffer.writeUInt8(T,o.Status)),this.isLast()}ignore(E){let T=this.buffer.readUInt8(o.Status);E?T|=t.IGNORE:T&=255-t.IGNORE,this.buffer.writeUInt8(T,o.Status)}isLast(){return!!(this.buffer.readUInt8(o.Status)&t.EOM)}packetId(E){return E&&this.buffer.writeUInt8(E%256,o.PacketID),this.buffer.readUInt8(o.PacketID)}addData(E){return this.buffer=Buffer.concat([this.buffer,E]),this.setLength(),this}data(){return this.buffer.slice(e)}type(){return this.buffer.readUInt8(o.Type)}statusAsString(){const E=this.buffer.readUInt8(o.Status),T=[];for(const C in t){const S=t[C];E&S?T.push(C):T.push(void 0)}return T.join(" ").trim()}headerToString(E=""){const T=(0,i.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(o.Type),r[this.buffer.readUInt8(o.Type)],this.buffer.readUInt8(o.Status),this.statusAsString(),this.buffer.readUInt16BE(o.Length),this.buffer.readUInt16BE(o.SPID),this.buffer.readUInt8(o.PacketID),this.buffer.readUInt8(o.Window));return E+T}dataToString(E=""){const b=this.data();let I="",N="";for(let x=0;x<b.length;x++)x%32===0&&(I+=E,I+=(0,i.sprintf)("%04X  ",x)),b[x]<32||b[x]>126?(N+=".",(x+1)%8===0&&(x+1)%32!==0&&(N+=" ")):N+=String.fromCharCode(b[x]),b[x]!=null&&(I+=(0,i.sprintf)("%02X",b[x])),(x+1)%4===0&&(x+1)%32!==0&&(I+=" "),(x+1)%32===0&&(I+="  "+N,N="",x<b.length-1&&(I+=d));return N.length&&(I+="  "+N),I}toString(E=""){return this.headerToString(E)+`
`+this.dataToString(E+E)}payloadString(){return""}}Or.Packet=f;function p(y){return y.length<e?!1:y.length>=y.readUInt16BE(o.Length)}function m(y){return y.readUInt16BE(o.Length)}return Or}var jf={exports:{}},BN;function aj(){return BN||(BN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Uc(),r=o(Ur()),t=Kt;function o(E){return E&&E.__esModule?E:{default:E}}const a=20,l=36,c={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,TRACEID:5,FEDAUTHREQUIRED:6,TERMINATOR:255},d={OFF:0,ON:1,NOT_SUP:2,REQ:3},f={};for(const E in d){const T=d[E];f[T]=E}const p={OFF:0,ON:1},m={};for(const E in p){const T=p[E];m[T]=E}class y{constructor(T={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){T instanceof Buffer?(this.data=T,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=T,this.createOptions()),this.extractOptions()}createOptions(){const T=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createTraceIdOption(),this.createFedAuthOption()];let C=0;for(let I=0,N=T.length;I<N;I++){const x=T[I];C+=5+x.data.length}C++,this.data=Buffer.alloc(C,0);let S=0,b=5*T.length+1;for(let I=0,N=T.length;I<N;I++){const x=T[I];this.data.writeUInt8(x.token,S+0),this.data.writeUInt16BE(b,S+1),this.data.writeUInt16BE(x.data.length,S+3),S+=5,x.data.copy(this.data,b),b+=x.data.length}this.data.writeUInt8(c.TERMINATOR,S)}createVersionOption(){const T=new r.default(a);return T.writeUInt8(this.options.version.major),T.writeUInt8(this.options.version.minor),T.writeUInt16BE(this.options.version.build),T.writeUInt16BE(this.options.version.subbuild),{token:c.VERSION,data:T.data}}createEncryptionOption(){const T=new r.default(a);return this.options.encrypt?T.writeUInt8(d.ON):T.writeUInt8(d.NOT_SUP),{token:c.ENCRYPTION,data:T.data}}createInstanceOption(){const T=new r.default(a);return T.writeUInt8(0),{token:c.INSTOPT,data:T.data}}createThreadIdOption(){const T=new r.default(a);return T.writeUInt32BE(0),{token:c.THREADID,data:T.data}}createMarsOption(){const T=new r.default(a);return T.writeUInt8(p.OFF),{token:c.MARS,data:T.data}}createTraceIdOption(){const T=new r.default(l);return T.writeBuffer((0,t.randomBytes)(l)),{token:c.TRACEID,data:T.data}}createFedAuthOption(){const T=new r.default(a);return T.writeUInt8(1),{token:c.FEDAUTHREQUIRED,data:T.data}}extractOptions(){let T=0;for(;this.data[T]!==c.TERMINATOR;){let C=this.data.readUInt16BE(T+1);const S=this.data.readUInt16BE(T+3);switch(this.data[T]){case c.VERSION:this.extractVersion(C);break;case c.ENCRYPTION:this.extractEncryption(C);break;case c.INSTOPT:this.extractInstance(C);break;case c.THREADID:S>0&&this.extractThreadId(C);break;case c.MARS:this.extractMars(C);break;case c.TRACEID:this.extractTraceId(C);break;case c.FEDAUTHREQUIRED:this.extractFedAuth(C);break}T+=5,C+=S}}extractVersion(T){this.version={major:this.data.readUInt8(T+0),minor:this.data.readUInt8(T+1),build:this.data.readUInt16BE(T+2),subbuild:this.data.readUInt16BE(T+4)}}extractEncryption(T){this.encryption=this.data.readUInt8(T),this.encryptionString=f[this.encryption]}extractInstance(T){this.instance=this.data.readUInt8(T)}extractThreadId(T){this.threadId=this.data.readUInt32BE(T)}extractMars(T){this.mars=this.data.readUInt8(T),this.marsString=m[this.mars]}extractTraceId(T){this.traceId=this.data.subarray(T,T+l)}extractFedAuth(T){this.fedAuthRequired=this.data.readUInt8(T)}toString(T=""){return T+"PreLogin - "+(0,n.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s), traceId:%s",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"",this.traceId?this.traceId.toString("hex"):"")}}e.default=y,i.exports=y})(jf,jf.exports)),jf.exports}var Jf={exports:{}},zs={},HN;function Gm(){if(HN)return zs;HN=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.versionsByValue=zs.versions=void 0;const i=zs.versions={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060,"8_0":134217728},e=zs.versionsByValue={};for(const n in i)e[i[n]]=n;return zs}var qN;function lj(){return qN||(qN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Uc(),r=Gm();const t={ENDIAN_LITTLE:0,CHARSET_ASCII:0,FLOAT_IEEE_754:0,BCP_DUMPLOAD_OFF:16,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_ON:128},o={INIT_LANG_WARN:0,ODBC_OFF:0,USER_NORMAL:0,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},a={SQL_DFLT:0,OLEDB_OFF:0,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},l={CHANGE_PASSWORD_NO:0,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},c={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1},d=255;class f{constructor({tdsVersion:m,packetSize:y,clientProgVer:E,clientPid:T,connectionId:C,clientTimeZone:S,clientLcid:b}){this.tdsVersion=m,this.packetSize=y,this.clientProgVer=E,this.clientPid=T,this.connectionId=C,this.clientTimeZone=S,this.clientLcid=b,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){const m=Buffer.alloc(94),y=[m];let E=0,T=m.length;if(E=m.writeUInt32LE(0,E),E=m.writeUInt32LE(this.tdsVersion,E),E=m.writeUInt32LE(this.packetSize,E),E=m.writeUInt32LE(this.clientProgVer,E),E=m.writeUInt32LE(this.clientPid,E),E=m.writeUInt32LE(this.connectionId,E),E=m.writeUInt8(this.buildOptionFlags1(),E),E=m.writeUInt8(this.buildOptionFlags2(),E),E=m.writeUInt8(this.buildTypeFlags(),E),E=m.writeUInt8(this.buildOptionFlags3(),E),E=m.writeInt32LE(this.clientTimeZone,E),E=m.writeUInt32LE(this.clientLcid,E),E=m.writeUInt16LE(T,E),this.hostname){const S=Buffer.from(this.hostname,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(T,E);if(E=m.writeUInt16LE(T,E),this.userName){const S=Buffer.from(this.userName,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.password){const S=Buffer.from(this.password,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(this.scramblePassword(S))}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.appName){const S=Buffer.from(this.appName,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.serverName){const S=Buffer.from(this.serverName,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.tdsVersion>=r.versions["7_4"]){const S=this.buildFeatureExt();E=m.writeUInt16LE(4+S.length,E);const b=Buffer.alloc(4);b.writeUInt32LE(T+4,0),T+=4+S.length,y.push(b,S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.libraryName){const S=Buffer.from(this.libraryName,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.language){const S=Buffer.from(this.language,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.database){const S=Buffer.from(this.database,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(this.clientId&&this.clientId.copy(m,E,0,6),E+=6,E=m.writeUInt16LE(T,E),this.sspi?(this.sspi.length>65535?E=m.writeUInt16LE(65535,E):E=m.writeUInt16LE(this.sspi.length,E),y.push(this.sspi)):E=m.writeUInt16LE(0,E),E=m.writeUInt16LE(T,E),this.attachDbFile){const S=Buffer.from(this.attachDbFile,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);if(E=m.writeUInt16LE(T,E),this.changePassword){const S=Buffer.from(this.changePassword,"ucs2");E=m.writeUInt16LE(S.length/2,E),T+=S.length,y.push(S)}else E=m.writeUInt16LE(0,E);this.sspi&&this.sspi.length>65535?m.writeUInt32LE(this.sspi.length,E):m.writeUInt32LE(0,E);const C=Buffer.concat(y);return C.writeUInt32LE(C.length,0),C}buildOptionFlags1(){let m=t.ENDIAN_LITTLE|t.CHARSET_ASCII|t.FLOAT_IEEE_754|t.BCP_DUMPLOAD_OFF|t.USE_DB_OFF|t.SET_LANG_WARN_ON;return this.initDbFatal?m|=t.INIT_DB_FATAL:m|=t.INIT_DB_WARN,m}buildFeatureExt(){const m=[],y=this.fedAuth;if(y)switch(y.type){case"ADAL":const S=Buffer.alloc(7);S.writeUInt8(c.FEATURE_ID,0),S.writeUInt32LE(2,1),S.writeUInt8(c.LIBRARY_ADAL<<1|(y.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),5),S.writeUInt8(y.workflow==="integrated"?2:c.ADAL_WORKFLOW_USER_PASS,6),m.push(S);break;case"SECURITYTOKEN":const b=Buffer.from(y.fedAuthToken,"ucs2"),I=Buffer.alloc(10);let N=0;N=I.writeUInt8(c.FEATURE_ID,N),N=I.writeUInt32LE(b.length+4+1,N),N=I.writeUInt8(c.LIBRARY_SECURITYTOKEN<<1|(y.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),N),I.writeInt32LE(b.length,N),m.push(I),m.push(b);break}const E=10,T=1,C=Buffer.alloc(6);return C.writeUInt8(E,0),C.writeUInt32LE(1,1),C.writeUInt8(T,5),m.push(C),m.push(Buffer.from([d])),Buffer.concat(m)}buildOptionFlags2(){let m=o.INIT_LANG_WARN|o.ODBC_OFF|o.USER_NORMAL;return this.sspi?m|=o.INTEGRATED_SECURITY_ON:m|=o.INTEGRATED_SECURITY_OFF,m}buildTypeFlags(){let m=a.SQL_DFLT|a.OLEDB_OFF;return this.readOnlyIntent?m|=a.READ_ONLY_INTENT:m|=a.READ_WRITE_INTENT,m}buildOptionFlags3(){return l.CHANGE_PASSWORD_NO|l.UNKNOWN_COLLATION_HANDLING|l.EXTENSION_USED}scramblePassword(m){for(let y=0,E=m.length;y<E;y++){let T=m[y];const C=T&15,S=T>>4;T=C<<4|S,T=T^165,m[y]=T}return m}toString(m=""){return m+"Login7 - "+(0,n.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+`
`+m+"         "+(0,n.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+`
`+m+"         "+(0,n.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+`
`+m+"         "+(0,n.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}}e.default=f,i.exports=f})(Jf,Jf.exports)),Jf.exports}var Qf={exports:{}},j0={exports:{}},J0={},$u={},VN;function uj(){if(VN)return $u;VN=1,$u.byteLength=l,$u.toByteArray=d,$u.fromByteArray=m;for(var i=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,o=r.length;t<o;++t)i[t]=r[t],e[r.charCodeAt(t)]=t;e[45]=62,e[95]=63;function a(y){var E=y.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=y.indexOf("=");T===-1&&(T=E);var C=T===E?0:4-T%4;return[T,C]}function l(y){var E=a(y),T=E[0],C=E[1];return(T+C)*3/4-C}function c(y,E,T){return(E+T)*3/4-T}function d(y){var E,T=a(y),C=T[0],S=T[1],b=new n(c(y,C,S)),I=0,N=S>0?C-4:C,x;for(x=0;x<N;x+=4)E=e[y.charCodeAt(x)]<<18|e[y.charCodeAt(x+1)]<<12|e[y.charCodeAt(x+2)]<<6|e[y.charCodeAt(x+3)],b[I++]=E>>16&255,b[I++]=E>>8&255,b[I++]=E&255;return S===2&&(E=e[y.charCodeAt(x)]<<2|e[y.charCodeAt(x+1)]>>4,b[I++]=E&255),S===1&&(E=e[y.charCodeAt(x)]<<10|e[y.charCodeAt(x+1)]<<4|e[y.charCodeAt(x+2)]>>2,b[I++]=E>>8&255,b[I++]=E&255),b}function f(y){return i[y>>18&63]+i[y>>12&63]+i[y>>6&63]+i[y&63]}function p(y,E,T){for(var C,S=[],b=E;b<T;b+=3)C=(y[b]<<16&16711680)+(y[b+1]<<8&65280)+(y[b+2]&255),S.push(f(C));return S.join("")}function m(y){for(var E,T=y.length,C=T%3,S=[],b=16383,I=0,N=T-C;I<N;I+=b)S.push(p(y,I,I+b>N?N:I+b));return C===1?(E=y[T-1],S.push(i[E>>2]+i[E<<4&63]+"==")):C===2&&(E=(y[T-2]<<8)+y[T-1],S.push(i[E>>10]+i[E>>4&63]+i[E<<2&63]+"=")),S.join("")}return $u}var Xf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var YN;function cj(){return YN||(YN=1,Xf.read=function(i,e,n,r,t){var o,a,l=t*8-r-1,c=(1<<l)-1,d=c>>1,f=-7,p=n?t-1:0,m=n?-1:1,y=i[e+p];for(p+=m,o=y&(1<<-f)-1,y>>=-f,f+=l;f>0;o=o*256+i[e+p],p+=m,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=a*256+i[e+p],p+=m,f-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-d}return(y?-1:1)*a*Math.pow(2,o-r)},Xf.write=function(i,e,n,r,t,o){var a,l,c,d=o*8-t-1,f=(1<<d)-1,p=f>>1,m=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:o-1,E=r?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+p>=1?e+=m/c:e+=m*Math.pow(2,1-p),e*c>=2&&(a++,c/=2),a+p>=f?(l=0,a=f):a+p>=1?(l=(e*c-1)*Math.pow(2,t),a=a+p):(l=e*Math.pow(2,p-1)*Math.pow(2,t),a=0));t>=8;i[n+y]=l&255,y+=E,l/=256,t-=8);for(a=a<<t|l,d+=t;d>0;i[n+y]=a&255,y+=E,a/=256,d-=8);i[n+y-E]|=T*128}),Xf}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var GN;function xi(){return GN||(GN=1,(function(i){const e=uj(),n=cj(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=l,i.SlowBuffer=b,i.INSPECT_MAX_BYTES=50;const t=2147483647;i.kMaxLength=t,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const q=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(q,R),q.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(q){if(q>t)throw new RangeError('The value "'+q+'" is invalid for option "size"');const R=new Uint8Array(q);return Object.setPrototypeOf(R,l.prototype),R}function l(q,R,M){if(typeof q=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(q)}return c(q,R,M)}l.poolSize=8192;function c(q,R,M){if(typeof q=="string")return m(q,R);if(ArrayBuffer.isView(q))return E(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(ne(q,ArrayBuffer)||q&&ne(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(q,SharedArrayBuffer)||q&&ne(q.buffer,SharedArrayBuffer)))return T(q,R,M);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=q.valueOf&&q.valueOf();if(z!=null&&z!==q)return l.from(z,R,M);const pe=C(q);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return l.from(q[Symbol.toPrimitive]("string"),R,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}l.from=function(q,R,M){return c(q,R,M)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function f(q,R,M){return d(q),q<=0?a(q):R!==void 0?typeof M=="string"?a(q).fill(R,M):a(q).fill(R):a(q)}l.alloc=function(q,R,M){return f(q,R,M)};function p(q){return d(q),a(q<0?0:S(q)|0)}l.allocUnsafe=function(q){return p(q)},l.allocUnsafeSlow=function(q){return p(q)};function m(q,R){if((typeof R!="string"||R==="")&&(R="utf8"),!l.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const M=I(q,R)|0;let z=a(M);const pe=z.write(q,R);return pe!==M&&(z=z.slice(0,pe)),z}function y(q){const R=q.length<0?0:S(q.length)|0,M=a(R);for(let z=0;z<R;z+=1)M[z]=q[z]&255;return M}function E(q){if(ne(q,Uint8Array)){const R=new Uint8Array(q);return T(R.buffer,R.byteOffset,R.byteLength)}return y(q)}function T(q,R,M){if(R<0||q.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<R+(M||0))throw new RangeError('"length" is outside of buffer bounds');let z;return R===void 0&&M===void 0?z=new Uint8Array(q):M===void 0?z=new Uint8Array(q,R):z=new Uint8Array(q,R,M),Object.setPrototypeOf(z,l.prototype),z}function C(q){if(l.isBuffer(q)){const R=S(q.length)|0,M=a(R);return M.length===0||q.copy(M,0,0,R),M}if(q.length!==void 0)return typeof q.length!="number"||de(q.length)?a(0):y(q);if(q.type==="Buffer"&&Array.isArray(q.data))return y(q.data)}function S(q){if(q>=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return q|0}function b(q){return+q!=q&&(q=0),l.alloc(+q)}l.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==l.prototype},l.compare=function(R,M){if(ne(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),ne(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(R)||!l.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===M)return 0;let z=R.length,pe=M.length;for(let we=0,ke=Math.min(z,pe);we<ke;++we)if(R[we]!==M[we]){z=R[we],pe=M[we];break}return z<pe?-1:pe<z?1:0},l.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(R,M){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return l.alloc(0);let z;if(M===void 0)for(M=0,z=0;z<R.length;++z)M+=R[z].length;const pe=l.allocUnsafe(M);let we=0;for(z=0;z<R.length;++z){let ke=R[z];if(ne(ke,Uint8Array))we+ke.length>pe.length?(l.isBuffer(ke)||(ke=l.from(ke)),ke.copy(pe,we)):Uint8Array.prototype.set.call(pe,ke,we);else if(l.isBuffer(ke))ke.copy(pe,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=ke.length}return pe};function I(q,R){if(l.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ne(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const M=q.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;let pe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Ke(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return D(q).length;default:if(pe)return z?-1:Ke(q).length;R=(""+R).toLowerCase(),pe=!0}}l.byteLength=I;function N(q,R,M){let z=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,R>>>=0,M<=R))return"";for(q||(q="utf8");;)switch(q){case"hex":return Pe(this,R,M);case"utf8":case"utf-8":return Re(this,R,M);case"ascii":return Ee(this,R,M);case"latin1":case"binary":return ye(this,R,M);case"base64":return J(this,R,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,M);default:if(z)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),z=!0}}l.prototype._isBuffer=!0;function x(q,R,M){const z=q[R];q[R]=q[M],q[M]=z}l.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<R;M+=2)x(this,M,M+1);return this},l.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<R;M+=4)x(this,M,M+3),x(this,M+1,M+2);return this},l.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<R;M+=8)x(this,M,M+7),x(this,M+1,M+6),x(this,M+2,M+5),x(this,M+3,M+4);return this},l.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?Re(this,0,R):N.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(R){if(!l.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:l.compare(this,R)===0},l.prototype.inspect=function(){let R="";const M=i.INSPECT_MAX_BYTES;return R=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(R+=" ... "),"<Buffer "+R+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(R,M,z,pe,we){if(ne(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),!l.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(M===void 0&&(M=0),z===void 0&&(z=R?R.length:0),pe===void 0&&(pe=0),we===void 0&&(we=this.length),M<0||z>R.length||pe<0||we>this.length)throw new RangeError("out of range index");if(pe>=we&&M>=z)return 0;if(pe>=we)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,pe>>>=0,we>>>=0,this===R)return 0;let ke=we-pe,ct=z-M;const Ut=Math.min(ke,ct),bt=this.slice(pe,we),fn=R.slice(M,z);for(let Vt=0;Vt<Ut;++Vt)if(bt[Vt]!==fn[Vt]){ke=bt[Vt],ct=fn[Vt];break}return ke<ct?-1:ct<ke?1:0};function L(q,R,M,z,pe){if(q.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,de(M)&&(M=pe?0:q.length-1),M<0&&(M=q.length+M),M>=q.length){if(pe)return-1;M=q.length-1}else if(M<0)if(pe)M=0;else return-1;if(typeof R=="string"&&(R=l.from(R,z)),l.isBuffer(R))return R.length===0?-1:F(q,R,M,z,pe);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(q,R,M):Uint8Array.prototype.lastIndexOf.call(q,R,M):F(q,[R],M,z,pe);throw new TypeError("val must be string, number or Buffer")}function F(q,R,M,z,pe){let we=1,ke=q.length,ct=R.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(q.length<2||R.length<2)return-1;we=2,ke/=2,ct/=2,M/=2}function Ut(fn,Vt){return we===1?fn[Vt]:fn.readUInt16BE(Vt*we)}let bt;if(pe){let fn=-1;for(bt=M;bt<ke;bt++)if(Ut(q,bt)===Ut(R,fn===-1?0:bt-fn)){if(fn===-1&&(fn=bt),bt-fn+1===ct)return fn*we}else fn!==-1&&(bt-=bt-fn),fn=-1}else for(M+ct>ke&&(M=ke-ct),bt=M;bt>=0;bt--){let fn=!0;for(let Vt=0;Vt<ct;Vt++)if(Ut(q,bt+Vt)!==Ut(R,Vt)){fn=!1;break}if(fn)return bt}return-1}l.prototype.includes=function(R,M,z){return this.indexOf(R,M,z)!==-1},l.prototype.indexOf=function(R,M,z){return L(this,R,M,z,!0)},l.prototype.lastIndexOf=function(R,M,z){return L(this,R,M,z,!1)};function G(q,R,M,z){M=Number(M)||0;const pe=q.length-M;z?(z=Number(z),z>pe&&(z=pe)):z=pe;const we=R.length;z>we/2&&(z=we/2);let ke;for(ke=0;ke<z;++ke){const ct=parseInt(R.substr(ke*2,2),16);if(de(ct))return ke;q[M+ke]=ct}return ke}function Q(q,R,M,z){return ae(Ke(R,q.length-M),q,M,z)}function j(q,R,M,z){return ae($e(R),q,M,z)}function Z(q,R,M,z){return ae(D(R),q,M,z)}function ie(q,R,M,z){return ae(se(R,q.length-M),q,M,z)}l.prototype.write=function(R,M,z,pe){if(M===void 0)pe="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")pe=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,pe===void 0&&(pe="utf8")):(pe=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-M;if((z===void 0||z>we)&&(z=we),R.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let ke=!1;for(;;)switch(pe){case"hex":return G(this,R,M,z);case"utf8":case"utf-8":return Q(this,R,M,z);case"ascii":case"latin1":case"binary":return j(this,R,M,z);case"base64":return Z(this,R,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,R,M,z);default:if(ke)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),ke=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(q,R,M){return R===0&&M===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(R,M))}function Re(q,R,M){M=Math.min(q.length,M);const z=[];let pe=R;for(;pe<M;){const we=q[pe];let ke=null,ct=we>239?4:we>223?3:we>191?2:1;if(pe+ct<=M){let Ut,bt,fn,Vt;switch(ct){case 1:we<128&&(ke=we);break;case 2:Ut=q[pe+1],(Ut&192)===128&&(Vt=(we&31)<<6|Ut&63,Vt>127&&(ke=Vt));break;case 3:Ut=q[pe+1],bt=q[pe+2],(Ut&192)===128&&(bt&192)===128&&(Vt=(we&15)<<12|(Ut&63)<<6|bt&63,Vt>2047&&(Vt<55296||Vt>57343)&&(ke=Vt));break;case 4:Ut=q[pe+1],bt=q[pe+2],fn=q[pe+3],(Ut&192)===128&&(bt&192)===128&&(fn&192)===128&&(Vt=(we&15)<<18|(Ut&63)<<12|(bt&63)<<6|fn&63,Vt>65535&&Vt<1114112&&(ke=Vt))}}ke===null?(ke=65533,ct=1):ke>65535&&(ke-=65536,z.push(ke>>>10&1023|55296),ke=56320|ke&1023),z.push(ke),pe+=ct}return ee(z)}const Fe=4096;function ee(q){const R=q.length;if(R<=Fe)return String.fromCharCode.apply(String,q);let M="",z=0;for(;z<R;)M+=String.fromCharCode.apply(String,q.slice(z,z+=Fe));return M}function Ee(q,R,M){let z="";M=Math.min(q.length,M);for(let pe=R;pe<M;++pe)z+=String.fromCharCode(q[pe]&127);return z}function ye(q,R,M){let z="";M=Math.min(q.length,M);for(let pe=R;pe<M;++pe)z+=String.fromCharCode(q[pe]);return z}function Pe(q,R,M){const z=q.length;(!R||R<0)&&(R=0),(!M||M<0||M>z)&&(M=z);let pe="";for(let we=R;we<M;++we)pe+=Ve[q[we]];return pe}function $(q,R,M){const z=q.slice(R,M);let pe="";for(let we=0;we<z.length-1;we+=2)pe+=String.fromCharCode(z[we]+z[we+1]*256);return pe}l.prototype.slice=function(R,M){const z=this.length;R=~~R,M=M===void 0?z:~~M,R<0?(R+=z,R<0&&(R=0)):R>z&&(R=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<R&&(M=R);const pe=this.subarray(R,M);return Object.setPrototypeOf(pe,l.prototype),pe};function V(q,R,M){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+R>M)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(R,M,z){R=R>>>0,M=M>>>0,z||V(R,M,this.length);let pe=this[R],we=1,ke=0;for(;++ke<M&&(we*=256);)pe+=this[R+ke]*we;return pe},l.prototype.readUintBE=l.prototype.readUIntBE=function(R,M,z){R=R>>>0,M=M>>>0,z||V(R,M,this.length);let pe=this[R+--M],we=1;for(;M>0&&(we*=256);)pe+=this[R+--M]*we;return pe},l.prototype.readUint8=l.prototype.readUInt8=function(R,M){return R=R>>>0,M||V(R,1,this.length),this[R]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(R,M){return R=R>>>0,M||V(R,2,this.length),this[R]|this[R+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(R,M){return R=R>>>0,M||V(R,2,this.length),this[R]<<8|this[R+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(R,M){return R=R>>>0,M||V(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(R,M){return R=R>>>0,M||V(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},l.prototype.readBigUInt64LE=Ue(function(R){R=R>>>0,re(R,"offset");const M=this[R],z=this[R+7];(M===void 0||z===void 0)&&fe(R,this.length-8);const pe=M+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,we=this[++R]+this[++R]*2**8+this[++R]*2**16+z*2**24;return BigInt(pe)+(BigInt(we)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ue(function(R){R=R>>>0,re(R,"offset");const M=this[R],z=this[R+7];(M===void 0||z===void 0)&&fe(R,this.length-8);const pe=M*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],we=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+z;return(BigInt(pe)<<BigInt(32))+BigInt(we)}),l.prototype.readIntLE=function(R,M,z){R=R>>>0,M=M>>>0,z||V(R,M,this.length);let pe=this[R],we=1,ke=0;for(;++ke<M&&(we*=256);)pe+=this[R+ke]*we;return we*=128,pe>=we&&(pe-=Math.pow(2,8*M)),pe},l.prototype.readIntBE=function(R,M,z){R=R>>>0,M=M>>>0,z||V(R,M,this.length);let pe=M,we=1,ke=this[R+--pe];for(;pe>0&&(we*=256);)ke+=this[R+--pe]*we;return we*=128,ke>=we&&(ke-=Math.pow(2,8*M)),ke},l.prototype.readInt8=function(R,M){return R=R>>>0,M||V(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},l.prototype.readInt16LE=function(R,M){R=R>>>0,M||V(R,2,this.length);const z=this[R]|this[R+1]<<8;return z&32768?z|4294901760:z},l.prototype.readInt16BE=function(R,M){R=R>>>0,M||V(R,2,this.length);const z=this[R+1]|this[R]<<8;return z&32768?z|4294901760:z},l.prototype.readInt32LE=function(R,M){return R=R>>>0,M||V(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},l.prototype.readInt32BE=function(R,M){return R=R>>>0,M||V(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},l.prototype.readBigInt64LE=Ue(function(R){R=R>>>0,re(R,"offset");const M=this[R],z=this[R+7];(M===void 0||z===void 0)&&fe(R,this.length-8);const pe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(z<<24);return(BigInt(pe)<<BigInt(32))+BigInt(M+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),l.prototype.readBigInt64BE=Ue(function(R){R=R>>>0,re(R,"offset");const M=this[R],z=this[R+7];(M===void 0||z===void 0)&&fe(R,this.length-8);const pe=(M<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(pe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+z)}),l.prototype.readFloatLE=function(R,M){return R=R>>>0,M||V(R,4,this.length),n.read(this,R,!0,23,4)},l.prototype.readFloatBE=function(R,M){return R=R>>>0,M||V(R,4,this.length),n.read(this,R,!1,23,4)},l.prototype.readDoubleLE=function(R,M){return R=R>>>0,M||V(R,8,this.length),n.read(this,R,!0,52,8)},l.prototype.readDoubleBE=function(R,M){return R=R>>>0,M||V(R,8,this.length),n.read(this,R,!1,52,8)};function H(q,R,M,z,pe,we){if(!l.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>pe||R<we)throw new RangeError('"value" argument is out of bounds');if(M+z>q.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(R,M,z,pe){if(R=+R,M=M>>>0,z=z>>>0,!pe){const ct=Math.pow(2,8*z)-1;H(this,R,M,z,ct,0)}let we=1,ke=0;for(this[M]=R&255;++ke<z&&(we*=256);)this[M+ke]=R/we&255;return M+z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(R,M,z,pe){if(R=+R,M=M>>>0,z=z>>>0,!pe){const ct=Math.pow(2,8*z)-1;H(this,R,M,z,ct,0)}let we=z-1,ke=1;for(this[M+we]=R&255;--we>=0&&(ke*=256);)this[M+we]=R/ke&255;return M+z},l.prototype.writeUint8=l.prototype.writeUInt8=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,1,255,0),this[M]=R&255,M+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,2,65535,0),this[M]=R&255,this[M+1]=R>>>8,M+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,2,65535,0),this[M]=R>>>8,this[M+1]=R&255,M+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,4,4294967295,0),this[M+3]=R>>>24,this[M+2]=R>>>16,this[M+1]=R>>>8,this[M]=R&255,M+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,4,4294967295,0),this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255,M+4};function P(q,R,M,z,pe){Ge(R,z,pe,q,M,7);let we=Number(R&BigInt(4294967295));q[M++]=we,we=we>>8,q[M++]=we,we=we>>8,q[M++]=we,we=we>>8,q[M++]=we;let ke=Number(R>>BigInt(32)&BigInt(4294967295));return q[M++]=ke,ke=ke>>8,q[M++]=ke,ke=ke>>8,q[M++]=ke,ke=ke>>8,q[M++]=ke,M}function ue(q,R,M,z,pe){Ge(R,z,pe,q,M,7);let we=Number(R&BigInt(4294967295));q[M+7]=we,we=we>>8,q[M+6]=we,we=we>>8,q[M+5]=we,we=we>>8,q[M+4]=we;let ke=Number(R>>BigInt(32)&BigInt(4294967295));return q[M+3]=ke,ke=ke>>8,q[M+2]=ke,ke=ke>>8,q[M+1]=ke,ke=ke>>8,q[M]=ke,M+8}l.prototype.writeBigUInt64LE=Ue(function(R,M=0){return P(this,R,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ue(function(R,M=0){return ue(this,R,M,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(R,M,z,pe){if(R=+R,M=M>>>0,!pe){const Ut=Math.pow(2,8*z-1);H(this,R,M,z,Ut-1,-Ut)}let we=0,ke=1,ct=0;for(this[M]=R&255;++we<z&&(ke*=256);)R<0&&ct===0&&this[M+we-1]!==0&&(ct=1),this[M+we]=(R/ke>>0)-ct&255;return M+z},l.prototype.writeIntBE=function(R,M,z,pe){if(R=+R,M=M>>>0,!pe){const Ut=Math.pow(2,8*z-1);H(this,R,M,z,Ut-1,-Ut)}let we=z-1,ke=1,ct=0;for(this[M+we]=R&255;--we>=0&&(ke*=256);)R<0&&ct===0&&this[M+we+1]!==0&&(ct=1),this[M+we]=(R/ke>>0)-ct&255;return M+z},l.prototype.writeInt8=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,1,127,-128),R<0&&(R=255+R+1),this[M]=R&255,M+1},l.prototype.writeInt16LE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,2,32767,-32768),this[M]=R&255,this[M+1]=R>>>8,M+2},l.prototype.writeInt16BE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,2,32767,-32768),this[M]=R>>>8,this[M+1]=R&255,M+2},l.prototype.writeInt32LE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,4,2147483647,-2147483648),this[M]=R&255,this[M+1]=R>>>8,this[M+2]=R>>>16,this[M+3]=R>>>24,M+4},l.prototype.writeInt32BE=function(R,M,z){return R=+R,M=M>>>0,z||H(this,R,M,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=R&255,M+4},l.prototype.writeBigInt64LE=Ue(function(R,M=0){return P(this,R,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ue(function(R,M=0){return ue(this,R,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(q,R,M,z,pe,we){if(M+z>q.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Oe(q,R,M,z,pe){return R=+R,M=M>>>0,pe||_e(q,R,M,4),n.write(q,R,M,z,23,4),M+4}l.prototype.writeFloatLE=function(R,M,z){return Oe(this,R,M,!0,z)},l.prototype.writeFloatBE=function(R,M,z){return Oe(this,R,M,!1,z)};function ce(q,R,M,z,pe){return R=+R,M=M>>>0,pe||_e(q,R,M,8),n.write(q,R,M,z,52,8),M+8}l.prototype.writeDoubleLE=function(R,M,z){return ce(this,R,M,!0,z)},l.prototype.writeDoubleBE=function(R,M,z){return ce(this,R,M,!1,z)},l.prototype.copy=function(R,M,z,pe){if(!l.isBuffer(R))throw new TypeError("argument should be a Buffer");if(z||(z=0),!pe&&pe!==0&&(pe=this.length),M>=R.length&&(M=R.length),M||(M=0),pe>0&&pe<z&&(pe=z),pe===z||R.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),R.length-M<pe-z&&(pe=R.length-M+z);const we=pe-z;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,pe):Uint8Array.prototype.set.call(R,this.subarray(z,pe),M),we},l.prototype.fill=function(R,M,z,pe){if(typeof R=="string"){if(typeof M=="string"?(pe=M,M=0,z=this.length):typeof z=="string"&&(pe=z,z=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!l.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(R.length===1){const ke=R.charCodeAt(0);(pe==="utf8"&&ke<128||pe==="latin1")&&(R=ke)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,R||(R=0);let we;if(typeof R=="number")for(we=M;we<z;++we)this[we]=R;else{const ke=l.isBuffer(R)?R:l.from(R,pe),ct=ke.length;if(ct===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(we=0;we<z-M;++we)this[we+M]=ke[we%ct]}return this};const le={};function he(q,R,M){le[q]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(q,R){return`The "${q}" argument must be of type number. Received type ${typeof R}`},TypeError),he("ERR_OUT_OF_RANGE",function(q,R,M){let z=`The value of "${q}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=xe(String(M)):typeof M=="bigint"&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=xe(pe)),pe+="n"),z+=` It must be ${R}. Received ${pe}`,z},RangeError);function xe(q){let R="",M=q.length;const z=q[0]==="-"?1:0;for(;M>=z+4;M-=3)R=`_${q.slice(M-3,M)}${R}`;return`${q.slice(0,M)}${R}`}function Ye(q,R,M){re(R,"offset"),(q[R]===void 0||q[R+M]===void 0)&&fe(R,q.length-(M+1))}function Ge(q,R,M,z,pe,we){if(q>M||q<R){const ke=typeof R=="bigint"?"n":"";let ct;throw R===0||R===BigInt(0)?ct=`>= 0${ke} and < 2${ke} ** ${(we+1)*8}${ke}`:ct=`>= -(2${ke} ** ${(we+1)*8-1}${ke}) and < 2 ** ${(we+1)*8-1}${ke}`,new le.ERR_OUT_OF_RANGE("value",ct,q)}Ye(z,pe,we)}function re(q,R){if(typeof q!="number")throw new le.ERR_INVALID_ARG_TYPE(R,"number",q)}function fe(q,R,M){throw Math.floor(q)!==q?(re(q,M),new le.ERR_OUT_OF_RANGE("offset","an integer",q)):R<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,q)}const Ae=/[^+/0-9A-Za-z-_]/g;function ze(q){if(q=q.split("=")[0],q=q.trim().replace(Ae,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function Ke(q,R){R=R||1/0;let M;const z=q.length;let pe=null;const we=[];for(let ke=0;ke<z;++ke){if(M=q.charCodeAt(ke),M>55295&&M<57344){if(!pe){if(M>56319){(R-=3)>-1&&we.push(239,191,189);continue}else if(ke+1===z){(R-=3)>-1&&we.push(239,191,189);continue}pe=M;continue}if(M<56320){(R-=3)>-1&&we.push(239,191,189),pe=M;continue}M=(pe-55296<<10|M-56320)+65536}else pe&&(R-=3)>-1&&we.push(239,191,189);if(pe=null,M<128){if((R-=1)<0)break;we.push(M)}else if(M<2048){if((R-=2)<0)break;we.push(M>>6|192,M&63|128)}else if(M<65536){if((R-=3)<0)break;we.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((R-=4)<0)break;we.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return we}function $e(q){const R=[];for(let M=0;M<q.length;++M)R.push(q.charCodeAt(M)&255);return R}function se(q,R){let M,z,pe;const we=[];for(let ke=0;ke<q.length&&!((R-=2)<0);++ke)M=q.charCodeAt(ke),z=M>>8,pe=M%256,we.push(pe),we.push(z);return we}function D(q){return e.toByteArray(ze(q))}function ae(q,R,M,z){let pe;for(pe=0;pe<z&&!(pe+M>=R.length||pe>=q.length);++pe)R[pe+M]=q[pe];return pe}function ne(q,R){return q instanceof R||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===R.name}function de(q){return q!==q}const Ve=(function(){const q="0123456789abcdef",R=new Array(256);for(let M=0;M<16;++M){const z=M*16;for(let pe=0;pe<16;++pe)R[z+pe]=q[M]+q[pe]}return R})();function Ue(q){return typeof BigInt>"u"?tt:q}function tt(){throw new Error("BigInt not supported")}})(J0)),J0}/**
 * [js-md4]{@link https://github.com/emn178/js-md4}
 *
 * @namespace md4
 * @version 0.3.2
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2015-2027
 * @license MIT
 */var zN;function dj(){return zN||(zN=1,(function(i){(function(){var e=typeof window=="object"?window:{},n=!e.JS_MD4_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n&&(e=NO);var r=!e.JS_MD4_NO_COMMON_JS&&!0&&i.exports,t=!e.JS_MD4_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",o="0123456789abcdef".split(""),a=[128,32768,8388608,-2147483648],l=[0,8,16,24],c=["hex","array","digest","buffer","arrayBuffer"],d=[],f;if(t){var p=new ArrayBuffer(68);f=new Uint8Array(p),d=new Uint32Array(p)}var m=function(S){return function(b){return new T(!0).update(b)[S]()}},y=function(){var S=m("hex");n&&(S=E(S)),S.create=function(){return new T},S.update=function(N){return S.create().update(N)};for(var b=0;b<c.length;++b){var I=c[b];S[I]=m(I)}return S},E=function(S){var b=Kt,I=xi().Buffer,N=function(x){if(typeof x=="string")return b.createHash("md4").update(x,"utf8").digest("hex");if(t&&x instanceof ArrayBuffer)x=new Uint8Array(x);else if(x.length===void 0)return S(x);return b.createHash("md4").update(new I(x)).digest("hex")};return N};function T(S){if(S)d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d,this.buffer8=f;else if(t){var b=new ArrayBuffer(68);this.buffer8=new Uint8Array(b),this.blocks=new Uint32Array(b)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}T.prototype.update=function(S){if(!this.finalized){var b=typeof S!="string";b&&t&&S instanceof ArrayBuffer&&(S=new Uint8Array(S));for(var I,N=0,x,L=S.length||0,F=this.blocks,G=this.buffer8;N<L;){if(this.hashed&&(this.hashed=!1,F[0]=F[16],F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0),b)if(t)for(x=this.start;N<L&&x<64;++N)G[x++]=S[N];else for(x=this.start;N<L&&x<64;++N)F[x>>2]|=S[N]<<l[x++&3];else if(t)for(x=this.start;N<L&&x<64;++N)I=S.charCodeAt(N),I<128?G[x++]=I:I<2048?(G[x++]=192|I>>6,G[x++]=128|I&63):I<55296||I>=57344?(G[x++]=224|I>>12,G[x++]=128|I>>6&63,G[x++]=128|I&63):(I=65536+((I&1023)<<10|S.charCodeAt(++N)&1023),G[x++]=240|I>>18,G[x++]=128|I>>12&63,G[x++]=128|I>>6&63,G[x++]=128|I&63);else for(x=this.start;N<L&&x<64;++N)I=S.charCodeAt(N),I<128?F[x>>2]|=I<<l[x++&3]:I<2048?(F[x>>2]|=(192|I>>6)<<l[x++&3],F[x>>2]|=(128|I&63)<<l[x++&3]):I<55296||I>=57344?(F[x>>2]|=(224|I>>12)<<l[x++&3],F[x>>2]|=(128|I>>6&63)<<l[x++&3],F[x>>2]|=(128|I&63)<<l[x++&3]):(I=65536+((I&1023)<<10|S.charCodeAt(++N)&1023),F[x>>2]|=(240|I>>18)<<l[x++&3],F[x>>2]|=(128|I>>12&63)<<l[x++&3],F[x>>2]|=(128|I>>6&63)<<l[x++&3],F[x>>2]|=(128|I&63)<<l[x++&3]);this.lastByteIndex=x,this.bytes+=x-this.start,x>=64?(this.start=x-64,this.hash(),this.hashed=!0):this.start=x}return this}},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var S=this.blocks,b=this.lastByteIndex;S[b>>2]|=a[b&3],b>=56&&(this.hashed||this.hash(),S[0]=S[16],S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0),S[14]=this.bytes<<3,this.hash()}},T.prototype.hash=function(){var S,b,I,N,x,L,F,G,Q=this.blocks;this.first?(S=Q[0]-1,S=S<<3|S>>>29,N=(S&4023233417|~S&2562383102)+Q[1]+271733878,N=N<<7|N>>>25,I=(N&S|~N&4023233417)+Q[2]-1732584194,I=I<<11|I>>>21,b=(I&N|~I&S)+Q[3]-271733879,b=b<<19|b>>>13):(S=this.h0,b=this.h1,I=this.h2,N=this.h3,S+=(b&I|~b&N)+Q[0],S=S<<3|S>>>29,N+=(S&b|~S&I)+Q[1],N=N<<7|N>>>25,I+=(N&S|~N&b)+Q[2],I=I<<11|I>>>21,b+=(I&N|~I&S)+Q[3],b=b<<19|b>>>13),S+=(b&I|~b&N)+Q[4],S=S<<3|S>>>29,N+=(S&b|~S&I)+Q[5],N=N<<7|N>>>25,I+=(N&S|~N&b)+Q[6],I=I<<11|I>>>21,b+=(I&N|~I&S)+Q[7],b=b<<19|b>>>13,S+=(b&I|~b&N)+Q[8],S=S<<3|S>>>29,N+=(S&b|~S&I)+Q[9],N=N<<7|N>>>25,I+=(N&S|~N&b)+Q[10],I=I<<11|I>>>21,b+=(I&N|~I&S)+Q[11],b=b<<19|b>>>13,S+=(b&I|~b&N)+Q[12],S=S<<3|S>>>29,N+=(S&b|~S&I)+Q[13],N=N<<7|N>>>25,I+=(N&S|~N&b)+Q[14],I=I<<11|I>>>21,b+=(I&N|~I&S)+Q[15],b=b<<19|b>>>13,L=b&I,S+=(L|b&N|I&N)+Q[0]+1518500249,S=S<<3|S>>>29,x=S&b,N+=(x|S&I|L)+Q[4]+1518500249,N=N<<5|N>>>27,G=N&S,I+=(G|N&b|x)+Q[8]+1518500249,I=I<<9|I>>>23,F=I&N,b+=(F|I&S|G)+Q[12]+1518500249,b=b<<13|b>>>19,L=b&I,S+=(L|b&N|F)+Q[1]+1518500249,S=S<<3|S>>>29,x=S&b,N+=(x|S&I|L)+Q[5]+1518500249,N=N<<5|N>>>27,G=N&S,I+=(G|N&b|x)+Q[9]+1518500249,I=I<<9|I>>>23,F=I&N,b+=(F|I&S|G)+Q[13]+1518500249,b=b<<13|b>>>19,L=b&I,S+=(L|b&N|F)+Q[2]+1518500249,S=S<<3|S>>>29,x=S&b,N+=(x|S&I|L)+Q[6]+1518500249,N=N<<5|N>>>27,G=N&S,I+=(G|N&b|x)+Q[10]+1518500249,I=I<<9|I>>>23,F=I&N,b+=(F|I&S|G)+Q[14]+1518500249,b=b<<13|b>>>19,L=b&I,S+=(L|b&N|F)+Q[3]+1518500249,S=S<<3|S>>>29,x=S&b,N+=(x|S&I|L)+Q[7]+1518500249,N=N<<5|N>>>27,G=N&S,I+=(G|N&b|x)+Q[11]+1518500249,I=I<<9|I>>>23,b+=(I&N|I&S|G)+Q[15]+1518500249,b=b<<13|b>>>19,L=b^I,S+=(L^N)+Q[0]+1859775393,S=S<<3|S>>>29,N+=(L^S)+Q[8]+1859775393,N=N<<9|N>>>23,G=N^S,I+=(G^b)+Q[4]+1859775393,I=I<<11|I>>>21,b+=(G^I)+Q[12]+1859775393,b=b<<15|b>>>17,L=b^I,S+=(L^N)+Q[2]+1859775393,S=S<<3|S>>>29,N+=(L^S)+Q[10]+1859775393,N=N<<9|N>>>23,G=N^S,I+=(G^b)+Q[6]+1859775393,I=I<<11|I>>>21,b+=(G^I)+Q[14]+1859775393,b=b<<15|b>>>17,L=b^I,S+=(L^N)+Q[1]+1859775393,S=S<<3|S>>>29,N+=(L^S)+Q[9]+1859775393,N=N<<9|N>>>23,G=N^S,I+=(G^b)+Q[5]+1859775393,I=I<<11|I>>>21,b+=(G^I)+Q[13]+1859775393,b=b<<15|b>>>17,L=b^I,S+=(L^N)+Q[3]+1859775393,S=S<<3|S>>>29,N+=(L^S)+Q[11]+1859775393,N=N<<9|N>>>23,G=N^S,I+=(G^b)+Q[7]+1859775393,I=I<<11|I>>>21,b+=(G^I)+Q[15]+1859775393,b=b<<15|b>>>17,this.first?(this.h0=S+1732584193<<0,this.h1=b-271733879<<0,this.h2=I-1732584194<<0,this.h3=N+271733878<<0,this.first=!1):(this.h0=this.h0+S<<0,this.h1=this.h1+b<<0,this.h2=this.h2+I<<0,this.h3=this.h3+N<<0)},T.prototype.hex=function(){this.finalize();var S=this.h0,b=this.h1,I=this.h2,N=this.h3;return o[S>>4&15]+o[S&15]+o[S>>12&15]+o[S>>8&15]+o[S>>20&15]+o[S>>16&15]+o[S>>28&15]+o[S>>24&15]+o[b>>4&15]+o[b&15]+o[b>>12&15]+o[b>>8&15]+o[b>>20&15]+o[b>>16&15]+o[b>>28&15]+o[b>>24&15]+o[I>>4&15]+o[I&15]+o[I>>12&15]+o[I>>8&15]+o[I>>20&15]+o[I>>16&15]+o[I>>28&15]+o[I>>24&15]+o[N>>4&15]+o[N&15]+o[N>>12&15]+o[N>>8&15]+o[N>>20&15]+o[N>>16&15]+o[N>>28&15]+o[N>>24&15]},T.prototype.toString=T.prototype.hex,T.prototype.digest=function(){this.finalize();var S=this.h0,b=this.h1,I=this.h2,N=this.h3;return[S&255,S>>8&255,S>>16&255,S>>24&255,b&255,b>>8&255,b>>16&255,b>>24&255,I&255,I>>8&255,I>>16&255,I>>24&255,N&255,N>>8&255,N>>16&255,N>>24&255]},T.prototype.array=T.prototype.digest,T.prototype.arrayBuffer=function(){this.finalize();var S=new ArrayBuffer(16),b=new Uint32Array(S);return b[0]=this.h0,b[1]=this.h1,b[2]=this.h2,b[3]=this.h3,S},T.prototype.buffer=T.prototype.arrayBuffer;var C=y();r?i.exports=C:e.md4=C})()})(j0)),j0.exports}var KN;function fj(){return KN||(KN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(Ur()),r=o(Kt),t=a(dj());function o(c,d){if(typeof WeakMap=="function")var f=new WeakMap,p=new WeakMap;return(o=function(m,y){if(!y&&m&&m.__esModule)return m;var E,T,C={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return C;if(E=y?p:f){if(E.has(m))return E.get(m);E.set(m,C)}for(const S in m)S!=="default"&&{}.hasOwnProperty.call(m,S)&&((T=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,S))&&(T.get||T.set)?E(C,S,T):C[S]=m[S]);return C})(c,d)}function a(c){return c&&c.__esModule?c:{default:c}}class l{constructor(d){this.data=this.createResponse(d)}toString(d=""){return d+"NTLM Auth"}createResponse(d){const f=this.createClientNonce(),p=24,m=16,y=d.domain,E=d.userName,T=d.password,C=d.ntlmpacket,S=C.target,b=C.nonce,I=64+y.length*2+E.length*2+p+m+8+8+8+4+S.length+4,N=new n.default(I);N.position=0,N.writeString("NTLMSSP\0","utf8"),N.writeUInt32LE(3);const x=64,L=x,F=L+y.length*2,G=F+E.length*2,Q=G+p;N.writeUInt16LE(p),N.writeUInt16LE(p),N.writeUInt32LE(G),N.writeUInt16LE(m),N.writeUInt16LE(m),N.writeUInt32LE(Q),N.writeUInt16LE(y.length*2),N.writeUInt16LE(y.length*2),N.writeUInt32LE(L),N.writeUInt16LE(E.length*2),N.writeUInt16LE(E.length*2),N.writeUInt32LE(F),N.writeUInt16LE(0),N.writeUInt16LE(0),N.writeUInt32LE(x),N.writeUInt16LE(0),N.writeUInt16LE(0),N.writeUInt32LE(x),N.writeUInt16LE(33281),N.writeUInt16LE(8),N.writeString(y,"ucs2"),N.writeString(E,"ucs2");const j=this.lmv2Response(y,E,T,b,f);N.copyFrom(j);const Z=new Date().getTime(),ie=this.ntlmv2Response(y,E,T,b,S,f,Z);N.copyFrom(ie),N.writeUInt32LE(257),N.writeUInt32LE(0);const J=this.createTimestamp(Z);return N.copyFrom(J),N.copyFrom(f),N.writeUInt32LE(0),N.copyFrom(S),N.writeUInt32LE(0),N.data}createClientNonce(){const d=Buffer.alloc(8,0);let f=0;for(;f<8;)d.writeUInt8(Math.ceil(Math.random()*255),f),f++;return d}ntlmv2Response(d,f,p,m,y,E,T){const C=this.createTimestamp(T),S=this.ntv2Hash(d,f,p),b=40+y.length,I=Buffer.alloc(b,0);return m.copy(I,0,0,8),I.writeUInt32LE(257,8),I.writeUInt32LE(0,12),C.copy(I,16,0,8),E.copy(I,24,0,8),I.writeUInt32LE(0,32),y.copy(I,36,0,y.length),I.writeUInt32LE(0,36+y.length),this.hmacMD5(I,S)}createTimestamp(d){const f=(BigInt(d)+BigInt(11644473600))*BigInt(1e7),p=Number(f&BigInt(4294967295)),m=Number(f>>BigInt(32)&BigInt(4294967295)),y=Buffer.alloc(8);return y.writeUInt32LE(p,0),y.writeUInt32LE(m,4),y}lmv2Response(d,f,p,m,y){const E=this.ntv2Hash(d,f,p),T=Buffer.alloc(m.length+y.length,0);m.copy(T),y.copy(T,m.length,0,y.length);const C=this.hmacMD5(T,E),S=Buffer.alloc(C.length+y.length,0);return C.copy(S),y.copy(S,C.length,0,y.length),S}ntv2Hash(d,f,p){const m=this.ntHash(p),y=Buffer.from(f.toUpperCase()+d.toUpperCase(),"ucs2");return this.hmacMD5(y,m)}ntHash(d){const f=Buffer.from(d,"ucs2");return Buffer.from(t.default.arrayBuffer(f))}hmacMD5(d,f){return r.createHmac("MD5",f).update(d).digest()}}e.default=l,i.exports=l})(Qf,Qf.exports)),Qf.exports}var Zf={exports:{}},vo={},WN;function la(){if(WN)return vo;WN=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.RequestError=vo.InputError=vo.ConnectionError=void 0;class i extends Error{constructor(t,o,a){super(t,a),this.code=o}}vo.ConnectionError=i;class e extends Error{constructor(t,o,a){super(t,a),this.code=o}}vo.RequestError=e;class n extends TypeError{}return vo.InputError=n,vo}var pi={},$N;function hj(){return $N||($N=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.SQLServerStatementColumnEncryptionSetting=pi.SQLServerEncryptionType=pi.DescribeParameterEncryptionResultSet2=pi.DescribeParameterEncryptionResultSet1=void 0,pi.SQLServerEncryptionType=(function(i){return i[i.Deterministic=1]="Deterministic",i[i.Randomized=2]="Randomized",i[i.PlainText=0]="PlainText",i})({}),pi.DescribeParameterEncryptionResultSet1=(function(i){return i[i.KeyOrdinal=0]="KeyOrdinal",i[i.DbId=1]="DbId",i[i.KeyId=2]="KeyId",i[i.KeyVersion=3]="KeyVersion",i[i.KeyMdVersion=4]="KeyMdVersion",i[i.EncryptedKey=5]="EncryptedKey",i[i.ProviderName=6]="ProviderName",i[i.KeyPath=7]="KeyPath",i[i.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm",i})({}),pi.DescribeParameterEncryptionResultSet2=(function(i){return i[i.ParameterOrdinal=0]="ParameterOrdinal",i[i.ParameterName=1]="ParameterName",i[i.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",i[i.ColumnEncrytionType=3]="ColumnEncrytionType",i[i.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",i[i.NormalizationRuleVersion=5]="NormalizationRuleVersion",i})({}),pi.SQLServerStatementColumnEncryptionSetting=(function(i){return i[i.UseConnectionSetting=0]="UseConnectionSetting",i[i.Enabled=1]="Enabled",i[i.ResultSetOnly=2]="ResultSetOnly",i[i.Disabled=3]="Disabled",i})({})),pi}var jN;function bT(){return jN||(jN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Ri(),r=la(),t=hj();class o extends n.EventEmitter{on(l,c){return super.on(l,c)}emit(l,...c){return super.emit(l,...c)}constructor(l,c,d){super(),this.sqlTextOrProcedure=l,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=c,this.statementColumnEncryptionSetting=d&&d.statementColumnEncryptionSetting||t.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(f,p,m){this.preparing?(this.preparing=!1,f?this.emit("error",f):this.emit("prepared")):(this.userCallback(f,p,m),this.emit("requestCompleted"))}}addParameter(l,c,d,f){const{output:p=!1,length:m,precision:y,scale:E}=f??{},T={type:c,name:l,value:d,output:p,length:m,precision:y,scale:E};this.parameters.push(T),this.parametersByName[l]=T}addOutputParameter(l,c,d,f){this.addParameter(l,c,d,{...f,output:!0})}makeParamsParameter(l){let c="";for(let d=0,f=l.length;d<f;d++){const p=l[d];c.length>0&&(c+=", "),c+="@"+p.name+" ",c+=p.type.declaration(p),p.output&&(c+=" OUTPUT")}return c}validateParameters(l){for(let c=0,d=this.parameters.length;c<d;c++){const f=this.parameters[c];try{f.value=f.type.validate(f.value,l)}catch(p){throw new r.RequestError("Validation failed for parameter '"+f.name+"'. "+p.message,"EPARAM",{cause:p})}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(l){this.timeout=l}}e.default=o,i.exports=o})(Zf,Zf.exports)),Zf.exports}var eh={exports:{}},th={},JN;function IT(){if(JN)return th;JN=1,Object.defineProperty(th,"__esModule",{value:!0}),th.writeToTrackingBuffer=r;const i={TXN_DESCRIPTOR:2},n=6+12;function r(t,o,a){t.writeUInt32LE(0),t.writeUInt32LE(n),t.writeUInt16LE(i.TXN_DESCRIPTOR),t.writeBuffer(o),t.writeUInt32LE(a);const l=t.data;return l.writeUInt32LE(l.length,0),t}return th}var QN;function pj(){return QN||(QN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(Ur()),r=IT(),t=la();function o(c){return c&&c.__esModule?c:{default:c}}const a={BY_REF_VALUE:1};class l{constructor(d,f,p,m,y){this.procedure=d,this.parameters=f,this.options=m,this.txnDescriptor=p,this.collation=y}[Symbol.iterator](){return this.generateData()}*generateData(){const d=new n.default(500);this.options.tdsVersion>="7_2"&&(0,r.writeToTrackingBuffer)(d,this.txnDescriptor,1),typeof this.procedure=="string"?d.writeUsVarchar(this.procedure):(d.writeUShort(65535),d.writeUShort(this.procedure)),d.writeUInt16LE(0),yield d.data;const p=this.parameters.length;for(let m=0;m<p;m++)yield*this.generateParameterData(this.parameters[m])}toString(d=""){return d+("RPC Request - "+this.procedure)}*generateParameterData(d){const f=new n.default(3+Buffer.byteLength(d.name,"ucs-2")+1);d.name?f.writeBVarchar("@"+d.name):f.writeBVarchar("");let p=0;d.output&&(p|=a.BY_REF_VALUE),f.writeUInt8(p),yield f.data;const m={value:d.value},y=d.type;(y.id&48)===32&&(d.length?m.length=d.length:y.resolveLength&&(m.length=y.resolveLength(d))),d.precision?m.precision=d.precision:y.resolvePrecision&&(m.precision=y.resolvePrecision(d)),d.scale?m.scale=d.scale:y.resolveScale&&(m.scale=y.resolveScale(d)),this.collation&&(m.collation=this.collation),yield y.generateTypeInfo(m,this.options),yield y.generateParameterLength(m,this.options);try{yield*y.generateParameterData(m,this.options)}catch(E){throw new t.InputError(`Input parameter '${d.name}' could not be validated`,{cause:E})}}}e.default=l,i.exports=l})(eh,eh.exports)),eh.exports}var nh={exports:{}},XN;function mj(){return XN||(XN=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Ur()),r=IT();function t(a){return a&&a.__esModule?a:{default:a}}class o{constructor(l,c,d){this.sqlText=l,this.txnDescriptor=c,this.options=d}*[Symbol.iterator](){if(this.options.tdsVersion>="7_2"){const l=new n.default(18,"ucs2");(0,r.writeToTrackingBuffer)(l,this.txnDescriptor,1),yield l.data}yield Buffer.from(this.sqlText,"ucs2")}toString(l=""){return l+("SQL Batch - "+this.sqlText)}}e.default=o,i.exports=o})(nh,nh.exports)),nh.exports}var rh={exports:{}},Q0,ZN;function gj(){if(ZN)return Q0;ZN=1;const i=Kt.Duplex,e=Symbol("Callback"),n=Symbol("Other");class r extends i{constructor(a){super(a),this[e]=null,this[n]=null}_read(){const a=this[e];a&&(this[e]=null,a())}_write(a,l,c){this[n][e]=c,this[n].push(a)}_final(a){this[n].on("end",a),this[n].push(null)}}class t{constructor(a){this.socket1=new r(a),this.socket2=new r(a),this.socket1[n]=this.socket2,this.socket2[n]=this.socket1}}return Q0=t,Q0}var ih={exports:{}},eR;function NT(){return eR||(eR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Kt;class r extends n.PassThrough{constructor({type:o,resetConnection:a=!1}){super(),this.type=o,this.resetConnection=a,this.ignore=!1}}e.default=r,i.exports=r})(ih,ih.exports)),ih.exports}var oh={exports:{}},ju={exports:{}},X0={exports:{}},Z0={exports:{}},e_,tR;function En(){if(tR)return e_;tR=1;class i extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let t=0;t<n.length;t++)r+=`    ${n[t].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return e_={AggregateError:i,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,n){return e.includes(n)},ArrayPrototypeIndexOf(e,n){return e.indexOf(n)},ArrayPrototypeJoin(e,n){return e.join(n)},ArrayPrototypeMap(e,n){return e.map(n)},ArrayPrototypePop(e,n){return e.pop(n)},ArrayPrototypePush(e,n){return e.push(n)},ArrayPrototypeSlice(e,n,r){return e.slice(n,r)},Error,FunctionPrototypeCall(e,n,...r){return e.call(n,...r)},FunctionPrototypeSymbolHasInstance(e,n){return Function.prototype[Symbol.hasInstance].call(e,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,n){return Object.defineProperties(e,n)},ObjectDefineProperty(e,n,r){return Object.defineProperty(e,n,r)},ObjectGetOwnPropertyDescriptor(e,n){return Object.getOwnPropertyDescriptor(e,n)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,n){return Object.setPrototypeOf(e,n)},Promise,PromisePrototypeCatch(e,n){return e.catch(n)},PromisePrototypeThen(e,n,r){return e.then(n,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,n){return e.test(n)},SafeSet:Set,String,StringPrototypeSlice(e,n,r){return e.slice(n,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,n,r){return e.set(n,r)},Boolean,Uint8Array},e_}var t_={exports:{}},n_,nR;function eL(){return nR||(nR=1,n_={format(i,...e){return i.replace(/%([sdifj])/g,function(...[n,r]){const t=e.shift();return r==="f"?t.toFixed(6):r==="j"?JSON.stringify(t):r==="s"&&typeof t=="object"?`${t.constructor!==Object?t.constructor.name:""} {}`.trim():t.toString()})},inspect(i){switch(typeof i){case"string":if(i.includes("'"))if(i.includes('"')){if(!i.includes("`")&&!i.includes("${"))return`\`${i}\``}else return`"${i}"`;return`'${i}'`;case"number":return isNaN(i)?"NaN":Object.is(i,-0)?String(i):i;case"bigint":return`${String(i)}n`;case"boolean":case"undefined":return String(i);case"object":return"{}"}}}),n_}var r_,rR;function hr(){if(rR)return r_;rR=1;const{format:i,inspect:e}=eL(),{AggregateError:n}=En(),r=globalThis.AggregateError||n,t=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,l="__node_internal_",c={};function d(C,S){if(!C)throw new c.ERR_INTERNAL_ASSERTION(S)}function f(C){let S="",b=C.length;const I=C[0]==="-"?1:0;for(;b>=I+4;b-=3)S=`_${C.slice(b-3,b)}${S}`;return`${C.slice(0,b)}${S}`}function p(C,S,b){if(typeof S=="function")return d(S.length<=b.length,`Code: ${C}; The provided arguments length (${b.length}) does not match the required ones (${S.length}).`),S(...b);const I=(S.match(/%[dfijoOs]/g)||[]).length;return d(I===b.length,`Code: ${C}; The provided arguments length (${b.length}) does not match the required ones (${I}).`),b.length===0?S:i(S,...b)}function m(C,S,b){b||(b=Error);class I extends b{constructor(...x){super(p(C,S,x))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(I.prototype,{name:{value:b.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),I.prototype.code=C,I.prototype[t]=!0,c[C]=I}function y(C){const S=l+C.name;return Object.defineProperty(C,"name",{value:S}),C}function E(C,S){if(C&&S&&C!==S){if(Array.isArray(S.errors))return S.errors.push(C),S;const b=new r([S,C],S.message);return b.code=S.code,b}return C||S}class T extends Error{constructor(S="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",b);super(S,b),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(C,S,b)=>{d(typeof C=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let I="The ";C.endsWith(" argument")?I+=`${C} `:I+=`"${C}" ${C.includes(".")?"property":"argument"} `,I+="must be ";const N=[],x=[],L=[];for(const G of S)d(typeof G=="string","All expected entries have to be of type string"),o.includes(G)?N.push(G.toLowerCase()):a.test(G)?x.push(G):(d(G!=="object",'The value "object" should be written as "Object"'),L.push(G));if(x.length>0){const G=N.indexOf("object");G!==-1&&(N.splice(N,G,1),x.push("Object"))}if(N.length>0){switch(N.length){case 1:I+=`of type ${N[0]}`;break;case 2:I+=`one of type ${N[0]} or ${N[1]}`;break;default:{const G=N.pop();I+=`one of type ${N.join(", ")}, or ${G}`}}(x.length>0||L.length>0)&&(I+=" or ")}if(x.length>0){switch(x.length){case 1:I+=`an instance of ${x[0]}`;break;case 2:I+=`an instance of ${x[0]} or ${x[1]}`;break;default:{const G=x.pop();I+=`an instance of ${x.join(", ")}, or ${G}`}}L.length>0&&(I+=" or ")}switch(L.length){case 0:break;case 1:L[0].toLowerCase()!==L[0]&&(I+="an "),I+=`${L[0]}`;break;case 2:I+=`one of ${L[0]} or ${L[1]}`;break;default:{const G=L.pop();I+=`one of ${L.join(", ")}, or ${G}`}}if(b==null)I+=`. Received ${b}`;else if(typeof b=="function"&&b.name)I+=`. Received function ${b.name}`;else if(typeof b=="object"){var F;if((F=b.constructor)!==null&&F!==void 0&&F.name)I+=`. Received an instance of ${b.constructor.name}`;else{const G=e(b,{depth:-1});I+=`. Received ${G}`}}else{let G=e(b,{colors:!1});G.length>25&&(G=`${G.slice(0,25)}...`),I+=`. Received type ${typeof b} (${G})`}return I},TypeError),m("ERR_INVALID_ARG_VALUE",(C,S,b="is invalid")=>{let I=e(S);return I.length>128&&(I=I.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${b}. Received ${I}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(C,S,b)=>{var I;const N=b!=null&&(I=b.constructor)!==null&&I!==void 0&&I.name?`instance of ${b.constructor.name}`:`type ${typeof b}`;return`Expected ${C} to be returned from the "${S}" function but got ${N}.`},TypeError),m("ERR_MISSING_ARGS",(...C)=>{d(C.length>0,"At least one arg needs to be specified");let S;const b=C.length;switch(C=(Array.isArray(C)?C:[C]).map(I=>`"${I}"`).join(" or "),b){case 1:S+=`The ${C[0]} argument`;break;case 2:S+=`The ${C[0]} and ${C[1]} arguments`;break;default:{const I=C.pop();S+=`The ${C.join(", ")}, and ${I} arguments`}break}return`${S} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(C,S,b)=>{d(S,'Missing "range" argument');let I;if(Number.isInteger(b)&&Math.abs(b)>2**32)I=f(String(b));else if(typeof b=="bigint"){I=String(b);const N=BigInt(2)**BigInt(32);(b>N||b<-N)&&(I=f(I)),I+="n"}else I=e(b);return`The value of "${C}" is out of range. It must be ${S}. Received ${I}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),r_={AbortError:T,aggregateTwoErrors:y(E),hideStackFrames:y,codes:c},r_}var Ju={exports:{}},iR;function Ic(){if(iR)return Ju.exports;iR=1;const{AbortController:i,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Ju.exports=i,Ju.exports.AbortSignal=e,Ju.exports.default=i,Ju.exports}var oR;function wr(){return oR||(oR=1,(function(i){const e=xi(),{format:n,inspect:r}=eL(),{codes:{ERR_INVALID_ARG_TYPE:t}}=hr(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:l}=En(),c=globalThis.AbortSignal||Ic().AbortSignal,d=globalThis.AbortController||Ic().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||e.Blob,m=typeof p<"u"?function(C){return C instanceof p}:function(C){return!1},y=(T,C)=>{if(T!==void 0&&(T===null||typeof T!="object"||!("aborted"in T)))throw new t(C,"AbortSignal",T)},E=(T,C)=>{if(typeof T!="function")throw new t(C,"Function",T)};i.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(T){let C=!1;return function(...S){C||(C=!0,T.apply(this,S))}},createDeferredPromise:function(){let T,C;return{promise:new Promise((b,I)=>{T=b,C=I}),resolve:T,reject:C}},promisify(T){return new Promise((C,S)=>{T((b,...I)=>b?S(b):C(...I))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(T){return T instanceof f},isArrayBufferView(T){return ArrayBuffer.isView(T)}},isBlob:m,deprecate(T,C){return T},addAbortListener:Ri().addAbortListener||function(C,S){if(C===void 0)throw new t("signal","AbortSignal",C);y(C,"signal"),E(S,"listener");let b;return C.aborted?queueMicrotask(()=>S()):(C.addEventListener("abort",S,{__proto__:null,once:!0,[o]:!0}),b=()=>{C.removeEventListener("abort",S)}),{__proto__:null,[l](){var I;(I=b)===null||I===void 0||I()}}},AbortSignalAny:c.any||function(C){if(C.length===1)return C[0];const S=new d,b=()=>S.abort();return C.forEach(I=>{y(I,"signals"),I.addEventListener("abort",b,{once:!0})}),S.signal.addEventListener("abort",()=>{C.forEach(I=>I.removeEventListener("abort",b))},{once:!0}),S.signal}},i.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(t_)),t_.exports}var sh={},i_,sR;function Fc(){if(sR)return i_;sR=1;const{ArrayIsArray:i,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:t,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:l,NumberParseInt:c,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=En(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:T,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:I}}=hr(),{normalizeEncoding:N}=wr(),{isAsyncFunction:x,isArrayBufferView:L}=wr().types,F={};function G(se){return se===(se|0)}function Q(se){return se===se>>>0}const j=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function ie(se,D,ae){if(typeof se>"u"&&(se=ae),typeof se=="string"){if(f(j,se)===null)throw new S(D,se,Z);se=c(se,8)}return Fe(se,D),se}const J=E((se,D,ae=l,ne=a)=>{if(typeof se!="number")throw new C(D,"number",se);if(!t(se))throw new b(D,"an integer",se);if(se<ae||se>ne)throw new b(D,`>= ${ae} && <= ${ne}`,se)}),Re=E((se,D,ae=-2147483648,ne=2147483647)=>{if(typeof se!="number")throw new C(D,"number",se);if(!t(se))throw new b(D,"an integer",se);if(se<ae||se>ne)throw new b(D,`>= ${ae} && <= ${ne}`,se)}),Fe=E((se,D,ae=!1)=>{if(typeof se!="number")throw new C(D,"number",se);if(!t(se))throw new b(D,"an integer",se);const ne=ae?1:0,de=4294967295;if(se<ne||se>de)throw new b(D,`>= ${ne} && <= ${de}`,se)});function ee(se,D){if(typeof se!="string")throw new C(D,"string",se)}function Ee(se,D,ae=void 0,ne){if(typeof se!="number")throw new C(D,"number",se);if(ae!=null&&se<ae||ne!=null&&se>ne||(ae!=null||ne!=null)&&o(se))throw new b(D,`${ae!=null?`>= ${ae}`:""}${ae!=null&&ne!=null?" && ":""}${ne!=null?`<= ${ne}`:""}`,se)}const ye=E((se,D,ae)=>{if(!e(ae,se)){const de="must be one of: "+n(r(ae,Ve=>typeof Ve=="string"?`'${Ve}'`:p(Ve)),", ");throw new S(D,se,de)}});function Pe(se,D){if(typeof se!="boolean")throw new C(D,"boolean",se)}function $(se,D,ae){return se==null||!d(se,D)?ae:se[D]}const V=E((se,D,ae=null)=>{const ne=$(ae,"allowArray",!1),de=$(ae,"allowFunction",!1);if(!$(ae,"nullable",!1)&&se===null||!ne&&i(se)||typeof se!="object"&&(!de||typeof se!="function"))throw new C(D,"Object",se)}),H=E((se,D)=>{if(se!=null&&typeof se!="object"&&typeof se!="function")throw new C(D,"a dictionary",se)}),P=E((se,D,ae=0)=>{if(!i(se))throw new C(D,"Array",se);if(se.length<ae){const ne=`must be longer than ${ae}`;throw new S(D,se,ne)}});function ue(se,D){P(se,D);for(let ae=0;ae<se.length;ae++)ee(se[ae],`${D}[${ae}]`)}function _e(se,D){P(se,D);for(let ae=0;ae<se.length;ae++)Pe(se[ae],`${D}[${ae}]`)}function Oe(se,D){P(se,D);for(let ae=0;ae<se.length;ae++){const ne=se[ae],de=`${D}[${ae}]`;if(ne==null)throw new C(de,"AbortSignal",ne);Ye(ne,de)}}function ce(se,D="signal"){if(ee(se,D),F[se]===void 0)throw F[m(se)]!==void 0?new I(se+" (signals must use all capital letters)"):new I(se)}const le=E((se,D="buffer")=>{if(!L(se))throw new C(D,["Buffer","TypedArray","DataView"],se)});function he(se,D){const ae=N(D),ne=se.length;if(ae==="hex"&&ne%2!==0)throw new S("encoding",D,`is invalid for data of length ${ne}`)}function xe(se,D="Port",ae=!0){if(typeof se!="number"&&typeof se!="string"||typeof se=="string"&&y(se).length===0||+se!==+se>>>0||se>65535||se===0&&!ae)throw new T(D,se,ae);return se|0}const Ye=E((se,D)=>{if(se!==void 0&&(se===null||typeof se!="object"||!("aborted"in se)))throw new C(D,"AbortSignal",se)}),Ge=E((se,D)=>{if(typeof se!="function")throw new C(D,"Function",se)}),re=E((se,D)=>{if(typeof se!="function"||x(se))throw new C(D,"Function",se)}),fe=E((se,D)=>{if(se!==void 0)throw new C(D,"undefined",se)});function Ae(se,D,ae){if(!e(ae,se))throw new C(D,`('${n(ae,"|")}')`,se)}const ze=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ke(se,D){if(typeof se>"u"||!f(ze,se))throw new S(D,se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function $e(se){if(typeof se=="string")return Ke(se,"hints"),se;if(i(se)){const D=se.length;let ae="";if(D===0)return ae;for(let ne=0;ne<D;ne++){const de=se[ne];Ke(de,"hints"),ae+=de,ne!==D-1&&(ae+=", ")}return ae}throw new S("hints",se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return i_={isInt32:G,isUint32:Q,parseFileMode:ie,validateArray:P,validateStringArray:ue,validateBooleanArray:_e,validateAbortSignalArray:Oe,validateBoolean:Pe,validateBuffer:le,validateDictionary:H,validateEncoding:he,validateFunction:Ge,validateInt32:Re,validateInteger:J,validateNumber:Ee,validateObject:V,validateOneOf:ye,validatePlainFunction:re,validatePort:xe,validateSignalName:ce,validateString:ee,validateUint32:Fe,validateUndefined:fe,validateUnion:Ae,validateAbortSignal:Ye,validateLinkHeaderValue:$e},i_}var ah={exports:{}},o_={exports:{}},aR;function ua(){if(aR)return o_.exports;aR=1;var i=o_.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=t}catch{n=t}})();function o(T){if(e===setTimeout)return setTimeout(T,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(T,0);try{return e(T,0)}catch{try{return e.call(null,T,0)}catch{return e.call(this,T,0)}}}function a(T){if(n===clearTimeout)return clearTimeout(T);if((n===t||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(T);try{return n(T)}catch{try{return n.call(null,T)}catch{return n.call(this,T)}}}var l=[],c=!1,d,f=-1;function p(){!c||!d||(c=!1,d.length?l=d.concat(l):f=-1,l.length&&m())}function m(){if(!c){var T=o(p);c=!0;for(var C=l.length;C;){for(d=l,l=[];++f<C;)d&&d[f].run();f=-1,C=l.length}d=null,c=!1,a(T)}}i.nextTick=function(T){var C=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)C[S-1]=arguments[S];l.push(new y(T,C)),l.length===1&&!c&&o(m)};function y(T,C){this.fun=T,this.array=C}y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function E(){}return i.on=E,i.addListener=E,i.once=E,i.off=E,i.removeListener=E,i.removeAllListeners=E,i.emit=E,i.prependListener=E,i.prependOnceListener=E,i.listeners=function(T){return[]},i.binding=function(T){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(T){throw new Error("process.chdir is not supported")},i.umask=function(){return 0},o_.exports}var s_,lR;function Po(){if(lR)return s_;lR=1;const{SymbolAsyncIterator:i,SymbolIterator:e,SymbolFor:n}=En(),r=n("nodejs.stream.destroyed"),t=n("nodejs.stream.errored"),o=n("nodejs.stream.readable"),a=n("nodejs.stream.writable"),l=n("nodejs.stream.disturbed"),c=n("nodejs.webstream.isClosedPromise"),d=n("nodejs.webstream.controllerErrorFunction");function f($,V=!1){var H;return!!($&&typeof $.pipe=="function"&&typeof $.on=="function"&&(!V||typeof $.pause=="function"&&typeof $.resume=="function")&&(!$._writableState||((H=$._readableState)===null||H===void 0?void 0:H.readable)!==!1)&&(!$._writableState||$._readableState))}function p($){var V;return!!($&&typeof $.write=="function"&&typeof $.on=="function"&&(!$._readableState||((V=$._writableState)===null||V===void 0?void 0:V.writable)!==!1))}function m($){return!!($&&typeof $.pipe=="function"&&$._readableState&&typeof $.on=="function"&&typeof $.write=="function")}function y($){return $&&($._readableState||$._writableState||typeof $.write=="function"&&typeof $.on=="function"||typeof $.pipe=="function"&&typeof $.on=="function")}function E($){return!!($&&!y($)&&typeof $.pipeThrough=="function"&&typeof $.getReader=="function"&&typeof $.cancel=="function")}function T($){return!!($&&!y($)&&typeof $.getWriter=="function"&&typeof $.abort=="function")}function C($){return!!($&&!y($)&&typeof $.readable=="object"&&typeof $.writable=="object")}function S($){return E($)||T($)||C($)}function b($,V){return $==null?!1:V===!0?typeof $[i]=="function":V===!1?typeof $[e]=="function":typeof $[i]=="function"||typeof $[e]=="function"}function I($){if(!y($))return null;const V=$._writableState,H=$._readableState,P=V||H;return!!($.destroyed||$[r]||P!=null&&P.destroyed)}function N($){if(!p($))return null;if($.writableEnded===!0)return!0;const V=$._writableState;return V!=null&&V.errored?!1:typeof(V==null?void 0:V.ended)!="boolean"?null:V.ended}function x($,V){if(!p($))return null;if($.writableFinished===!0)return!0;const H=$._writableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.finished)!="boolean"?null:!!(H.finished||V===!1&&H.ended===!0&&H.length===0)}function L($){if(!f($))return null;if($.readableEnded===!0)return!0;const V=$._readableState;return!V||V.errored?!1:typeof(V==null?void 0:V.ended)!="boolean"?null:V.ended}function F($,V){if(!f($))return null;const H=$._readableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.endEmitted)!="boolean"?null:!!(H.endEmitted||V===!1&&H.ended===!0&&H.length===0)}function G($){return $&&$[o]!=null?$[o]:typeof($==null?void 0:$.readable)!="boolean"?null:I($)?!1:f($)&&$.readable&&!F($)}function Q($){return $&&$[a]!=null?$[a]:typeof($==null?void 0:$.writable)!="boolean"?null:I($)?!1:p($)&&$.writable&&!N($)}function j($,V){return y($)?I($)?!0:!((V==null?void 0:V.readable)!==!1&&G($)||(V==null?void 0:V.writable)!==!1&&Q($)):null}function Z($){var V,H;return y($)?$.writableErrored?$.writableErrored:(V=(H=$._writableState)===null||H===void 0?void 0:H.errored)!==null&&V!==void 0?V:null:null}function ie($){var V,H;return y($)?$.readableErrored?$.readableErrored:(V=(H=$._readableState)===null||H===void 0?void 0:H.errored)!==null&&V!==void 0?V:null:null}function J($){if(!y($))return null;if(typeof $.closed=="boolean")return $.closed;const V=$._writableState,H=$._readableState;return typeof(V==null?void 0:V.closed)=="boolean"||typeof(H==null?void 0:H.closed)=="boolean"?(V==null?void 0:V.closed)||(H==null?void 0:H.closed):typeof $._closed=="boolean"&&Re($)?$._closed:null}function Re($){return typeof $._closed=="boolean"&&typeof $._defaultKeepAlive=="boolean"&&typeof $._removedConnection=="boolean"&&typeof $._removedContLen=="boolean"}function Fe($){return typeof $._sent100=="boolean"&&Re($)}function ee($){var V;return typeof $._consuming=="boolean"&&typeof $._dumped=="boolean"&&((V=$.req)===null||V===void 0?void 0:V.upgradeOrConnect)===void 0}function Ee($){if(!y($))return null;const V=$._writableState,H=$._readableState,P=V||H;return!P&&Fe($)||!!(P&&P.autoDestroy&&P.emitClose&&P.closed===!1)}function ye($){var V;return!!($&&((V=$[l])!==null&&V!==void 0?V:$.readableDidRead||$.readableAborted))}function Pe($){var V,H,P,ue,_e,Oe,ce,le,he,xe;return!!($&&((V=(H=(P=(ue=(_e=(Oe=$[t])!==null&&Oe!==void 0?Oe:$.readableErrored)!==null&&_e!==void 0?_e:$.writableErrored)!==null&&ue!==void 0?ue:(ce=$._readableState)===null||ce===void 0?void 0:ce.errorEmitted)!==null&&P!==void 0?P:(le=$._writableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&H!==void 0?H:(he=$._readableState)===null||he===void 0?void 0:he.errored)!==null&&V!==void 0?V:!((xe=$._writableState)===null||xe===void 0)&&xe.errored))}return s_={isDestroyed:I,kIsDestroyed:r,isDisturbed:ye,kIsDisturbed:l,isErrored:Pe,kIsErrored:t,isReadable:G,kIsReadable:o,kIsClosedPromise:c,kControllerErrorFunction:d,kIsWritable:a,isClosed:J,isDuplexNodeStream:m,isFinished:j,isIterable:b,isReadableNodeStream:f,isReadableStream:E,isReadableEnded:L,isReadableFinished:F,isReadableErrored:ie,isNodeStream:y,isWebStream:S,isWritable:Q,isWritableNodeStream:p,isWritableStream:T,isWritableEnded:N,isWritableFinished:x,isWritableErrored:Z,isServerRequest:ee,isServerResponse:Fe,willEmitClose:Ee,isTransformStream:C},s_}var uR;function Ss(){if(uR)return ah.exports;uR=1;const i=ua(),{AbortError:e,codes:n}=hr(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:t}=n,{kEmptyObject:o,once:a}=wr(),{validateAbortSignal:l,validateFunction:c,validateObject:d,validateBoolean:f}=Fc(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=En(),{isClosed:E,isReadable:T,isReadableNodeStream:C,isReadableStream:S,isReadableFinished:b,isReadableErrored:I,isWritable:N,isWritableNodeStream:x,isWritableStream:L,isWritableFinished:F,isWritableErrored:G,isNodeStream:Q,willEmitClose:j,kIsClosedPromise:Z}=Po();let ie;function J(ye){return ye.setHeader&&typeof ye.abort=="function"}const Re=()=>{};function Fe(ye,Pe,$){var V,H;if(arguments.length===2?($=Pe,Pe=o):Pe==null?Pe=o:d(Pe,"options"),c($,"callback"),l(Pe.signal,"options.signal"),$=a($),S(ye)||L(ye))return ee(ye,Pe,$);if(!Q(ye))throw new r("stream",["ReadableStream","WritableStream","Stream"],ye);const P=(V=Pe.readable)!==null&&V!==void 0?V:C(ye),ue=(H=Pe.writable)!==null&&H!==void 0?H:x(ye),_e=ye._writableState,Oe=ye._readableState,ce=()=>{ye.writable||xe()};let le=j(ye)&&C(ye)===P&&x(ye)===ue,he=F(ye,!1);const xe=()=>{he=!0,ye.destroyed&&(le=!1),!(le&&(!ye.readable||P))&&(!P||Ye)&&$.call(ye)};let Ye=b(ye,!1);const Ge=()=>{Ye=!0,ye.destroyed&&(le=!1),!(le&&(!ye.writable||ue))&&(!ue||he)&&$.call(ye)},re=se=>{$.call(ye,se)};let fe=E(ye);const Ae=()=>{fe=!0;const se=G(ye)||I(ye);if(se&&typeof se!="boolean")return $.call(ye,se);if(P&&!Ye&&C(ye,!0)&&!b(ye,!1))return $.call(ye,new t);if(ue&&!he&&!F(ye,!1))return $.call(ye,new t);$.call(ye)},ze=()=>{fe=!0;const se=G(ye)||I(ye);if(se&&typeof se!="boolean")return $.call(ye,se);$.call(ye)},Ke=()=>{ye.req.on("finish",xe)};J(ye)?(ye.on("complete",xe),le||ye.on("abort",Ae),ye.req?Ke():ye.on("request",Ke)):ue&&!_e&&(ye.on("end",ce),ye.on("close",ce)),!le&&typeof ye.aborted=="boolean"&&ye.on("aborted",Ae),ye.on("end",Ge),ye.on("finish",xe),Pe.error!==!1&&ye.on("error",re),ye.on("close",Ae),fe?i.nextTick(Ae):_e!=null&&_e.errorEmitted||Oe!=null&&Oe.errorEmitted?le||i.nextTick(ze):(!P&&(!le||T(ye))&&(he||N(ye)===!1)||!ue&&(!le||N(ye))&&(Ye||T(ye)===!1)||Oe&&ye.req&&ye.aborted)&&i.nextTick(ze);const $e=()=>{$=Re,ye.removeListener("aborted",Ae),ye.removeListener("complete",xe),ye.removeListener("abort",Ae),ye.removeListener("request",Ke),ye.req&&ye.req.removeListener("finish",xe),ye.removeListener("end",ce),ye.removeListener("close",ce),ye.removeListener("finish",xe),ye.removeListener("end",Ge),ye.removeListener("error",re),ye.removeListener("close",Ae)};if(Pe.signal&&!fe){const se=()=>{const D=$;$e(),D.call(ye,new e(void 0,{cause:Pe.signal.reason}))};if(Pe.signal.aborted)i.nextTick(se);else{ie=ie||wr().addAbortListener;const D=ie(Pe.signal,se),ae=$;$=a((...ne)=>{D[y](),ae.apply(ye,ne)})}}return $e}function ee(ye,Pe,$){let V=!1,H=Re;if(Pe.signal)if(H=()=>{V=!0,$.call(ye,new e(void 0,{cause:Pe.signal.reason}))},Pe.signal.aborted)i.nextTick(H);else{ie=ie||wr().addAbortListener;const ue=ie(Pe.signal,H),_e=$;$=a((...Oe)=>{ue[y](),_e.apply(ye,Oe)})}const P=(...ue)=>{V||i.nextTick(()=>$.apply(ye,ue))};return m(ye[Z].promise,P,P),Re}function Ee(ye,Pe){var $;let V=!1;return Pe===null&&(Pe=o),($=Pe)!==null&&$!==void 0&&$.cleanup&&(f(Pe.cleanup,"cleanup"),V=Pe.cleanup),new p((H,P)=>{const ue=Fe(ye,Pe,_e=>{V&&ue(),_e?P(_e):H()})})}return ah.exports=Fe,ah.exports.finished=Ee,ah.exports}var a_,cR;function Yl(){if(cR)return a_;cR=1;const i=ua(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=hr(),{Symbol:t}=En(),{kIsDestroyed:o,isDestroyed:a,isFinished:l,isServerRequest:c}=Po(),d=t("kDestroy"),f=t("kConstruct");function p(j,Z,ie){j&&(j.stack,Z&&!Z.errored&&(Z.errored=j),ie&&!ie.errored&&(ie.errored=j))}function m(j,Z){const ie=this._readableState,J=this._writableState,Re=J||ie;return J!=null&&J.destroyed||ie!=null&&ie.destroyed?(typeof Z=="function"&&Z(),this):(p(j,J,ie),J&&(J.destroyed=!0),ie&&(ie.destroyed=!0),Re.constructed?y(this,j,Z):this.once(d,function(Fe){y(this,e(Fe,j),Z)}),this)}function y(j,Z,ie){let J=!1;function Re(Fe){if(J)return;J=!0;const ee=j._readableState,Ee=j._writableState;p(Fe,Ee,ee),Ee&&(Ee.closed=!0),ee&&(ee.closed=!0),typeof ie=="function"&&ie(Fe),Fe?i.nextTick(E,j,Fe):i.nextTick(T,j)}try{j._destroy(Z||null,Re)}catch(Fe){Re(Fe)}}function E(j,Z){C(j,Z),T(j)}function T(j){const Z=j._readableState,ie=j._writableState;ie&&(ie.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(ie!=null&&ie.emitClose||Z!=null&&Z.emitClose)&&j.emit("close")}function C(j,Z){const ie=j._readableState,J=j._writableState;J!=null&&J.errorEmitted||ie!=null&&ie.errorEmitted||(J&&(J.errorEmitted=!0),ie&&(ie.errorEmitted=!0),j.emit("error",Z))}function S(){const j=this._readableState,Z=this._writableState;j&&(j.constructed=!0,j.closed=!1,j.closeEmitted=!1,j.destroyed=!1,j.errored=null,j.errorEmitted=!1,j.reading=!1,j.ended=j.readable===!1,j.endEmitted=j.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function b(j,Z,ie){const J=j._readableState,Re=j._writableState;if(Re!=null&&Re.destroyed||J!=null&&J.destroyed)return this;J!=null&&J.autoDestroy||Re!=null&&Re.autoDestroy?j.destroy(Z):Z&&(Z.stack,Re&&!Re.errored&&(Re.errored=Z),J&&!J.errored&&(J.errored=Z),ie?i.nextTick(C,j,Z):C(j,Z))}function I(j,Z){if(typeof j._construct!="function")return;const ie=j._readableState,J=j._writableState;ie&&(ie.constructed=!1),J&&(J.constructed=!1),j.once(f,Z),!(j.listenerCount(f)>1)&&i.nextTick(N,j)}function N(j){let Z=!1;function ie(J){if(Z){b(j,J??new n);return}Z=!0;const Re=j._readableState,Fe=j._writableState,ee=Fe||Re;Re&&(Re.constructed=!0),Fe&&(Fe.constructed=!0),ee.destroyed?j.emit(d,J):J?b(j,J,!0):i.nextTick(x,j)}try{j._construct(J=>{i.nextTick(ie,J)})}catch(J){i.nextTick(ie,J)}}function x(j){j.emit(f)}function L(j){return(j==null?void 0:j.setHeader)&&typeof j.abort=="function"}function F(j){j.emit("close")}function G(j,Z){j.emit("error",Z),i.nextTick(F,j)}function Q(j,Z){!j||a(j)||(!Z&&!l(j)&&(Z=new r),c(j)?(j.socket=null,j.destroy(Z)):L(j)?j.abort():L(j.req)?j.req.abort():typeof j.destroy=="function"?j.destroy(Z):typeof j.close=="function"?j.close():Z?i.nextTick(G,j,Z):i.nextTick(F,j),j.destroyed||(j[o]=!0))}return a_={construct:I,destroyer:Q,destroy:m,undestroy:S,errorOrDestroy:b},a_}var l_,dR;function RT(){if(dR)return l_;dR=1;const{ArrayIsArray:i,ObjectSetPrototypeOf:e}=En(),{EventEmitter:n}=Ri();function r(o){n.call(this,o)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(o,a){const l=this;function c(T){o.writable&&o.write(T)===!1&&l.pause&&l.pause()}l.on("data",c);function d(){l.readable&&l.resume&&l.resume()}o.on("drain",d),!o._isStdio&&(!a||a.end!==!1)&&(l.on("end",p),l.on("close",m));let f=!1;function p(){f||(f=!0,o.end())}function m(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function y(T){E(),n.listenerCount(this,"error")===0&&this.emit("error",T)}t(l,"error",y),t(o,"error",y);function E(){l.removeListener("data",c),o.removeListener("drain",d),l.removeListener("end",p),l.removeListener("close",m),l.removeListener("error",y),o.removeListener("error",y),l.removeListener("end",E),l.removeListener("close",E),o.removeListener("close",E)}return l.on("end",E),l.on("close",E),o.on("close",E),o.emit("pipe",l),o};function t(o,a,l){if(typeof o.prependListener=="function")return o.prependListener(a,l);!o._events||!o._events[a]?o.on(a,l):i(o._events[a])?o._events[a].unshift(l):o._events[a]=[l,o._events[a]]}return l_={Stream:r,prependListener:t},l_}var u_={exports:{}},fR;function zm(){return fR||(fR=1,(function(i){const{SymbolDispose:e}=En(),{AbortError:n,codes:r}=hr(),{isNodeStream:t,isWebStream:o,kControllerErrorFunction:a}=Po(),l=Ss(),{ERR_INVALID_ARG_TYPE:c}=r;let d;const f=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new c(m,"AbortSignal",p)};i.exports.addAbortSignal=function(m,y){if(f(m,"signal"),!t(y)&&!o(y))throw new c("stream",["ReadableStream","WritableStream","Stream"],y);return i.exports.addAbortSignalNoValidate(m,y)},i.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=t(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[a](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{d=d||wr().addAbortListener;const E=d(p,y);l(m,E[e])}return m}})(u_)),u_.exports}var c_,hR;function yj(){if(hR)return c_;hR=1;const{StringPrototypeSlice:i,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=En(),{Buffer:t}=xi(),{inspect:o}=wr();return c_=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){const c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){const c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;const l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,d=""+c.data;for(;(c=c.next)!==null;)d+=l+c.data;return d}concat(l){if(this.length===0)return t.alloc(0);const c=t.allocUnsafe(l>>>0);let d=this.head,f=0;for(;d;)n(c,d.data,f),f+=d.data.length,d=d.next;return c}consume(l,c){const d=this.head.data;if(l<d.length){const f=d.slice(0,l);return this.head.data=d.slice(l),f}return l===d.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[e](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",d=this.head,f=0;do{const p=d.data;if(l>p.length)c+=p,l-=p.length;else{l===p.length?(c+=p,++f,d.next?this.head=d.next:this.head=this.tail=null):(c+=i(p,0,l),this.head=d,d.data=i(p,l));break}++f}while((d=d.next)!==null);return this.length-=f,c}_getBuffer(l){const c=t.allocUnsafe(l),d=l;let f=this.head,p=0;do{const m=f.data;if(l>m.length)n(c,m,d-l),l-=m.length;else{l===m.length?(n(c,m,d-l),++p,f.next?this.head=f.next:this.head=this.tail=null):(n(c,new r(m.buffer,m.byteOffset,l),d-l),this.head=f,f.data=m.slice(l));break}++p}while((f=f.next)!==null);return this.length-=p,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return o(this,{...c,depth:0,customInspect:!1})}},c_}var d_,pR;function Km(){if(pR)return d_;pR=1;const{MathFloor:i,NumberIsInteger:e}=En(),{validateInteger:n}=Fc(),{ERR_INVALID_ARG_VALUE:r}=hr().codes;let t=16*1024,o=16;function a(f,p,m){return f.highWaterMark!=null?f.highWaterMark:p?f[m]:null}function l(f){return f?o:t}function c(f,p){n(p,"value",0),f?o=p:t=p}function d(f,p,m,y){const E=a(p,y,m);if(E!=null){if(!e(E)||E<0){const T=y?`options.${m}`:"options.highWaterMark";throw new r(T,E)}return i(E)}return l(f.objectMode)}return d_={getHighWaterMark:d,getDefaultHighWaterMark:l,setDefaultHighWaterMark:c},d_}var f_={},lh={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var mR;function _j(){return mR||(mR=1,(function(i,e){var n=xi(),r=n.Buffer;function t(a,l){for(var c in a)l[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=n:(t(n,e),e.Buffer=o);function o(a,l,c){return r(a,l,c)}o.prototype=Object.create(r.prototype),t(r,o),o.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,l,c)},o.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=r(a);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(lh,lh.exports)),lh.exports}var gR;function tL(){if(gR)return f_;gR=1;var i=_j().Buffer,e=i.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var b;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(b)return;S=(""+S).toLowerCase(),b=!0}}function r(S){var b=n(S);if(typeof b!="string"&&(i.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return b||S}f_.StringDecoder=t;function t(S){this.encoding=r(S);var b;switch(this.encoding){case"utf16le":this.text=p,this.end=m,b=4;break;case"utf8":this.fillLast=c,b=4;break;case"base64":this.text=y,this.end=E,b=3;break;default:this.write=T,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(b)}t.prototype.write=function(S){if(S.length===0)return"";var b,I;if(this.lastNeed){if(b=this.fillLast(S),b===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<S.length?b?b+this.text(S,I):this.text(S,I):b||""},t.prototype.end=f,t.prototype.text=d,t.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function o(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function a(S,b,I){var N=b.length-1;if(N<I)return 0;var x=o(b[N]);return x>=0?(x>0&&(S.lastNeed=x-1),x):--N<I||x===-2?0:(x=o(b[N]),x>=0?(x>0&&(S.lastNeed=x-2),x):--N<I||x===-2?0:(x=o(b[N]),x>=0?(x>0&&(x===2?x=0:S.lastNeed=x-3),x):0))}function l(S,b,I){if((b[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return S.lastNeed=2,""}}function c(S){var b=this.lastTotal-this.lastNeed,I=l(this,S);if(I!==void 0)return I;if(this.lastNeed<=S.length)return S.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,b,0,S.length),this.lastNeed-=S.length}function d(S,b){var I=a(this,S,b);if(!this.lastNeed)return S.toString("utf8",b);this.lastTotal=I;var N=S.length-(I-this.lastNeed);return S.copy(this.lastChar,0,N),S.toString("utf8",b,N)}function f(S){var b=S&&S.length?this.write(S):"";return this.lastNeed?b+"":b}function p(S,b){if((S.length-b)%2===0){var I=S.toString("utf16le",b);if(I){var N=I.charCodeAt(I.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",b,S.length-1)}function m(S){var b=S&&S.length?this.write(S):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,I)}return b}function y(S,b){var I=(S.length-b)%3;return I===0?S.toString("base64",b):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",b,S.length-I))}function E(S){var b=S&&S.length?this.write(S):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function T(S){return S.toString(this.encoding)}function C(S){return S&&S.length?this.write(S):""}return f_}var h_,yR;function nL(){if(yR)return h_;yR=1;const i=ua(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=En(),{Buffer:t}=xi(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=hr().codes;function l(c,d,f){let p;if(typeof d=="string"||d instanceof t)return new c({objectMode:!0,...f,read(){this.push(d),this.push(null)}});let m;if(d&&d[n])m=!0,p=d[n]();else if(d&&d[r])m=!1,p=d[r]();else throw new o("iterable",["Iterable"],d);const y=new c({objectMode:!0,highWaterMark:1,...f});let E=!1;y._read=function(){E||(E=!0,C())},y._destroy=function(S,b){e(T(S),()=>i.nextTick(b,S),I=>i.nextTick(b,I||S))};async function T(S){const b=S!=null,I=typeof p.throw=="function";if(b&&I){const{value:N,done:x}=await p.throw(S);if(await N,x)return}if(typeof p.return=="function"){const{value:N}=await p.return();await N}}async function C(){for(;;){try{const{value:S,done:b}=m?await p.next():p.next();if(b)y.push(null);else{const I=S&&typeof S.then=="function"?await S:S;if(I===null)throw E=!1,new a;if(y.push(I))continue;E=!1}}catch(S){y.destroy(S)}break}}return y}return h_=l,h_}var p_,_R;function Wm(){if(_R)return p_;_R=1;const i=ua(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:t,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:c,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:p,Symbol:m}=En();p_=ne,ne.ReadableState=ae;const{EventEmitter:y}=Ri(),{Stream:E,prependListener:T}=RT(),{Buffer:C}=xi(),{addAbortSignal:S}=zm(),b=Ss();let I=wr().debuglog("stream",K=>{I=K});const N=yj(),x=Yl(),{getHighWaterMark:L,getDefaultHighWaterMark:F}=Km(),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:ie,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:J},AbortError:Re}=hr(),{validateObject:Fe}=Fc(),ee=m("kPaused"),{StringDecoder:Ee}=tL(),ye=nL();l(ne.prototype,E.prototype),l(ne,E);const Pe=()=>{},{errorOrDestroy:$}=x,V=1,H=2,P=4,ue=8,_e=16,Oe=32,ce=64,le=128,he=256,xe=512,Ye=1024,Ge=2048,re=4096,fe=8192,Ae=16384,ze=32768,Ke=65536,$e=1<<17,se=1<<18;function D(K){return{enumerable:!1,get(){return(this.state&K)!==0},set(te){te?this.state|=K:this.state&=~K}}}o(ae.prototype,{objectMode:D(V),ended:D(H),endEmitted:D(P),reading:D(ue),constructed:D(_e),sync:D(Oe),needReadable:D(ce),emittedReadable:D(le),readableListening:D(he),resumeScheduled:D(xe),errorEmitted:D(Ye),emitClose:D(Ge),autoDestroy:D(re),destroyed:D(fe),closed:D(Ae),closeEmitted:D(ze),multiAwaitDrain:D(Ke),readingMore:D($e),dataEmitted:D(se)});function ae(K,te,je){typeof je!="boolean"&&(je=te instanceof xo()),this.state=Ge|re|_e|Oe,K&&K.objectMode&&(this.state|=V),je&&K&&K.readableObjectMode&&(this.state|=V),this.highWaterMark=K?L(this,K,"readableHighWaterMark",je):F(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[ee]=null,K&&K.emitClose===!1&&(this.state&=~Ge),K&&K.autoDestroy===!1&&(this.state&=~re),this.errored=null,this.defaultEncoding=K&&K.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,K&&K.encoding&&(this.decoder=new Ee(K.encoding),this.encoding=K.encoding)}function ne(K){if(!(this instanceof ne))return new ne(K);const te=this instanceof xo();this._readableState=new ae(K,this,te),K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.construct=="function"&&(this._construct=K.construct),K.signal&&!te&&S(K.signal,this)),E.call(this,K),x.construct(this,()=>{this._readableState.needReadable&&pe(this,this._readableState)})}ne.prototype.destroy=x.destroy,ne.prototype._undestroy=x.undestroy,ne.prototype._destroy=function(K,te){te(K)},ne.prototype[y.captureRejectionSymbol]=function(K){this.destroy(K)},ne.prototype[f]=function(){let K;return this.destroyed||(K=this.readableEnded?null:new Re,this.destroy(K)),new c((te,je)=>b(this,Je=>Je&&Je!==K?je(Je):te(null)))},ne.prototype.push=function(K,te){return de(this,K,te,!1)},ne.prototype.unshift=function(K,te){return de(this,K,te,!0)};function de(K,te,je,Je){I("readableAddChunk",te);const rt=K._readableState;let Mn;if((rt.state&V)===0&&(typeof te=="string"?(je=je||rt.defaultEncoding,rt.encoding!==je&&(Je&&rt.encoding?te=C.from(te,je).toString(rt.encoding):(te=C.from(te,je),je=""))):te instanceof C?je="":E._isUint8Array(te)?(te=E._uint8ArrayToBuffer(te),je=""):te!=null&&(Mn=new Q("chunk",["string","Buffer","Uint8Array"],te))),Mn)$(K,Mn);else if(te===null)rt.state&=~ue,R(K,rt);else if((rt.state&V)!==0||te&&te.length>0)if(Je)if((rt.state&P)!==0)$(K,new J);else{if(rt.destroyed||rt.errored)return!1;Ve(K,rt,te,!0)}else if(rt.ended)$(K,new ie);else{if(rt.destroyed||rt.errored)return!1;rt.state&=~ue,rt.decoder&&!je?(te=rt.decoder.write(te),rt.objectMode||te.length!==0?Ve(K,rt,te,!1):pe(K,rt)):Ve(K,rt,te,!1)}else Je||(rt.state&=~ue,pe(K,rt));return!rt.ended&&(rt.length<rt.highWaterMark||rt.length===0)}function Ve(K,te,je,Je){te.flowing&&te.length===0&&!te.sync&&K.listenerCount("data")>0?((te.state&Ke)!==0?te.awaitDrainWriters.clear():te.awaitDrainWriters=null,te.dataEmitted=!0,K.emit("data",je)):(te.length+=te.objectMode?1:je.length,Je?te.buffer.unshift(je):te.buffer.push(je),(te.state&ce)!==0&&M(K)),pe(K,te)}ne.prototype.isPaused=function(){const K=this._readableState;return K[ee]===!0||K.flowing===!1},ne.prototype.setEncoding=function(K){const te=new Ee(K);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;const je=this._readableState.buffer;let Je="";for(const rt of je)Je+=te.write(rt);return je.clear(),Je!==""&&je.push(Je),this._readableState.length=Je.length,this};const Ue=1073741824;function tt(K){if(K>Ue)throw new Z("size","<= 1GiB",K);return K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++,K}function q(K,te){return K<=0||te.length===0&&te.ended?0:(te.state&V)!==0?1:r(K)?te.flowing&&te.length?te.buffer.first().length:te.length:K<=te.length?K:te.ended?te.length:0}ne.prototype.read=function(K){I("read",K),K===void 0?K=NaN:n(K)||(K=t(K,10));const te=this._readableState,je=K;if(K>te.highWaterMark&&(te.highWaterMark=tt(K)),K!==0&&(te.state&=~le),K===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return I("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?Lo(this):M(this),null;if(K=q(K,te),K===0&&te.ended)return te.length===0&&Lo(this),null;let Je=(te.state&ce)!==0;if(I("need readable",Je),(te.length===0||te.length-K<te.highWaterMark)&&(Je=!0,I("length less than watermark",Je)),te.ended||te.reading||te.destroyed||te.errored||!te.constructed)Je=!1,I("reading, ended or constructing",Je);else if(Je){I("do read"),te.state|=ue|Oe,te.length===0&&(te.state|=ce);try{this._read(te.highWaterMark)}catch(Mn){$(this,Mn)}te.state&=~Oe,te.reading||(K=q(je,te))}let rt;return K>0?rt=As(K,te):rt=null,rt===null?(te.needReadable=te.length<=te.highWaterMark,K=0):(te.length-=K,te.multiAwaitDrain?te.awaitDrainWriters.clear():te.awaitDrainWriters=null),te.length===0&&(te.ended||(te.needReadable=!0),je!==K&&te.ended&&Lo(this)),rt!==null&&!te.errorEmitted&&!te.closeEmitted&&(te.dataEmitted=!0,this.emit("data",rt)),rt};function R(K,te){if(I("onEofChunk"),!te.ended){if(te.decoder){const je=te.decoder.end();je&&je.length&&(te.buffer.push(je),te.length+=te.objectMode?1:je.length)}te.ended=!0,te.sync?M(K):(te.needReadable=!1,te.emittedReadable=!0,z(K))}}function M(K){const te=K._readableState;I("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(I("emitReadable",te.flowing),te.emittedReadable=!0,i.nextTick(z,K))}function z(K){const te=K._readableState;I("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&!te.errored&&(te.length||te.ended)&&(K.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,Vt(K)}function pe(K,te){!te.readingMore&&te.constructed&&(te.readingMore=!0,i.nextTick(we,K,te))}function we(K,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){const je=te.length;if(I("maybeReadMore read 0"),K.read(0),je===te.length)break}te.readingMore=!1}ne.prototype._read=function(K){throw new j("_read()")},ne.prototype.pipe=function(K,te){const je=this,Je=this._readableState;Je.pipes.length===1&&(Je.multiAwaitDrain||(Je.multiAwaitDrain=!0,Je.awaitDrainWriters=new d(Je.awaitDrainWriters?[Je.awaitDrainWriters]:[]))),Je.pipes.push(K),I("pipe count=%d opts=%j",Je.pipes.length,te);const Mn=(!te||te.end!==!1)&&K!==i.stdout&&K!==i.stderr?pa:Is;Je.endEmitted?i.nextTick(Mn):je.once("end",Mn),K.on("unpipe",nr);function nr(Qi,Fr){I("onunpipe"),Qi===je&&Fr&&Fr.hasUnpiped===!1&&(Fr.hasUnpiped=!0,zc())}function pa(){I("onend"),K.end()}let li,Kl=!1;function zc(){I("cleanup"),K.removeListener("close",Oi),K.removeListener("finish",bs),li&&K.removeListener("drain",li),K.removeListener("error",Un),K.removeListener("unpipe",nr),je.removeListener("end",pa),je.removeListener("end",Is),je.removeListener("data",bn),Kl=!0,li&&Je.awaitDrainWriters&&(!K._writableState||K._writableState.needDrain)&&li()}function ui(){Kl||(Je.pipes.length===1&&Je.pipes[0]===K?(I("false write response, pause",0),Je.awaitDrainWriters=K,Je.multiAwaitDrain=!1):Je.pipes.length>1&&Je.pipes.includes(K)&&(I("false write response, pause",Je.awaitDrainWriters.size),Je.awaitDrainWriters.add(K)),je.pause()),li||(li=ke(je,K),K.on("drain",li))}je.on("data",bn);function bn(Qi){I("ondata");const Fr=K.write(Qi);I("dest.write",Fr),Fr===!1&&ui()}function Un(Qi){if(I("onerror",Qi),Is(),K.removeListener("error",Un),K.listenerCount("error")===0){const Fr=K._writableState||K._readableState;Fr&&!Fr.errorEmitted?$(K,Qi):K.emit("error",Qi)}}T(K,"error",Un);function Oi(){K.removeListener("finish",bs),Is()}K.once("close",Oi);function bs(){I("onfinish"),K.removeListener("close",Oi),Is()}K.once("finish",bs);function Is(){I("unpipe"),je.unpipe(K)}return K.emit("pipe",je),K.writableNeedDrain===!0?ui():Je.flowing||(I("pipe resume"),je.resume()),K};function ke(K,te){return function(){const Je=K._readableState;Je.awaitDrainWriters===te?(I("pipeOnDrain",1),Je.awaitDrainWriters=null):Je.multiAwaitDrain&&(I("pipeOnDrain",Je.awaitDrainWriters.size),Je.awaitDrainWriters.delete(te)),(!Je.awaitDrainWriters||Je.awaitDrainWriters.size===0)&&K.listenerCount("data")&&K.resume()}}ne.prototype.unpipe=function(K){const te=this._readableState,je={hasUnpiped:!1};if(te.pipes.length===0)return this;if(!K){const rt=te.pipes;te.pipes=[],this.pause();for(let Mn=0;Mn<rt.length;Mn++)rt[Mn].emit("unpipe",this,{hasUnpiped:!1});return this}const Je=e(te.pipes,K);return Je===-1?this:(te.pipes.splice(Je,1),te.pipes.length===0&&this.pause(),K.emit("unpipe",this,je),this)},ne.prototype.on=function(K,te){const je=E.prototype.on.call(this,K,te),Je=this._readableState;return K==="data"?(Je.readableListening=this.listenerCount("readable")>0,Je.flowing!==!1&&this.resume()):K==="readable"&&!Je.endEmitted&&!Je.readableListening&&(Je.readableListening=Je.needReadable=!0,Je.flowing=!1,Je.emittedReadable=!1,I("on readable",Je.length,Je.reading),Je.length?M(this):Je.reading||i.nextTick(Ut,this)),je},ne.prototype.addListener=ne.prototype.on,ne.prototype.removeListener=function(K,te){const je=E.prototype.removeListener.call(this,K,te);return K==="readable"&&i.nextTick(ct,this),je},ne.prototype.off=ne.prototype.removeListener,ne.prototype.removeAllListeners=function(K){const te=E.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&i.nextTick(ct,this),te};function ct(K){const te=K._readableState;te.readableListening=K.listenerCount("readable")>0,te.resumeScheduled&&te[ee]===!1?te.flowing=!0:K.listenerCount("data")>0?K.resume():te.readableListening||(te.flowing=null)}function Ut(K){I("readable nexttick read 0"),K.read(0)}ne.prototype.resume=function(){const K=this._readableState;return K.flowing||(I("resume"),K.flowing=!K.readableListening,bt(this,K)),K[ee]=!1,this};function bt(K,te){te.resumeScheduled||(te.resumeScheduled=!0,i.nextTick(fn,K,te))}function fn(K,te){I("resume",te.reading),te.reading||K.read(0),te.resumeScheduled=!1,K.emit("resume"),Vt(K),te.flowing&&!te.reading&&K.read(0)}ne.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ee]=!0,this};function Vt(K){const te=K._readableState;for(I("flow",te.flowing);te.flowing&&K.read()!==null;);}ne.prototype.wrap=function(K){let te=!1;K.on("data",Je=>{!this.push(Je)&&K.pause&&(te=!0,K.pause())}),K.on("end",()=>{this.push(null)}),K.on("error",Je=>{$(this,Je)}),K.on("close",()=>{this.destroy()}),K.on("destroy",()=>{this.destroy()}),this._read=()=>{te&&K.resume&&(te=!1,K.resume())};const je=a(K);for(let Je=1;Je<je.length;Je++){const rt=je[Je];this[rt]===void 0&&typeof K[rt]=="function"&&(this[rt]=K[rt].bind(K))}return this},ne.prototype[p]=function(){return Yc(this)},ne.prototype.iterator=function(K){return K!==void 0&&Fe(K,"options"),Yc(this,K)};function Yc(K,te){typeof K.read!="function"&&(K=ne.wrap(K,{objectMode:!0}));const je=fa(K,te);return je.stream=K,je}async function*fa(K,te){let je=Pe;function Je(nr){this===K?(je(),je=Pe):je=nr}K.on("readable",Je);let rt;const Mn=b(K,{writable:!1},nr=>{rt=nr?G(rt,nr):null,je(),je=Pe});try{for(;;){const nr=K.destroyed?null:K.read();if(nr!==null)yield nr;else{if(rt)throw rt;if(rt===null)return;await new c(Je)}}}catch(nr){throw rt=G(rt,nr),rt}finally{(rt||(te==null?void 0:te.destroyOnReturn)!==!1)&&(rt===void 0||K._readableState.autoDestroy)?x.destroyer(K,null):(K.off("readable",Je),Mn())}}o(ne.prototype,{readable:{__proto__:null,get(){const K=this._readableState;return!!K&&K.readable!==!1&&!K.destroyed&&!K.errorEmitted&&!K.endEmitted},set(K){this._readableState&&(this._readableState.readable=!!K)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(K){this._readableState&&(this._readableState.destroyed=K)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ee]!==!1},set(K){this[ee]=!!K}}}),ne._fromList=As;function As(K,te){if(te.length===0)return null;let je;return te.objectMode?je=te.buffer.shift():!K||K>=te.length?(te.decoder?je=te.buffer.join(""):te.buffer.length===1?je=te.buffer.first():je=te.buffer.concat(te.length),te.buffer.clear()):je=te.buffer.consume(K,te.decoder),je}function Lo(K){const te=K._readableState;I("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,i.nextTick(ji,te,K))}function ji(K,te){if(I("endReadableNT",K.endEmitted,K.length),!K.errored&&!K.closeEmitted&&!K.endEmitted&&K.length===0){if(K.endEmitted=!0,te.emit("end"),te.writable&&te.allowHalfOpen===!1)i.nextTick(ha,te);else if(K.autoDestroy){const je=te._writableState;(!je||je.autoDestroy&&(je.finished||je.writable===!1))&&te.destroy()}}}function ha(K){K.writable&&!K.writableEnded&&!K.destroyed&&K.end()}ne.from=function(K,te){return ye(ne,K,te)};let Ji;function Gc(){return Ji===void 0&&(Ji={}),Ji}return ne.fromWeb=function(K,te){return Gc().newStreamReadableFromReadableStream(K,te)},ne.toWeb=function(K,te){return Gc().newReadableStreamFromStreamReadable(K,te)},ne.wrap=function(K,te){var je,Je;return new ne({objectMode:(je=(Je=K.readableObjectMode)!==null&&Je!==void 0?Je:K.objectMode)!==null&&je!==void 0?je:!0,...te,destroy(rt,Mn){x.destroyer(K,rt),Mn(rt)}}).wrap(K)},p_}var m_,vR;function xT(){if(vR)return m_;vR=1;const i=ua(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:t,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:c,SymbolHasInstance:d}=En();m_=Fe,Fe.WritableState=J;const{EventEmitter:f}=Ri(),p=RT().Stream,{Buffer:m}=xi(),y=Yl(),{addAbortSignal:E}=zm(),{getHighWaterMark:T,getDefaultHighWaterMark:C}=Km(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:L,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:Q}=hr().codes,{errorOrDestroy:j}=y;a(Fe.prototype,p.prototype),a(Fe,p);function Z(){}const ie=c("kOnFinished");function J(re,fe,Ae){typeof Ae!="boolean"&&(Ae=fe instanceof xo()),this.objectMode=!!(re&&re.objectMode),Ae&&(this.objectMode=this.objectMode||!!(re&&re.writableObjectMode)),this.highWaterMark=re?T(this,re,"writableHighWaterMark",Ae):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ze=!!(re&&re.decodeStrings===!1);this.decodeStrings=!ze,this.defaultEncoding=re&&re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Re(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!re||re.emitClose!==!1,this.autoDestroy=!re||re.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ie]=[]}function Re(re){re.buffered=[],re.bufferedIndex=0,re.allBuffers=!0,re.allNoop=!0}J.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},t(J.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Fe(re){const fe=this instanceof xo();if(!fe&&!r(Fe,this))return new Fe(re);this._writableState=new J(re,this,fe),re&&(typeof re.write=="function"&&(this._write=re.write),typeof re.writev=="function"&&(this._writev=re.writev),typeof re.destroy=="function"&&(this._destroy=re.destroy),typeof re.final=="function"&&(this._final=re.final),typeof re.construct=="function"&&(this._construct=re.construct),re.signal&&E(re.signal,this)),p.call(this,re),y.construct(this,()=>{const Ae=this._writableState;Ae.writing||ue(this,Ae),le(this,Ae)})}t(Fe,d,{__proto__:null,value:function(re){return r(this,re)?!0:this!==Fe?!1:re&&re._writableState instanceof J}}),Fe.prototype.pipe=function(){j(this,new N)};function ee(re,fe,Ae,ze){const Ke=re._writableState;if(typeof Ae=="function")ze=Ae,Ae=Ke.defaultEncoding;else{if(!Ae)Ae=Ke.defaultEncoding;else if(Ae!=="buffer"&&!m.isEncoding(Ae))throw new Q(Ae);typeof ze!="function"&&(ze=Z)}if(fe===null)throw new F;if(!Ke.objectMode)if(typeof fe=="string")Ke.decodeStrings!==!1&&(fe=m.from(fe,Ae),Ae="buffer");else if(fe instanceof m)Ae="buffer";else if(p._isUint8Array(fe))fe=p._uint8ArrayToBuffer(fe),Ae="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],fe);let $e;return Ke.ending?$e=new G:Ke.destroyed&&($e=new x("write")),$e?(i.nextTick(ze,$e),j(re,$e,!0),$e):(Ke.pendingcb++,Ee(re,Ke,fe,Ae,ze))}Fe.prototype.write=function(re,fe,Ae){return ee(this,re,fe,Ae)===!0},Fe.prototype.cork=function(){this._writableState.corked++},Fe.prototype.uncork=function(){const re=this._writableState;re.corked&&(re.corked--,re.writing||ue(this,re))},Fe.prototype.setDefaultEncoding=function(fe){if(typeof fe=="string"&&(fe=l(fe)),!m.isEncoding(fe))throw new Q(fe);return this._writableState.defaultEncoding=fe,this};function Ee(re,fe,Ae,ze,Ke){const $e=fe.objectMode?1:Ae.length;fe.length+=$e;const se=fe.length<fe.highWaterMark;return se||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:Ae,encoding:ze,callback:Ke}),fe.allBuffers&&ze!=="buffer"&&(fe.allBuffers=!1),fe.allNoop&&Ke!==Z&&(fe.allNoop=!1)):(fe.writelen=$e,fe.writecb=Ke,fe.writing=!0,fe.sync=!0,re._write(Ae,ze,fe.onwrite),fe.sync=!1),se&&!fe.errored&&!fe.destroyed}function ye(re,fe,Ae,ze,Ke,$e,se){fe.writelen=ze,fe.writecb=se,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new x("write")):Ae?re._writev(Ke,fe.onwrite):re._write(Ke,$e,fe.onwrite),fe.sync=!1}function Pe(re,fe,Ae,ze){--fe.pendingcb,ze(Ae),P(fe),j(re,Ae)}function $(re,fe){const Ae=re._writableState,ze=Ae.sync,Ke=Ae.writecb;if(typeof Ke!="function"){j(re,new I);return}Ae.writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0,fe?(fe.stack,Ae.errored||(Ae.errored=fe),re._readableState&&!re._readableState.errored&&(re._readableState.errored=fe),ze?i.nextTick(Pe,re,Ae,fe,Ke):Pe(re,Ae,fe,Ke)):(Ae.buffered.length>Ae.bufferedIndex&&ue(re,Ae),ze?Ae.afterWriteTickInfo!==null&&Ae.afterWriteTickInfo.cb===Ke?Ae.afterWriteTickInfo.count++:(Ae.afterWriteTickInfo={count:1,cb:Ke,stream:re,state:Ae},i.nextTick(V,Ae.afterWriteTickInfo)):H(re,Ae,1,Ke))}function V({stream:re,state:fe,count:Ae,cb:ze}){return fe.afterWriteTickInfo=null,H(re,fe,Ae,ze)}function H(re,fe,Ae,ze){for(!fe.ending&&!re.destroyed&&fe.length===0&&fe.needDrain&&(fe.needDrain=!1,re.emit("drain"));Ae-- >0;)fe.pendingcb--,ze();fe.destroyed&&P(fe),le(re,fe)}function P(re){if(re.writing)return;for(let Ke=re.bufferedIndex;Ke<re.buffered.length;++Ke){var fe;const{chunk:$e,callback:se}=re.buffered[Ke],D=re.objectMode?1:$e.length;re.length-=D,se((fe=re.errored)!==null&&fe!==void 0?fe:new x("write"))}const Ae=re[ie].splice(0);for(let Ke=0;Ke<Ae.length;Ke++){var ze;Ae[Ke]((ze=re.errored)!==null&&ze!==void 0?ze:new x("end"))}Re(re)}function ue(re,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:Ae,bufferedIndex:ze,objectMode:Ke}=fe,$e=Ae.length-ze;if(!$e)return;let se=ze;if(fe.bufferProcessing=!0,$e>1&&re._writev){fe.pendingcb-=$e-1;const D=fe.allNoop?Z:ne=>{for(let de=se;de<Ae.length;++de)Ae[de].callback(ne)},ae=fe.allNoop&&se===0?Ae:e(Ae,se);ae.allBuffers=fe.allBuffers,ye(re,fe,!0,fe.length,ae,"",D),Re(fe)}else{do{const{chunk:D,encoding:ae,callback:ne}=Ae[se];Ae[se++]=null;const de=Ke?1:D.length;ye(re,fe,!1,de,D,ae,ne)}while(se<Ae.length&&!fe.writing);se===Ae.length?Re(fe):se>256?(Ae.splice(0,se),fe.bufferedIndex=0):fe.bufferedIndex=se}fe.bufferProcessing=!1}Fe.prototype._write=function(re,fe,Ae){if(this._writev)this._writev([{chunk:re,encoding:fe}],Ae);else throw new b("_write()")},Fe.prototype._writev=null,Fe.prototype.end=function(re,fe,Ae){const ze=this._writableState;typeof re=="function"?(Ae=re,re=null,fe=null):typeof fe=="function"&&(Ae=fe,fe=null);let Ke;if(re!=null){const $e=ee(this,re,fe);$e instanceof n&&(Ke=$e)}return ze.corked&&(ze.corked=1,this.uncork()),Ke||(!ze.errored&&!ze.ending?(ze.ending=!0,le(this,ze,!0),ze.ended=!0):ze.finished?Ke=new L("end"):ze.destroyed&&(Ke=new x("end"))),typeof Ae=="function"&&(Ke||ze.finished?i.nextTick(Ae,Ke):ze[ie].push(Ae)),this};function _e(re){return re.ending&&!re.destroyed&&re.constructed&&re.length===0&&!re.errored&&re.buffered.length===0&&!re.finished&&!re.writing&&!re.errorEmitted&&!re.closeEmitted}function Oe(re,fe){let Ae=!1;function ze(Ke){if(Ae){j(re,Ke??I());return}if(Ae=!0,fe.pendingcb--,Ke){const $e=fe[ie].splice(0);for(let se=0;se<$e.length;se++)$e[se](Ke);j(re,Ke,fe.sync)}else _e(fe)&&(fe.prefinished=!0,re.emit("prefinish"),fe.pendingcb++,i.nextTick(he,re,fe))}fe.sync=!0,fe.pendingcb++;try{re._final(ze)}catch(Ke){ze(Ke)}fe.sync=!1}function ce(re,fe){!fe.prefinished&&!fe.finalCalled&&(typeof re._final=="function"&&!fe.destroyed?(fe.finalCalled=!0,Oe(re,fe)):(fe.prefinished=!0,re.emit("prefinish")))}function le(re,fe,Ae){_e(fe)&&(ce(re,fe),fe.pendingcb===0&&(Ae?(fe.pendingcb++,i.nextTick((ze,Ke)=>{_e(Ke)?he(ze,Ke):Ke.pendingcb--},re,fe)):_e(fe)&&(fe.pendingcb++,he(re,fe))))}function he(re,fe){fe.pendingcb--,fe.finished=!0;const Ae=fe[ie].splice(0);for(let ze=0;ze<Ae.length;ze++)Ae[ze]();if(re.emit("finish"),fe.autoDestroy){const ze=re._readableState;(!ze||ze.autoDestroy&&(ze.endEmitted||ze.readable===!1))&&re.destroy()}}o(Fe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(re){this._writableState&&(this._writableState.destroyed=re)}},writable:{__proto__:null,get(){const re=this._writableState;return!!re&&re.writable!==!1&&!re.destroyed&&!re.errored&&!re.ending&&!re.ended},set(re){this._writableState&&(this._writableState.writable=!!re)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const re=this._writableState;return re?!re.destroyed&&!re.ending&&re.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const xe=y.destroy;Fe.prototype.destroy=function(re,fe){const Ae=this._writableState;return!Ae.destroyed&&(Ae.bufferedIndex<Ae.buffered.length||Ae[ie].length)&&i.nextTick(P,Ae),xe.call(this,re,fe),this},Fe.prototype._undestroy=y.undestroy,Fe.prototype._destroy=function(re,fe){fe(re)},Fe.prototype[f.captureRejectionSymbol]=function(re){this.destroy(re)};let Ye;function Ge(){return Ye===void 0&&(Ye={}),Ye}return Fe.fromWeb=function(re,fe){return Ge().newStreamWritableFromWritableStream(re,fe)},Fe.toWeb=function(re){return Ge().newWritableStreamFromStreamWritable(re)},m_}var g_,ER;function vj(){if(ER)return g_;ER=1;const i=ua(),e=xi(),{isReadable:n,isWritable:r,isIterable:t,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:l,isDuplexNodeStream:c,isReadableStream:d,isWritableStream:f}=Po(),p=Ss(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:E}}=hr(),{destroyer:T}=Yl(),C=xo(),S=Wm(),b=xT(),{createDeferredPromise:I}=wr(),N=nL(),x=globalThis.Blob||e.Blob,L=typeof x<"u"?function(J){return J instanceof x}:function(J){return!1},F=globalThis.AbortController||Ic().AbortController,{FunctionPrototypeCall:G}=En();class Q extends C{constructor(J){super(J),(J==null?void 0:J.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(J==null?void 0:J.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}g_=function ie(J,Re){if(c(J))return J;if(a(J))return Z({readable:J});if(l(J))return Z({writable:J});if(o(J))return Z({writable:!1,readable:!1});if(d(J))return Z({readable:S.fromWeb(J)});if(f(J))return Z({writable:b.fromWeb(J)});if(typeof J=="function"){const{value:ee,write:Ee,final:ye,destroy:Pe}=j(J);if(t(ee))return N(Q,ee,{objectMode:!0,write:Ee,final:ye,destroy:Pe});const $=ee==null?void 0:ee.then;if(typeof $=="function"){let V;const H=G($,ee,P=>{if(P!=null)throw new E("nully","body",P)},P=>{T(V,P)});return V=new Q({objectMode:!0,readable:!1,write:Ee,final(P){ye(async()=>{try{await H,i.nextTick(P,null)}catch(ue){i.nextTick(P,ue)}})},destroy:Pe})}throw new E("Iterable, AsyncIterable or AsyncFunction",Re,ee)}if(L(J))return ie(J.arrayBuffer());if(t(J))return N(Q,J,{objectMode:!0,writable:!1});if(d(J==null?void 0:J.readable)&&f(J==null?void 0:J.writable))return Q.fromWeb(J);if(typeof(J==null?void 0:J.writable)=="object"||typeof(J==null?void 0:J.readable)=="object"){const ee=J!=null&&J.readable?a(J==null?void 0:J.readable)?J==null?void 0:J.readable:ie(J.readable):void 0,Ee=J!=null&&J.writable?l(J==null?void 0:J.writable)?J==null?void 0:J.writable:ie(J.writable):void 0;return Z({readable:ee,writable:Ee})}const Fe=J==null?void 0:J.then;if(typeof Fe=="function"){let ee;return G(Fe,J,Ee=>{Ee!=null&&ee.push(Ee),ee.push(null)},Ee=>{T(ee,Ee)}),ee=new Q({objectMode:!0,writable:!1,read(){}})}throw new y(Re,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],J)};function j(ie){let{promise:J,resolve:Re}=I();const Fe=new F,ee=Fe.signal;return{value:ie((async function*(){for(;;){const ye=J;J=null;const{chunk:Pe,done:$,cb:V}=await ye;if(i.nextTick(V),$)return;if(ee.aborted)throw new m(void 0,{cause:ee.reason});({promise:J,resolve:Re}=I()),yield Pe}})(),{signal:ee}),write(ye,Pe,$){const V=Re;Re=null,V({chunk:ye,done:!1,cb:$})},final(ye){const Pe=Re;Re=null,Pe({done:!0,cb:ye})},destroy(ye,Pe){Fe.abort(),Pe(ye)}}}function Z(ie){const J=ie.readable&&typeof ie.readable.read!="function"?S.wrap(ie.readable):ie.readable,Re=ie.writable;let Fe=!!n(J),ee=!!r(Re),Ee,ye,Pe,$,V;function H(P){const ue=$;$=null,ue?ue(P):P&&V.destroy(P)}return V=new Q({readableObjectMode:!!(J!=null&&J.readableObjectMode),writableObjectMode:!!(Re!=null&&Re.writableObjectMode),readable:Fe,writable:ee}),ee&&(p(Re,P=>{ee=!1,P&&T(J,P),H(P)}),V._write=function(P,ue,_e){Re.write(P,ue)?_e():Ee=_e},V._final=function(P){Re.end(),ye=P},Re.on("drain",function(){if(Ee){const P=Ee;Ee=null,P()}}),Re.on("finish",function(){if(ye){const P=ye;ye=null,P()}})),Fe&&(p(J,P=>{Fe=!1,P&&T(J,P),H(P)}),J.on("readable",function(){if(Pe){const P=Pe;Pe=null,P()}}),J.on("end",function(){V.push(null)}),V._read=function(){for(;;){const P=J.read();if(P===null){Pe=V._read;return}if(!V.push(P))return}}),V._destroy=function(P,ue){!P&&$!==null&&(P=new m),Pe=null,Ee=null,ye=null,$===null?ue(P):($=ue,T(Re,P),T(J,P))},V}return g_}var y_,TR;function xo(){if(TR)return y_;TR=1;const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=En();y_=a;const t=Wm(),o=xT();r(a.prototype,t.prototype),r(a,t);{const f=n(o.prototype);for(let p=0;p<f.length;p++){const m=f[p];a.prototype[m]||(a.prototype[m]=o.prototype[m])}}function a(f){if(!(this instanceof a))return new a(f);t.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(a.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let l;function c(){return l===void 0&&(l={}),l}a.fromWeb=function(f,p){return c().newStreamDuplexFromReadableWritablePair(f,p)},a.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};let d;return a.from=function(f){return d||(d=vj()),d(f,"body")},y_}var __,wR;function rL(){if(wR)return __;wR=1;const{ObjectSetPrototypeOf:i,Symbol:e}=En();__=a;const{ERR_METHOD_NOT_IMPLEMENTED:n}=hr().codes,r=xo(),{getHighWaterMark:t}=Km();i(a.prototype,r.prototype),i(a,r);const o=e("kCallback");function a(d){if(!(this instanceof a))return new a(d);const f=d?t(this,d,"readableHighWaterMark",!0):null;f===0&&(d={...d,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:d.writableHighWaterMark||0}),r.call(this,d),this._readableState.sync=!1,this[o]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function l(d){typeof this._flush=="function"&&!this.destroyed?this._flush((f,p)=>{if(f){d?d(f):this.destroy(f);return}p!=null&&this.push(p),this.push(null),d&&d()}):(this.push(null),d&&d())}function c(){this._final!==l&&l.call(this)}return a.prototype._final=l,a.prototype._transform=function(d,f,p){throw new n("_transform()")},a.prototype._write=function(d,f,p){const m=this._readableState,y=this._writableState,E=m.length;this._transform(d,f,(T,C)=>{if(T){p(T);return}C!=null&&this.push(C),y.ended||E===m.length||m.length<m.highWaterMark?p():this[o]=p})},a.prototype._read=function(){if(this[o]){const d=this[o];this[o]=null,d()}},__}var v_,SR;function iL(){if(SR)return v_;SR=1;const{ObjectSetPrototypeOf:i}=En();v_=n;const e=rL();i(n.prototype,e.prototype),i(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,t,o){o(null,r)},v_}var E_,CR;function OT(){if(CR)return E_;CR=1;const i=ua(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:t}=En(),o=Ss(),{once:a}=wr(),l=Yl(),c=xo(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:T}=hr(),{validateFunction:C,validateAbortSignal:S}=Fc(),{isIterable:b,isReadable:I,isReadableNodeStream:N,isNodeStream:x,isTransformStream:L,isWebStream:F,isReadableStream:G,isReadableFinished:Q}=Po(),j=globalThis.AbortController||Ic().AbortController;let Z,ie,J;function Re(P,ue,_e){let Oe=!1;P.on("close",()=>{Oe=!0});const ce=o(P,{readable:ue,writable:_e},le=>{Oe=!le});return{destroy:le=>{Oe||(Oe=!0,l.destroyer(P,le||new y("pipe")))},cleanup:ce}}function Fe(P){return C(P[P.length-1],"streams[stream.length - 1]"),P.pop()}function ee(P){if(b(P))return P;if(N(P))return Ee(P);throw new f("val",["Readable","Iterable","AsyncIterable"],P)}async function*Ee(P){ie||(ie=Wm()),yield*ie.prototype[r].call(P)}async function ye(P,ue,_e,{end:Oe}){let ce,le=null;const he=Ge=>{if(Ge&&(ce=Ge),le){const re=le;le=null,re()}},xe=()=>new n((Ge,re)=>{ce?re(ce):le=()=>{ce?re(ce):Ge()}});ue.on("drain",he);const Ye=o(ue,{readable:!1},he);try{ue.writableNeedDrain&&await xe();for await(const Ge of P)ue.write(Ge)||await xe();Oe&&(ue.end(),await xe()),_e()}catch(Ge){_e(ce!==Ge?d(ce,Ge):Ge)}finally{Ye(),ue.off("drain",he)}}async function Pe(P,ue,_e,{end:Oe}){L(ue)&&(ue=ue.writable);const ce=ue.getWriter();try{for await(const le of P)await ce.ready,ce.write(le).catch(()=>{});await ce.ready,Oe&&await ce.close(),_e()}catch(le){try{await ce.abort(le),_e(le)}catch(he){_e(he)}}}function $(...P){return V(P,a(Fe(P)))}function V(P,ue,_e){if(P.length===1&&e(P[0])&&(P=P[0]),P.length<2)throw new m("streams");const Oe=new j,ce=Oe.signal,le=_e==null?void 0:_e.signal,he=[];S(le,"options.signal");function xe(){Ke(new T)}J=J||wr().addAbortListener;let Ye;le&&(Ye=J(le,xe));let Ge,re;const fe=[];let Ae=0;function ze(ne){Ke(ne,--Ae===0)}function Ke(ne,de){var Ve;if(ne&&(!Ge||Ge.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ge=ne),!(!Ge&&!de)){for(;fe.length;)fe.shift()(Ge);(Ve=Ye)===null||Ve===void 0||Ve[t](),Oe.abort(),de&&(Ge||he.forEach(Ue=>Ue()),i.nextTick(ue,Ge,re))}}let $e;for(let ne=0;ne<P.length;ne++){const de=P[ne],Ve=ne<P.length-1,Ue=ne>0,tt=Ve||(_e==null?void 0:_e.end)!==!1,q=ne===P.length-1;if(x(de)){let R=function(M){M&&M.name!=="AbortError"&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ze(M)};var ae=R;if(tt){const{destroy:M,cleanup:z}=Re(de,Ve,Ue);fe.push(M),I(de)&&q&&he.push(z)}de.on("error",R),I(de)&&q&&he.push(()=>{de.removeListener("error",R)})}if(ne===0)if(typeof de=="function"){if($e=de({signal:ce}),!b($e))throw new p("Iterable, AsyncIterable or Stream","source",$e)}else b(de)||N(de)||L(de)?$e=de:$e=c.from(de);else if(typeof de=="function"){if(L($e)){var se;$e=ee((se=$e)===null||se===void 0?void 0:se.readable)}else $e=ee($e);if($e=de($e,{signal:ce}),Ve){if(!b($e,!0))throw new p("AsyncIterable",`transform[${ne-1}]`,$e)}else{var D;Z||(Z=iL());const R=new Z({objectMode:!0}),M=(D=$e)===null||D===void 0?void 0:D.then;if(typeof M=="function")Ae++,M.call($e,we=>{re=we,we!=null&&R.write(we),tt&&R.end(),i.nextTick(ze)},we=>{R.destroy(we),i.nextTick(ze,we)});else if(b($e,!0))Ae++,ye($e,R,ze,{end:tt});else if(G($e)||L($e)){const we=$e.readable||$e;Ae++,ye(we,R,ze,{end:tt})}else throw new p("AsyncIterable or Promise","destination",$e);$e=R;const{destroy:z,cleanup:pe}=Re($e,!1,!0);fe.push(z),q&&he.push(pe)}}else if(x(de)){if(N($e)){Ae+=2;const R=H($e,de,ze,{end:tt});I(de)&&q&&he.push(R)}else if(L($e)||G($e)){const R=$e.readable||$e;Ae++,ye(R,de,ze,{end:tt})}else if(b($e))Ae++,ye($e,de,ze,{end:tt});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$e);$e=de}else if(F(de)){if(N($e))Ae++,Pe(ee($e),de,ze,{end:tt});else if(G($e)||b($e))Ae++,Pe($e,de,ze,{end:tt});else if(L($e))Ae++,Pe($e.readable,de,ze,{end:tt});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$e);$e=de}else $e=c.from(de)}return(ce!=null&&ce.aborted||le!=null&&le.aborted)&&i.nextTick(xe),$e}function H(P,ue,_e,{end:Oe}){let ce=!1;if(ue.on("close",()=>{ce||_e(new E)}),P.pipe(ue,{end:!1}),Oe){let he=function(){ce=!0,ue.end()};var le=he;Q(P)?i.nextTick(he):P.once("end",he)}else _e();return o(P,{readable:!0,writable:!1},he=>{const xe=P._readableState;he&&he.code==="ERR_STREAM_PREMATURE_CLOSE"&&xe&&xe.ended&&!xe.errored&&!xe.errorEmitted?P.once("end",_e).once("error",_e):_e(he)}),o(ue,{readable:!1,writable:!0},_e)}return E_={pipelineImpl:V,pipeline:$},E_}var T_,AR;function oL(){if(AR)return T_;AR=1;const{pipeline:i}=OT(),e=xo(),{destroyer:n}=Yl(),{isNodeStream:r,isReadable:t,isWritable:o,isWebStream:a,isTransformStream:l,isWritableStream:c,isReadableStream:d}=Po(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=hr(),y=Ss();return T_=function(...T){if(T.length===0)throw new m("streams");if(T.length===1)return e.from(T[0]);const C=[...T];if(typeof T[0]=="function"&&(T[0]=e.from(T[0])),typeof T[T.length-1]=="function"){const Z=T.length-1;T[Z]=e.from(T[Z])}for(let Z=0;Z<T.length;++Z)if(!(!r(T[Z])&&!a(T[Z]))){if(Z<T.length-1&&!(t(T[Z])||d(T[Z])||l(T[Z])))throw new p(`streams[${Z}]`,C[Z],"must be readable");if(Z>0&&!(o(T[Z])||c(T[Z])||l(T[Z])))throw new p(`streams[${Z}]`,C[Z],"must be writable")}let S,b,I,N,x;function L(Z){const ie=N;N=null,ie?ie(Z):Z?x.destroy(Z):!j&&!Q&&x.destroy()}const F=T[0],G=i(T,L),Q=!!(o(F)||c(F)||l(F)),j=!!(t(G)||d(G)||l(G));if(x=new e({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(G!=null&&G.readableObjectMode),writable:Q,readable:j}),Q){if(r(F))x._write=function(ie,J,Re){F.write(ie,J)?Re():S=Re},x._final=function(ie){F.end(),b=ie},F.on("drain",function(){if(S){const ie=S;S=null,ie()}});else if(a(F)){const J=(l(F)?F.writable:F).getWriter();x._write=async function(Re,Fe,ee){try{await J.ready,J.write(Re).catch(()=>{}),ee()}catch(Ee){ee(Ee)}},x._final=async function(Re){try{await J.ready,J.close().catch(()=>{}),b=Re}catch(Fe){Re(Fe)}}}const Z=l(G)?G.readable:G;y(Z,()=>{if(b){const ie=b;b=null,ie()}})}if(j){if(r(G))G.on("readable",function(){if(I){const Z=I;I=null,Z()}}),G.on("end",function(){x.push(null)}),x._read=function(){for(;;){const Z=G.read();if(Z===null){I=x._read;return}if(!x.push(Z))return}};else if(a(G)){const ie=(l(G)?G.readable:G).getReader();x._read=async function(){for(;;)try{const{value:J,done:Re}=await ie.read();if(!x.push(J))return;if(Re){x.push(null);return}}catch{return}}}}return x._destroy=function(Z,ie){!Z&&N!==null&&(Z=new f),I=null,S=null,b=null,N===null?ie(Z):(N=ie,r(G)&&n(G,Z))},x},T_}var bR;function Ej(){if(bR)return sh;bR=1;const i=globalThis.AbortController||Ic().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:t},AbortError:o}=hr(),{validateAbortSignal:a,validateInteger:l,validateObject:c}=Fc(),d=En().Symbol("kWeak"),f=En().Symbol("kResistStopPropagation"),{finished:p}=Ss(),m=oL(),{addAbortSignalNoValidate:y}=zm(),{isWritable:E,isNodeStream:T}=Po(),{deprecate:C}=wr(),{ArrayPrototypePush:S,Boolean:b,MathFloor:I,Number:N,NumberIsNaN:x,Promise:L,PromiseReject:F,PromiseResolve:G,PromisePrototypeThen:Q,Symbol:j}=En(),Z=j("kEmpty"),ie=j("kEof");function J(le,he){if(he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal"),T(le)&&!E(le))throw new e("stream",le,"must be writable");const xe=m(this,le);return he!=null&&he.signal&&y(he.signal,xe),xe}function Re(le,he){if(typeof le!="function")throw new n("fn",["Function","AsyncFunction"],le);he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal");let xe=1;(he==null?void 0:he.concurrency)!=null&&(xe=I(he.concurrency));let Ye=xe-1;return(he==null?void 0:he.highWaterMark)!=null&&(Ye=I(he.highWaterMark)),l(xe,"options.concurrency",1),l(Ye,"options.highWaterMark",0),Ye+=xe,(async function*(){const re=wr().AbortSignalAny([he==null?void 0:he.signal].filter(b)),fe=this,Ae=[],ze={signal:re};let Ke,$e,se=!1,D=0;function ae(){se=!0,ne()}function ne(){D-=1,de()}function de(){$e&&!se&&D<xe&&Ae.length<Ye&&($e(),$e=null)}async function Ve(){try{for await(let Ue of fe){if(se)return;if(re.aborted)throw new o;try{if(Ue=le(Ue,ze),Ue===Z)continue;Ue=G(Ue)}catch(tt){Ue=F(tt)}D+=1,Q(Ue,ne,ae),Ae.push(Ue),Ke&&(Ke(),Ke=null),!se&&(Ae.length>=Ye||D>=xe)&&await new L(tt=>{$e=tt})}Ae.push(ie)}catch(Ue){const tt=F(Ue);Q(tt,ne,ae),Ae.push(tt)}finally{se=!0,Ke&&(Ke(),Ke=null)}}Ve();try{for(;;){for(;Ae.length>0;){const Ue=await Ae[0];if(Ue===ie)return;if(re.aborted)throw new o;Ue!==Z&&(yield Ue),Ae.shift(),de()}await new L(Ue=>{Ke=Ue})}}finally{se=!0,$e&&($e(),$e=null)}}).call(this)}function Fe(le=void 0){return le!=null&&c(le,"options"),(le==null?void 0:le.signal)!=null&&a(le.signal,"options.signal"),(async function*(){let xe=0;for await(const Ge of this){var Ye;if(le!=null&&(Ye=le.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o({cause:le.signal.reason});yield[xe++,Ge]}}).call(this)}async function ee(le,he=void 0){for await(const xe of $.call(this,le,he))return!0;return!1}async function Ee(le,he=void 0){if(typeof le!="function")throw new n("fn",["Function","AsyncFunction"],le);return!await ee.call(this,async(...xe)=>!await le(...xe),he)}async function ye(le,he){for await(const xe of $.call(this,le,he))return xe}async function Pe(le,he){if(typeof le!="function")throw new n("fn",["Function","AsyncFunction"],le);async function xe(Ye,Ge){return await le(Ye,Ge),Z}for await(const Ye of Re.call(this,xe,he));}function $(le,he){if(typeof le!="function")throw new n("fn",["Function","AsyncFunction"],le);async function xe(Ye,Ge){return await le(Ye,Ge)?Ye:Z}return Re.call(this,xe,he)}class V extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function H(le,he,xe){var Ye;if(typeof le!="function")throw new n("reducer",["Function","AsyncFunction"],le);xe!=null&&c(xe,"options"),(xe==null?void 0:xe.signal)!=null&&a(xe.signal,"options.signal");let Ge=arguments.length>1;if(xe!=null&&(Ye=xe.signal)!==null&&Ye!==void 0&&Ye.aborted){const Ke=new o(void 0,{cause:xe.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(Ke)),Ke}const re=new i,fe=re.signal;if(xe!=null&&xe.signal){const Ke={once:!0,[d]:this,[f]:!0};xe.signal.addEventListener("abort",()=>re.abort(),Ke)}let Ae=!1;try{for await(const Ke of this){var ze;if(Ae=!0,xe!=null&&(ze=xe.signal)!==null&&ze!==void 0&&ze.aborted)throw new o;Ge?he=await le(he,Ke,{signal:fe}):(he=Ke,Ge=!0)}if(!Ae&&!Ge)throw new V}finally{re.abort()}return he}async function P(le){le!=null&&c(le,"options"),(le==null?void 0:le.signal)!=null&&a(le.signal,"options.signal");const he=[];for await(const Ye of this){var xe;if(le!=null&&(xe=le.signal)!==null&&xe!==void 0&&xe.aborted)throw new o(void 0,{cause:le.signal.reason});S(he,Ye)}return he}function ue(le,he){const xe=Re.call(this,le,he);return(async function*(){for await(const Ge of xe)yield*Ge}).call(this)}function _e(le){if(le=N(le),x(le))return 0;if(le<0)throw new t("number",">= 0",le);return le}function Oe(le,he=void 0){return he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal"),le=_e(le),(async function*(){var Ye;if(he!=null&&(Ye=he.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o;for await(const re of this){var Ge;if(he!=null&&(Ge=he.signal)!==null&&Ge!==void 0&&Ge.aborted)throw new o;le--<=0&&(yield re)}}).call(this)}function ce(le,he=void 0){return he!=null&&c(he,"options"),(he==null?void 0:he.signal)!=null&&a(he.signal,"options.signal"),le=_e(le),(async function*(){var Ye;if(he!=null&&(Ye=he.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o;for await(const re of this){var Ge;if(he!=null&&(Ge=he.signal)!==null&&Ge!==void 0&&Ge.aborted)throw new o;if(le-- >0&&(yield re),le<=0)return}}).call(this)}return sh.streamReturningOperators={asIndexedPairs:C(Fe,"readable.asIndexedPairs will be removed in a future version."),drop:Oe,filter:$,flatMap:ue,map:Re,take:ce,compose:J},sh.promiseReturningOperators={every:Ee,forEach:Pe,reduce:H,toArray:P,some:ee,find:ye},sh}var w_,IR;function sL(){if(IR)return w_;IR=1;const{ArrayPrototypePop:i,Promise:e}=En(),{isIterable:n,isNodeStream:r,isWebStream:t}=Po(),{pipelineImpl:o}=OT(),{finished:a}=Ss();aL();function l(...c){return new e((d,f)=>{let p,m;const y=c[c.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!t(y)){const E=i(c);p=E.signal,m=E.end}o(c,(E,T)=>{E?f(E):d(T)},{signal:p,end:m})})}return w_={finished:a,pipeline:l},w_}var NR;function aL(){if(NR)return Z0.exports;NR=1;const{Buffer:i}=xi(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=En(),{promisify:{custom:t}}=wr(),{streamReturningOperators:o,promiseReturningOperators:a}=Ej(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=hr(),c=oL(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=Km(),{pipeline:p}=OT(),{destroyer:m}=Yl(),y=Ss(),E=sL(),T=Po(),C=Z0.exports=RT().Stream;C.isDestroyed=T.isDestroyed,C.isDisturbed=T.isDisturbed,C.isErrored=T.isErrored,C.isReadable=T.isReadable,C.isWritable=T.isWritable,C.Readable=Wm();for(const I of n(o)){let x=function(...L){if(new.target)throw l();return C.Readable.from(r(N,this,L))};var b=x;const N=o[I];e(x,"name",{__proto__:null,value:N.name}),e(x,"length",{__proto__:null,value:N.length}),e(C.Readable.prototype,I,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}for(const I of n(a)){let x=function(...F){if(new.target)throw l();return r(N,this,F)};var b=x;const N=a[I];e(x,"name",{__proto__:null,value:N.name}),e(x,"length",{__proto__:null,value:N.length}),e(C.Readable.prototype,I,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}C.Writable=xT(),C.Duplex=xo(),C.Transform=rL(),C.PassThrough=iL(),C.pipeline=p;const{addAbortSignal:S}=zm();return C.addAbortSignal=S,C.finished=y,C.destroy=m,C.compose=c,C.setDefaultHighWaterMark=d,C.getDefaultHighWaterMark=f,e(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),e(p,t,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),e(y,t,{__proto__:null,enumerable:!0,get(){return E.finished}}),C.Stream=C,C._isUint8Array=function(N){return N instanceof Uint8Array},C._uint8ArrayToBuffer=function(N){return i.from(N.buffer,N.byteOffset,N.byteLength)},Z0.exports}var RR;function Tj(){return RR||(RR=1,(function(i){const e=aL(),n=sL(),r=e.Readable.destroy;i.exports=e.Readable,i.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,i.exports._isUint8Array=e._isUint8Array,i.exports.isDisturbed=e.isDisturbed,i.exports.isErrored=e.isErrored,i.exports.isReadable=e.isReadable,i.exports.Readable=e.Readable,i.exports.Writable=e.Writable,i.exports.Duplex=e.Duplex,i.exports.Transform=e.Transform,i.exports.PassThrough=e.PassThrough,i.exports.addAbortSignal=e.addAbortSignal,i.exports.finished=e.finished,i.exports.destroy=e.destroy,i.exports.destroy=r,i.exports.pipeline=e.pipeline,i.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),i.exports.Stream=e.Stream,i.exports.default=i.exports})(X0)),X0.exports}var uh={exports:{}},xR;function wj(){return xR||(xR=1,typeof Object.create=="function"?uh.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:uh.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),uh.exports}var S_,OR;function Sj(){if(OR)return S_;OR=1;const{Buffer:i}=xi(),e=Symbol.for("BufferList");function n(r){if(!(this instanceof n))return new n(r);n._init.call(this,r)}return n._init=function(t){Object.defineProperty(this,e,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},n.prototype._new=function(t){return new n(t)},n.prototype._offset=function(t){if(t===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){const l=o+this._bufs[a].length;if(t<l||a===this._bufs.length-1)return[a,t-o];o=l}},n.prototype._reverseOffset=function(r){const t=r[0];let o=r[1];for(let a=0;a<t;a++)o+=this._bufs[a].length;return o},n.prototype.getBuffers=function(){return this._bufs},n.prototype.get=function(t){if(t>this.length||t<0)return;const o=this._offset(t);return this._bufs[o[0]][o[1]]},n.prototype.slice=function(t,o){return typeof t=="number"&&t<0&&(t+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,t,o)},n.prototype.copy=function(t,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return t||i.alloc(0);const c=!!t,d=this._offset(a),f=l-a;let p=f,m=c&&o||0,y=d[1];if(a===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:i.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(t,m),m+=this._bufs[E].length;return t}if(p<=this._bufs[d[0]].length-y)return c?this._bufs[d[0]].copy(t,o,y,y+p):this._bufs[d[0]].slice(y,y+p);c||(t=i.allocUnsafe(f));for(let E=d[0];E<this._bufs.length;E++){const T=this._bufs[E].length-y;if(p>T)this._bufs[E].copy(t,m,y),m+=T;else{this._bufs[E].copy(t,m,y,y+p),m+=T;break}p-=T,y&&(y=0)}return t.length>m?t.slice(0,m):t},n.prototype.shallowSlice=function(t,o){if(t=t||0,o=typeof o!="number"?this.length:o,t<0&&(t+=this.length),o<0&&(o+=this.length),t===o)return this._new();const a=this._offset(t),l=this._offset(o),c=this._bufs.slice(a[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),a[1]!==0&&(c[0]=c[0].slice(a[1])),this._new(c)},n.prototype.toString=function(t,o,a){return this.slice(o,a).toString(t)},n.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this},n.prototype.duplicate=function(){const t=this._new();for(let o=0;o<this._bufs.length;o++)t.append(this._bufs[o]);return t},n.prototype.append=function(t){return this._attach(t,n.prototype._appendBuffer)},n.prototype.prepend=function(t){return this._attach(t,n.prototype._prependBuffer,!0)},n.prototype._attach=function(t,o,a){if(t==null)return this;if(t.buffer)o.call(this,i.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t)){const[l,c]=a?[t.length-1,-1]:[0,1];for(let d=l;d>=0&&d<t.length;d+=c)this._attach(t[d],o,a)}else if(this._isBufferList(t)){const[l,c]=a?[t._bufs.length-1,-1]:[0,1];for(let d=l;d>=0&&d<t._bufs.length;d+=c)this._attach(t._bufs[d],o,a)}else typeof t=="number"&&(t=t.toString()),o.call(this,i.from(t));return this},n.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},n.prototype._prependBuffer=function(t){this._bufs.unshift(t),this.length+=t.length},n.prototype.indexOf=function(r,t,o){if(o===void 0&&typeof t=="string"&&(o=t,t=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=i.from([r]):typeof r=="string"?r=i.from(r,o):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=i.from(r.buffer,r.byteOffset,r.byteLength):i.isBuffer(r)||(r=i.from(r)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),r.length===0)return t>this.length?this.length:t;const a=this._offset(t);let l=a[0],c=a[1];for(;l<this._bufs.length;l++){const d=this._bufs[l];for(;c<d.length;)if(d.length-c>=r.length){const p=d.indexOf(r,c);if(p!==-1)return this._reverseOffset([l,p]);c=d.length-r.length+1}else{const p=this._reverseOffset([l,c]);if(this._match(p,r))return p;c++}c=0}return-1},n.prototype._match=function(r,t){if(this.length-r<t.length)return!1;for(let o=0;o<t.length;o++)if(this.get(r+o)!==t[o])return!1;return!0},(function(){const r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in r)(function(o){r[o]===null?n.prototype[o]=function(a,l){return this.slice(a,a+l)[o](0,l)}:n.prototype[o]=function(a=0){return this.slice(a,a+r[o])[o](0)}})(t)})(),n.prototype._isBufferList=function(t){return t instanceof n||n.isBufferList(t)},n.isBufferList=function(t){return t!=null&&t[e]},S_=n,S_}var DR;function lL(){if(DR)return ju.exports;DR=1;const i=Tj().Duplex,e=wj(),n=Sj();function r(t){if(!(this instanceof r))return new r(t);if(typeof t=="function"){this._callback=t;const o=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",o)}),this.on("unpipe",function(l){l.removeListener("error",o)}),t=null}n._init.call(this,t),i.call(this)}return e(r,i),Object.assign(r.prototype,n.prototype),r.prototype._new=function(o){return new r(o)},r.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},r.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},r.prototype.end=function(o){i.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},r.prototype._isBufferList=function(o){return o instanceof r||o instanceof n||r.isBufferList(o)},r.isBufferList=n.isBufferList,ju.exports=r,ju.exports.BufferListStream=r,ju.exports.BufferList=n,ju.exports}var MR;function Cj(){return MR||(MR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(lL()),r=Kt,t=l(NT()),o=Ym(),a=la();function l(d){return d&&d.__esModule?d:{default:d}}class c extends r.Transform{constructor(f){super({readableObjectMode:!0}),this.debug=f,this.currentMessage=void 0,this.bl=new n.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(f){for(;this.bl.length>=o.HEADER_LENGTH;){const p=this.bl.readUInt16BE(2);if(p<o.HEADER_LENGTH)return f(new a.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=p){const m=this.bl.slice(0,p);this.bl.consume(p);const y=new o.Packet(m);this.debug.packet("Received",y),this.debug.data(y);let E=this.currentMessage;if(E===void 0&&(this.currentMessage=E=new t.default({type:y.type(),resetConnection:!1}),this.push(E)),y.isLast()){E.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(f)}),E.end(y.data());return}else if(!E.write(y.data())){E.once("drain",()=>{this.processBufferedData(f)});return}}else break}f()}_transform(f,p,m){this.bl.append(f),this.processBufferedData(m)}}e.default=c,i.exports=c})(oh,oh.exports)),oh.exports}var ch={exports:{}},kR;function Aj(){return kR||(kR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(lL()),r=Kt,t=Ym();function o(l){return l&&l.__esModule?l:{default:l}}class a extends r.Duplex{constructor(c,{packetSize:d}){super({writableObjectMode:!0}),this.packetSize=d,this.debug=c,this.bl=new n.default,this.on("finish",()=>{this.push(null)})}_write(c,d,f){const p=this.packetSize-t.HEADER_LENGTH;let m=0;this.currentMessage=c,this.currentMessage.on("data",y=>{if(!c.ignore)for(this.bl.append(y);this.bl.length>p;){const E=this.bl.slice(0,p);this.bl.consume(p);const T=new t.Packet(c.type);T.packetId(m+=1),T.resetConnection(c.resetConnection),T.addData(E),this.debug.packet("Sent",T),this.debug.data(T),this.push(T.buffer)===!1&&c.pause()}}),this.currentMessage.on("end",()=>{const y=this.bl.slice();this.bl.consume(y.length);const E=new t.Packet(c.type);E.packetId(m+=1),E.resetConnection(c.resetConnection),E.last(!0),E.ignore(c.ignore),E.addData(y),this.debug.packet("Sent",E),this.debug.data(E),this.push(E.buffer),this.currentMessage=void 0,f()})}_read(c){this.currentMessage&&this.currentMessage.resume()}}e.default=a,i.exports=a})(ch,ch.exports)),ch.exports}var PR;function bj(){return PR||(PR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=f(gj()),r=d(Kt),t=Ri(),o=f(NT()),a=Ym(),l=f(Cj()),c=f(Aj());function d(m,y){if(typeof WeakMap=="function")var E=new WeakMap,T=new WeakMap;return(d=function(C,S){if(!S&&C&&C.__esModule)return C;var b,I,N={__proto__:null,default:C};if(C===null||typeof C!="object"&&typeof C!="function")return N;if(b=S?T:E){if(b.has(C))return b.get(C);b.set(C,N)}for(const x in C)x!=="default"&&{}.hasOwnProperty.call(C,x)&&((I=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(C,x))&&(I.get||I.set)?b(N,x,I):N[x]=C[x]);return N})(m,y)}function f(m){return m&&m.__esModule?m:{default:m}}class p extends t.EventEmitter{constructor(y,E,T){super(),this.socket=y,this.debug=T,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new l.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new c.default(this.debug,{packetSize:E}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...y){if(y.length>0){const E=y[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+E),this.outgoingMessageStream.packetSize=E}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(y,E,T){(!y.maxVersion||!["TLSv1.2","TLSv1.1","TLSv1"].includes(y.maxVersion))&&(y.maxVersion="TLSv1.2");const C=r.createSecureContext(y);return new Promise((S,b)=>{const I=new n.default,N=this.securePair={cleartext:r.connect({socket:I.socket1,servername:E,secureContext:C,rejectUnauthorized:!T}),encrypted:I.socket2},x=()=>{N.encrypted.removeListener("readable",F),N.cleartext.removeListener("error",L),N.cleartext.removeListener("secureConnect",x),N.cleartext.once("error",Q=>{this.socket.destroy(Q)});const G=N.cleartext.getCipher();G&&this.debug.log("TLS negotiated ("+G.name+", "+G.version+")"),this.emit("secure",N.cleartext),N.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(N.encrypted),N.encrypted.pipe(this.socket),N.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(N.cleartext),this.tlsNegotiationComplete=!0,S()},L=G=>{N.encrypted.removeListener("readable",F),N.cleartext.removeListener("error",L),N.cleartext.removeListener("secureConnect",x),N.cleartext.destroy(),N.encrypted.destroy(),b(G)},F=()=>{const G=new o.default({type:a.TYPE.PRELOGIN,resetConnection:!1});let Q;for(;Q=N.encrypted.read();)G.write(Q);this.outgoingMessageStream.write(G),G.end(),this.readMessage().then(async j=>{N.encrypted.once("readable",F);for await(const Z of j)N.encrypted.write(Z)}).catch(L)};N.cleartext.once("error",L),N.cleartext.once("secureConnect",x),N.encrypted.once("readable",F)})}sendMessage(y,E,T){const C=new o.default({type:y,resetConnection:T});return C.end(E),this.outgoingMessageStream.write(C),C}async readMessage(){const y=await this.incomingMessageIterator.next();if(y.done)throw new Error("unexpected end of message stream");return y.value}}e.default=p,i.exports=p})(rh,rh.exports)),rh.exports}var Qu={},dh={exports:{}},fh={exports:{}},hh={exports:{}},mi={},LR;function uL(){if(LR)return mi;LR=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.codepageBySortId=mi.codepageByLanguageId=mi.Flags=mi.Collation=void 0;const i=mi.codepageByLanguageId={1025:"CP1256",1028:"CP950",1029:"CP1250",1030:"CP1252",1032:"CP1253",1033:"CP1252",1034:"CP1252",1035:"CP1252",1036:"CP1252",1037:"CP1255",1038:"CP1250",1039:"CP1252",1041:"CP932",1042:"CP949",1044:"CP1252",1045:"CP1250",1047:"CP1252",1048:"CP1250",1049:"CP1251",1050:"CP1250",1051:"CP1250",1052:"CP1250",1054:"CP874",1055:"CP1254",1056:"CP1256",1058:"CP1251",1060:"CP1250",1061:"CP1257",1062:"CP1257",1063:"CP1257",1065:"CP1256",1066:"CP1258",1068:"CP1254",1070:"CP1252",1071:"CP1251",1083:"CP1252",1087:"CP1251",1090:"CP1250",1091:"CP1254",1092:"CP1251",1106:"CP1252",1122:"CP1252",1133:"CP1251",1146:"CP1252",1148:"CP1252",1150:"CP1252",1152:"CP1256",1155:"CP1252",1157:"CP1251",1164:"CP1256",2052:"CP936",2074:"CP1250",2092:"CP1251",2107:"CP1252",2143:"CP1252",3076:"CP950",3082:"CP1252",3098:"CP1251",5124:"CP950",5146:"CP1250",8218:"CP1251",1031:"CP1252",1079:"CP1252"},e=mi.codepageBySortId={30:"CP437",31:"CP437",32:"CP437",33:"CP437",34:"CP437",40:"CP850",41:"CP850",42:"CP850",43:"CP850",44:"CP850",49:"CP850",51:"CP1252",52:"CP1252",53:"CP1252",54:"CP1252",55:"CP850",56:"CP850",57:"CP850",58:"CP850",59:"CP850",60:"CP850",61:"CP850",80:"CP1250",81:"CP1250",82:"CP1250",83:"CP1250",84:"CP1250",85:"CP1250",86:"CP1250",87:"CP1250",88:"CP1250",89:"CP1250",90:"CP1250",91:"CP1250",92:"CP1250",93:"CP1250",94:"CP1250",95:"CP1250",96:"CP1250",104:"CP1251",105:"CP1251",106:"CP1251",107:"CP1251",108:"CP1251",112:"CP1253",113:"CP1253",114:"CP1253",120:"CP1253",121:"CP1253",122:"CP1253",124:"CP1253",128:"CP1254",129:"CP1254",130:"CP1254",136:"CP1255",137:"CP1255",138:"CP1255",144:"CP1256",145:"CP1256",146:"CP1256",152:"CP1257",153:"CP1257",154:"CP1257",155:"CP1257",156:"CP1257",157:"CP1257",158:"CP1257",159:"CP1257",160:"CP1257",183:"CP1252",184:"CP1252",185:"CP1252",186:"CP1252"},n=mi.Flags={IGNORE_CASE:1,IGNORE_ACCENT:2,IGNORE_KANA:4,IGNORE_WIDTH:8,BINARY:16,BINARY2:32,UTF8:64};class r{static fromBuffer(o,a=0){let l=(o[a+2]&15)<<16;l|=o[a+1]<<8,l|=o[a+0];let c=(o[a+3]&15)<<4;c|=(o[a+2]&240)>>>4;const d=(o[a+3]&240)>>>4,f=o[a+4];return new this(l,c,d,f)}constructor(o,a,l,c){if(this.buffer=void 0,this.lcid=o,this.flags=a,this.version=l,this.sortId=c,this.flags&n.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=e[this.sortId];else{const d=this.lcid&65535;this.codepage=i[d]}}toBuffer(){return this.buffer?this.buffer:(this.buffer=Buffer.alloc(5),this.buffer[0]=this.lcid&255,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(this.flags&15)<<4,this.buffer[3]=(this.flags&240)>>>4|(this.version&15)<<4,this.buffer[4]=this.sortId&255,this.buffer)}}return mi.Collation=r,mi}var Eo={},ph={exports:{}},UR;function Ij(){return UR||(UR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:31,type:"NULL",name:"Null",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(ph,ph.exports)),ph.exports}var mh={exports:{}},gh={exports:{}},FR;function Bc(){return FR||(FR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:38,type:"INTN",name:"IntN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(gh,gh.exports)),gh.exports}var BR;function Nj(){return BR||(BR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Bc());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([1]),o=Buffer.from([0]),a={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo(){return Buffer.from([n.default.id,1])},generateParameterLength(l,c){return l.value==null?o:t},*generateParameterData(l,c){if(l.value==null)return;const d=Buffer.alloc(1);d.writeUInt8(Number(l.value),0),yield d},validate:function(l){if(l==null)return null;if(typeof l!="number"&&(l=Number(l)),isNaN(l))throw new TypeError("Invalid number.");if(l<0||l>255)throw new TypeError("Value must be between 0 and 255, inclusive.");return l|0}};e.default=a,i.exports=a})(mh,mh.exports)),mh.exports}var yh={exports:{}},_h={exports:{}},HR;function cL(){return HR||(HR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:104,type:"BITN",name:"BitN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},*generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(_h,_h.exports)),_h.exports}var qR;function Rj(){return qR||(qR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(cL());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([1]),o=Buffer.from([0]),a={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo(){return Buffer.from([n.default.id,1])},generateParameterLength(l,c){return l.value==null?o:t},*generateParameterData(l,c){l.value!=null&&(yield l.value?Buffer.from([1]):Buffer.from([0]))},validate:function(l){return l==null?null:!!l}};e.default=a,i.exports=a})(yh,yh.exports)),yh.exports}var vh={exports:{}},VR;function xj(){return VR||(VR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Bc());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([2]),o=Buffer.from([0]),a={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo(){return Buffer.from([n.default.id,2])},generateParameterLength(l,c){return l.value==null?o:t},*generateParameterData(l,c){if(l.value==null)return;const d=Buffer.alloc(2);d.writeInt16LE(Number(l.value),0),yield d},validate:function(l){if(l==null)return null;if(typeof l!="number"&&(l=Number(l)),isNaN(l))throw new TypeError("Invalid number.");if(l<-32768||l>32767)throw new TypeError("Value must be between -32768 and 32767, inclusive.");return l|0}};e.default=a,i.exports=a})(vh,vh.exports)),vh.exports}var Eh={exports:{}},YR;function Oj(){return YR||(YR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Bc());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([0]),o=Buffer.from([4]),a={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo(){return Buffer.from([n.default.id,4])},generateParameterLength(l,c){return l.value==null?t:o},*generateParameterData(l,c){if(l.value==null)return;const d=Buffer.alloc(4);d.writeInt32LE(Number(l.value),0),yield d},validate:function(l){if(l==null)return null;if(typeof l!="number"&&(l=Number(l)),isNaN(l))throw new TypeError("Invalid number.");if(l<-2147483648||l>2147483647)throw new TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return l|0}};e.default=a,i.exports=a})(Eh,Eh.exports)),Eh.exports}var Th={exports:{}},wh={exports:{}},GR;function DT(){return GR||(GR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(wh,wh.exports)),wh.exports}var zR;function Dj(){return zR||(zR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(DT());function r(d){return d&&d.__esModule?d:{default:d}}const t=new Date(1900,0,1),o=new Date(Date.UTC(1900,0,1)),a=Buffer.from([4]),l=Buffer.from([0]),c={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo(){return Buffer.from([n.default.id,4])},generateParameterLength(d,f){return d.value==null?l:a},generateParameterData:function*(d,f){if(d.value==null)return;const p=Buffer.alloc(4);let m,y,E;f.useUTC?(m=Math.floor((d.value.getTime()-o.getTime())/(1e3*60*60*24)),E=d.value.getUTCHours()*60+d.value.getUTCMinutes()):(y=-(d.value.getTimezoneOffset()-t.getTimezoneOffset())*60*1e3,m=Math.floor((d.value.getTime()-t.getTime()+y)/(1e3*60*60*24)),E=d.value.getHours()*60+d.value.getMinutes()),p.writeUInt16LE(m,0),p.writeUInt16LE(E,2),yield p},validate:function(d,f,p){if(d==null)return null;d instanceof Date||(d=new Date(Date.parse(d))),d=d;let m,y,E;if(p&&p.useUTC?(m=d.getUTCFullYear(),y=d.getUTCMonth(),E=d.getUTCDate()):(m=d.getFullYear(),y=d.getMonth(),E=d.getDate()),m<1900||m>2079)throw new TypeError("Out of range.");if(m===2079&&(y>5||y===5&&E>6))throw new TypeError("Out of range.");if(isNaN(d))throw new TypeError("Invalid date.");return d}};e.default=c,i.exports=c})(Th,Th.exports)),Th.exports}var Sh={exports:{}},Ch={exports:{}},KR;function MT(){return KR||(KR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:109,type:"FLTN",name:"FloatN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(Ch,Ch.exports)),Ch.exports}var WR;function Mj(){return WR||(WR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(MT());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([0]),o=Buffer.from([4]),a={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo(){return Buffer.from([n.default.id,4])},generateParameterLength(l,c){return l.value==null?t:o},*generateParameterData(l,c){if(l.value==null)return;const d=Buffer.alloc(4);d.writeFloatLE(parseFloat(l.value),0),yield d},validate:function(l){if(l==null)return null;if(l=parseFloat(l),isNaN(l))throw new TypeError("Invalid number.");return l}};e.default=a,i.exports=a})(Sh,Sh.exports)),Sh.exports}var Ah={exports:{}},bh={exports:{}},$R;function kT(){return $R||($R=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(bh,bh.exports)),bh.exports}var jR;function kj(){return jR||(jR=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(kT());function r(d){return d&&d.__esModule?d:{default:d}}const o=1/(65536*65536),a=Buffer.from([0]),l=Buffer.from([8]),c={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([n.default.id,8])},generateParameterLength(d,f){return d.value==null?a:l},*generateParameterData(d,f){if(d.value==null)return;const p=d.value*1e4,m=Buffer.alloc(8);m.writeInt32LE(Math.floor(p*o),0),m.writeInt32LE(p&-1,4),yield m},validate:function(d){if(d==null)return null;if(d=parseFloat(d),isNaN(d))throw new TypeError("Invalid number.");if(d<-9223372036854776e-1||d>9223372036854776e-1)throw new TypeError("Value must be between -922337203685477.5808 and 922337203685477.5807, inclusive.");return d}};e.default=c,i.exports=c})(Ah,Ah.exports)),Ah.exports}var Ih={exports:{}};//! @version @js-joda/core - 5.6.5
//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function ca(i,e,n){n===void 0&&(n=Error);function r(t){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,e&&e.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return r.prototype=Object.create(n.prototype),r.prototype.name=i,r.prototype.constructor=r,r}var Ze=ca("DateTimeException",Pj),ei=ca("DateTimeParseException",Lj),At=ca("UnsupportedTemporalTypeException",null,Ze),Xr=ca("ArithmeticException"),ot=ca("IllegalArgumentException"),Nl=ca("IllegalStateException"),zi=ca("NullPointerException");function Pj(i,e){e===void 0&&(e=null);var n=i||this.name;e!==null&&e instanceof Error&&(n+=`
-------
Caused by: `+e.stack+`
-------
`),this.message=n}function Lj(i,e,n,r){e===void 0&&(e=""),n===void 0&&(n=0),r===void 0&&(r=null);var t=i||this.name;t+=": "+e+", at index: "+n,r!==null&&r instanceof Error&&(t+=`
-------
Caused by: `+r.stack+`
-------
`),this.message=t,this.parsedString=function(){return e},this.errorIndex=function(){return n}}function vt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Nv(i,e)}function Nv(i,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},Nv(i,e)}function Nc(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function Jt(i,e,n){if(!i)throw n?new n(e):new Error(e)}function X(i,e){if(i==null)throw new zi(e+" must not be null");return i}function st(i,e,n){if(!(i instanceof e))throw new ot(n+" must be an instance of "+(e.name?e.name:e)+(i&&i.constructor&&i.constructor.name?", but is "+i.constructor.name:""));return i}function ft(i){throw new TypeError('abstract method "'+i+'" is not implemented')}var Uj=Object.freeze({__proto__:null,abstractMethodFail:ft,assert:Jt,requireInstance:st,requireNonNull:X});/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var yi=9007199254740991,Mr=-9007199254740991,B=(function(){function i(){}return i.intDiv=function(n,r){var t=n/r;return t=i.roundDown(t),i.safeZero(t)},i.intMod=function(n,r){var t=n-i.intDiv(n,r)*r;return t=i.roundDown(t),i.safeZero(t)},i.roundDown=function(n){return n<0?Math.ceil(n):Math.floor(n)},i.floorDiv=function(n,r){var t=Math.floor(n/r);return i.safeZero(t)},i.floorMod=function(n,r){var t=n-i.floorDiv(n,r)*r;return i.safeZero(t)},i.safeAdd=function(n,r){if(i.verifyInt(n),i.verifyInt(r),n===0)return i.safeZero(r);if(r===0)return i.safeZero(n);var t=i.safeToInt(n+r);if(t===n||t===r)throw new Xr("Invalid addition beyond MAX_SAFE_INTEGER!");return t},i.safeSubtract=function(n,r){return i.verifyInt(n),i.verifyInt(r),n===0&&r===0?0:n===0?i.safeZero(-1*r):r===0?i.safeZero(n):i.safeToInt(n-r)},i.safeMultiply=function(n,r){if(i.verifyInt(n),i.verifyInt(r),n===1)return i.safeZero(r);if(r===1)return i.safeZero(n);if(n===0||r===0)return 0;var t=i.safeToInt(n*r);if(t/r!==n||n===Mr&&r===-1||r===Mr&&n===-1)throw new Xr("Multiplication overflows: "+n+" * "+r);return t},i.parseInt=(function(e){function n(r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n})(function(e){var n=parseInt(e);return i.safeToInt(n)}),i.safeToInt=function(n){return i.verifyInt(n),i.safeZero(n)},i.verifyInt=function(n){if(n==null)throw new Xr("Invalid value: '"+n+"', using null or undefined as argument");if(isNaN(n))throw new Xr("Invalid int value, using NaN as argument");if(Number.isInteger){if(!Number.isInteger(Number(n)))throw new Xr("Invalid value: '"+n+"' is a float")}else if(n%1!==0)throw new Xr("Invalid value: '"+n+"' is a float");if(n>yi||n<Mr)throw new Xr("Calculation overflows an int: "+n)},i.safeZero=function(n){return n===0?0:+n},i.compareNumbers=function(n,r){return n<r?-1:n>r?1:0},i.smi=function(n){return n>>>1&1073741824|n&3221225471},i.hash=function(n){if(n!==n||n===1/0)return 0;for(var r=n;n>4294967295;)n/=4294967295,r^=n;return i.smi(r)},i.hashCode=function(){for(var n=17,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];for(var a=0,l=t;a<l.length;a++){var c=l[a];n=(n<<5)-n+i.hash(c)}return i.hash(n)},i})();B.MAX_SAFE_INTEGER=yi;B.MIN_SAFE_INTEGER=Mr;/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Gl=(function(){function i(n){this._name=n}var e=i.prototype;return e.equals=function(r){return this===r},e.toString=function(){return this._name},e.toJSON=function(){return this.toString()},i})();/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var vs=(function(){function i(){}var e=i.prototype;return e.get=function(r){ft("get")},e.units=function(){ft("units")},e.addTo=function(r){ft("addTo")},e.subtractFrom=function(r){ft("subtractFrom")},i})();typeof Symbol<"u"&&Symbol.toPrimitive&&(vs.prototype[Symbol.toPrimitive]=function(i){if(i!=="number")return this.toString();throw new TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Ki=(function(){function i(){}var e=i.prototype;return e.duration=function(){ft("duration")},e.isDurationEstimated=function(){ft("isDurationEstimated")},e.isDateBased=function(){ft("isDateBased")},e.isTimeBased=function(){ft("isTimeBased")},e.isSupportedBy=function(r){ft("isSupportedBy")},e.addTo=function(r,t){ft("addTo")},e.between=function(r,t){ft("between")},i})(),_n=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._seconds=B.safeToInt(r),o._nanos=B.safeToInt(t),o}e.ofDays=function(t){return e._create(B.safeMultiply(t,Te.SECONDS_PER_DAY),0)},e.ofHours=function(t){return e._create(B.safeMultiply(t,Te.SECONDS_PER_HOUR),0)},e.ofMinutes=function(t){return e._create(B.safeMultiply(t,Te.SECONDS_PER_MINUTE),0)},e.ofSeconds=function(t,o){o===void 0&&(o=0);var a=B.safeAdd(t,B.floorDiv(o,Te.NANOS_PER_SECOND)),l=B.floorMod(o,Te.NANOS_PER_SECOND);return e._create(a,l)},e.ofMillis=function(t){var o=B.intDiv(t,1e3),a=B.intMod(t,1e3);return a<0&&(a+=1e3,o--),e._create(o,a*1e6)},e.ofNanos=function(t){var o=B.intDiv(t,Te.NANOS_PER_SECOND),a=B.intMod(t,Te.NANOS_PER_SECOND);return a<0&&(a+=Te.NANOS_PER_SECOND,o--),this._create(o,a)},e.of=function(t,o){return e.ZERO.plus(t,o)},e.from=function(t){X(t,"amount"),st(t,vs);var o=e.ZERO;return t.units().forEach(function(a){o=o.plus(t.get(a),a)}),o},e.between=function(t,o){X(t,"startInclusive"),X(o,"endExclusive");var a=t.until(o,W.SECONDS),l=0;if(t.isSupported(O.NANO_OF_SECOND)&&o.isSupported(O.NANO_OF_SECOND))try{var c=t.getLong(O.NANO_OF_SECOND);if(l=o.getLong(O.NANO_OF_SECOND)-c,a>0&&l<0)l+=Te.NANOS_PER_SECOND;else if(a<0&&l>0)l-=Te.NANOS_PER_SECOND;else if(a===0&&l!==0){var d=o.with(O.NANO_OF_SECOND,c);a=t.until(d,W.SECONDS)}}catch{}return this.ofSeconds(a,l)},e.parse=function(t){X(t,"text");var o=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i"),a=o.exec(t);if(a!==null&&a[3]!=="T"){var l=a[1]==="-",c=a[2],d=a[4],f=a[5],p=a[6],m=a[7];if(c!=null||d!=null||f!=null||p!=null){var y=e._parseNumber(t,c,Te.SECONDS_PER_DAY,"days"),E=e._parseNumber(t,d,Te.SECONDS_PER_HOUR,"hours"),T=e._parseNumber(t,f,Te.SECONDS_PER_MINUTE,"minutes"),C=e._parseNumber(t,p,1,"seconds"),S=p!=null&&p.charAt(0)==="-",b=e._parseFraction(t,m,S?-1:1);try{return e._create(l,y,E,T,C,b)}catch(I){throw new ei("Text cannot be parsed to a Duration: overflow",t,0,I)}}}throw new ei("Text cannot be parsed to a Duration",t,0)},e._parseNumber=function(t,o,a,l){if(o==null)return 0;try{return o[0]==="+"&&(o=o.substring(1)),B.safeMultiply(parseFloat(o),a)}catch(c){throw new ei("Text cannot be parsed to a Duration: "+l,t,0,c)}},e._parseFraction=function(t,o,a){return o==null||o.length===0?0:(o=(o+"000000000").substring(0,9),parseFloat(o)*a)},e._create=function(){return arguments.length<=2?e._createSecondsNanos(arguments[0],arguments[1]):e._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},e._createNegateDaysHoursMinutesSecondsNanos=function(t,o,a,l,c,d){var f=B.safeAdd(o,B.safeAdd(a,B.safeAdd(l,c)));return t?e.ofSeconds(f,d).negated():e.ofSeconds(f,d)},e._createSecondsNanos=function(t,o){return t===void 0&&(t=0),o===void 0&&(o=0),t===0&&o===0?e.ZERO:new e(t,o)};var n=e.prototype;return n.get=function(t){if(t===W.SECONDS)return this._seconds;if(t===W.NANOS)return this._nanos;throw new At("Unsupported unit: "+t)},n.units=function(){return[W.SECONDS,W.NANOS]},n.isZero=function(){return this._seconds===0&&this._nanos===0},n.isNegative=function(){return this._seconds<0},n.seconds=function(){return this._seconds},n.nano=function(){return this._nanos},n.withSeconds=function(t){return e._create(t,this._nanos)},n.withNanos=function(t){return O.NANO_OF_SECOND.checkValidIntValue(t),e._create(this._seconds,t)},n.plusDuration=function(t){return X(t,"duration"),this.plus(t.seconds(),t.nano())},n.plus=function(t,o){return arguments.length===1?this.plusDuration(t):arguments.length===2&&o instanceof Ki?this.plusAmountUnit(t,o):this.plusSecondsNanos(t,o)},n.plusAmountUnit=function(t,o){if(X(t,"amountToAdd"),X(o,"unit"),o===W.DAYS)return this.plusSecondsNanos(B.safeMultiply(t,Te.SECONDS_PER_DAY),0);if(o.isDurationEstimated())throw new At("Unit must not have an estimated duration");if(t===0)return this;if(o instanceof W){switch(o){case W.NANOS:return this.plusNanos(t);case W.MICROS:return this.plusSecondsNanos(B.intDiv(t,1e6*1e3)*1e3,B.intMod(t,1e6*1e3)*1e3);case W.MILLIS:return this.plusMillis(t);case W.SECONDS:return this.plusSeconds(t)}return this.plusSecondsNanos(B.safeMultiply(o.duration().seconds(),t),0)}var a=o.duration().multipliedBy(t);return this.plusSecondsNanos(a.seconds(),a.nano())},n.plusDays=function(t){return this.plusSecondsNanos(B.safeMultiply(t,Te.SECONDS_PER_DAY),0)},n.plusHours=function(t){return this.plusSecondsNanos(B.safeMultiply(t,Te.SECONDS_PER_HOUR),0)},n.plusMinutes=function(t){return this.plusSecondsNanos(B.safeMultiply(t,Te.SECONDS_PER_MINUTE),0)},n.plusSeconds=function(t){return this.plusSecondsNanos(t,0)},n.plusMillis=function(t){return this.plusSecondsNanos(B.intDiv(t,1e3),B.intMod(t,1e3)*1e6)},n.plusNanos=function(t){return this.plusSecondsNanos(0,t)},n.plusSecondsNanos=function(t,o){if(X(t,"secondsToAdd"),X(o,"nanosToAdd"),t===0&&o===0)return this;var a=B.safeAdd(this._seconds,t);a=B.safeAdd(a,B.intDiv(o,Te.NANOS_PER_SECOND)),o=B.intMod(o,Te.NANOS_PER_SECOND);var l=B.safeAdd(this._nanos,o);return e.ofSeconds(a,l)},n.minus=function(t,o){return arguments.length===1?this.minusDuration(t):this.minusAmountUnit(t,o)},n.minusDuration=function(t){X(t,"duration");var o=t.seconds(),a=t.nano();return o===Mr?this.plus(yi,-a):this.plus(-o,-a)},n.minusAmountUnit=function(t,o){return X(t,"amountToSubtract"),X(o,"unit"),t===Mr?this.plusAmountUnit(yi,o):this.plusAmountUnit(-t,o)},n.minusDays=function(t){return t===Mr?this.plusDays(yi):this.plusDays(-t)},n.minusHours=function(t){return t===Mr?this.plusHours(yi):this.plusHours(-t)},n.minusMinutes=function(t){return t===Mr?this.plusMinutes(yi):this.plusMinutes(-t)},n.minusSeconds=function(t){return t===Mr?this.plusSeconds(yi):this.plusSeconds(-t)},n.minusMillis=function(t){return t===Mr?this.plusMillis(yi):this.plusMillis(-t)},n.minusNanos=function(t){return t===Mr?this.plusNanos(yi):this.plusNanos(-t)},n.multipliedBy=function(t){if(t===0)return e.ZERO;if(t===1)return this;var o=B.safeMultiply(this._seconds,t),a=B.safeMultiply(this._nanos,t);return o=o+B.intDiv(a,Te.NANOS_PER_SECOND),a=B.intMod(a,Te.NANOS_PER_SECOND),e.ofSeconds(o,a)},n.dividedBy=function(t){if(t===0)throw new Xr("Cannot divide by zero");if(t===1)return this;var o=B.intDiv(this._seconds,t),a=B.roundDown((this._seconds/t-o)*Te.NANOS_PER_SECOND),l=B.intDiv(this._nanos,t);return l=a+l,e.ofSeconds(o,l)},n.negated=function(){return this.multipliedBy(-1)},n.abs=function(){return this.isNegative()?this.negated():this},n.addTo=function(t){return X(t,"temporal"),this._seconds!==0&&(t=t.plus(this._seconds,W.SECONDS)),this._nanos!==0&&(t=t.plus(this._nanos,W.NANOS)),t},n.subtractFrom=function(t){return X(t,"temporal"),this._seconds!==0&&(t=t.minus(this._seconds,W.SECONDS)),this._nanos!==0&&(t=t.minus(this._nanos,W.NANOS)),t},n.toDays=function(){return B.intDiv(this._seconds,Te.SECONDS_PER_DAY)},n.toHours=function(){return B.intDiv(this._seconds,Te.SECONDS_PER_HOUR)},n.toMinutes=function(){return B.intDiv(this._seconds,Te.SECONDS_PER_MINUTE)},n.toMillis=function(){var t=Math.round(B.safeMultiply(this._seconds,1e3));return t=B.safeAdd(t,B.intDiv(this._nanos,1e6)),t},n.toNanos=function(){var t=B.safeMultiply(this._seconds,Te.NANOS_PER_SECOND);return t=B.safeAdd(t,this._nanos),t},n.compareTo=function(t){X(t,"otherDuration"),st(t,e,"otherDuration");var o=B.compareNumbers(this._seconds,t.seconds());return o!==0?o:this._nanos-t.nano()},n.equals=function(t){return this===t?!0:t instanceof e?this.seconds()===t.seconds()&&this.nano()===t.nano():!1},n.toString=function(){if(this===e.ZERO)return"PT0S";var t=B.intDiv(this._seconds,Te.SECONDS_PER_HOUR),o=B.intDiv(B.intMod(this._seconds,Te.SECONDS_PER_HOUR),Te.SECONDS_PER_MINUTE),a=B.intMod(this._seconds,Te.SECONDS_PER_MINUTE),l="PT";if(t!==0&&(l+=t+"H"),o!==0&&(l+=o+"M"),a===0&&this._nanos===0&&l.length>2)return l;if(a<0&&this._nanos>0?a===-1?l+="-0":l+=a+1:l+=a,this._nanos>0){l+=".";var c;for(a<0?c=""+(2*Te.NANOS_PER_SECOND-this._nanos):c=""+(Te.NANOS_PER_SECOND+this._nanos),c=c.slice(1,c.length),l+=c;l.charAt(l.length-1)==="0";)l=l.slice(0,l.length-1)}return l+="S",l},n.toJSON=function(){return this.toString()},e})(vs);function Fj(){_n.ZERO=new _n(0,0)}/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */var ur=function(){};function Bj(){ur.MIN_VALUE=-999999,ur.MAX_VALUE=999999}var W=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._name=r,o._duration=t,o}var n=e.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return this.isDateBased()||this===e.FOREVER},n.isDateBased=function(){return this.compareTo(e.DAYS)>=0&&this!==e.FOREVER},n.isTimeBased=function(){return this.compareTo(e.DAYS)<0},n.isSupportedBy=function(t){if(this===e.FOREVER)return!1;try{return t.plus(1,this),!0}catch{try{return t.plus(-1,this),!0}catch{return!1}}},n.addTo=function(t,o){return t.plus(o,this)},n.between=function(t,o){return t.until(o,this)},n.toString=function(){return this._name},n.compareTo=function(t){return this.duration().compareTo(t.duration())},e})(Ki);function Hj(){W.NANOS=new W("Nanos",_n.ofNanos(1)),W.MICROS=new W("Micros",_n.ofNanos(1e3)),W.MILLIS=new W("Millis",_n.ofNanos(1e6)),W.SECONDS=new W("Seconds",_n.ofSeconds(1)),W.MINUTES=new W("Minutes",_n.ofSeconds(60)),W.HOURS=new W("Hours",_n.ofSeconds(3600)),W.HALF_DAYS=new W("HalfDays",_n.ofSeconds(43200)),W.DAYS=new W("Days",_n.ofSeconds(86400)),W.WEEKS=new W("Weeks",_n.ofSeconds(7*86400)),W.MONTHS=new W("Months",_n.ofSeconds(31556952/12)),W.YEARS=new W("Years",_n.ofSeconds(31556952)),W.DECADES=new W("Decades",_n.ofSeconds(31556952*10)),W.CENTURIES=new W("Centuries",_n.ofSeconds(31556952*100)),W.MILLENNIA=new W("Millennia",_n.ofSeconds(31556952*1e3)),W.ERAS=new W("Eras",_n.ofSeconds(31556952*(ur.MAX_VALUE+1))),W.FOREVER=new W("Forever",_n.ofSeconds(B.MAX_SAFE_INTEGER,999999999))}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var wi=(function(){function i(){}var e=i.prototype;return e.isDateBased=function(){ft("isDateBased")},e.isTimeBased=function(){ft("isTimeBased")},e.baseUnit=function(){ft("baseUnit")},e.rangeUnit=function(){ft("rangeUnit")},e.range=function(){ft("range")},e.rangeRefinedBy=function(r){ft("rangeRefinedBy")},e.getFrom=function(r){ft("getFrom")},e.adjustInto=function(r,t){ft("adjustInto")},e.isSupportedBy=function(r){ft("isSupportedBy")},e.displayName=function(){ft("displayName")},e.equals=function(r){ft("equals")},e.name=function(){ft("name")},i})();/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var _t=(function(){function i(n,r,t,o){Jt(!(n>r),"Smallest minimum value '"+n+"' must be less than largest minimum value '"+r+"'",ot),Jt(!(t>o),"Smallest maximum value '"+t+"' must be less than largest maximum value '"+o+"'",ot),Jt(!(r>o),"Minimum value '"+r+"' must be less than maximum value '"+o+"'",ot),this._minSmallest=n,this._minLargest=r,this._maxLargest=o,this._maxSmallest=t}var e=i.prototype;return e.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},e.minimum=function(){return this._minSmallest},e.largestMinimum=function(){return this._minLargest},e.maximum=function(){return this._maxLargest},e.smallestMaximum=function(){return this._maxSmallest},e.isValidValue=function(r){return this.minimum()<=r&&r<=this.maximum()},e.checkValidValue=function(r,t){var o;return this.isValidValue(r)?r:(t!=null?o="Invalid value for "+t+" (valid values "+this.toString()+"): "+r:o="Invalid value (valid values "+this.toString()+"): "+r,Jt(!1,o,Ze))},e.checkValidIntValue=function(r,t){if(this.isValidIntValue(r)===!1)throw new Ze("Invalid int value for "+t+": "+r);return r},e.isValidIntValue=function(r){return this.isIntValue()&&this.isValidValue(r)},e.isIntValue=function(){return this.minimum()>=B.MIN_SAFE_INTEGER&&this.maximum()<=B.MAX_SAFE_INTEGER},e.equals=function(r){return r===this?!0:r instanceof i?this._minSmallest===r._minSmallest&&this._minLargest===r._minLargest&&this._maxSmallest===r._maxSmallest&&this._maxLargest===r._maxLargest:!1},e.hashCode=function(){return B.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},e.toString=function(){var r=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return r+=" - ",r+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""),r},i.of=function(){return arguments.length===2?new i(arguments[0],arguments[0],arguments[1],arguments[1]):arguments.length===3?new i(arguments[0],arguments[0],arguments[1],arguments[2]):arguments.length===4?new i(arguments[0],arguments[1],arguments[2],arguments[3]):Jt(!1,"Invalid number of arguments "+arguments.length,ot)},i})(),O=(function(i){vt(e,i),e.byName=function(t){for(var o in e)if(e[o]&&e[o]instanceof e&&e[o].name()===t)return e[o]};function e(r,t,o,a){var l;return l=i.call(this)||this,l._name=r,l._baseUnit=t,l._rangeUnit=o,l._range=a,l}var n=e.prototype;return n.name=function(){return this._name},n.baseUnit=function(){return this._baseUnit},n.rangeUnit=function(){return this._rangeUnit},n.range=function(){return this._range},n.displayName=function(){return this.toString()},n.checkValidValue=function(t){return this.range().checkValidValue(t,this)},n.checkValidIntValue=function(t){return this.range().checkValidIntValue(t,this)},n.isDateBased=function(){var t=this===e.DAY_OF_WEEK||this===e.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===e.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===e.DAY_OF_MONTH||this===e.DAY_OF_YEAR||this===e.EPOCH_DAY||this===e.ALIGNED_WEEK_OF_MONTH||this===e.ALIGNED_WEEK_OF_YEAR||this===e.MONTH_OF_YEAR||this===e.PROLEPTIC_MONTH||this===e.YEAR_OF_ERA||this===e.YEAR||this===e.ERA;return t},n.isTimeBased=function(){var t=this===e.NANO_OF_SECOND||this===e.NANO_OF_DAY||this===e.MICRO_OF_SECOND||this===e.MICRO_OF_DAY||this===e.MILLI_OF_SECOND||this===e.MILLI_OF_DAY||this===e.SECOND_OF_MINUTE||this===e.SECOND_OF_DAY||this===e.MINUTE_OF_HOUR||this===e.MINUTE_OF_DAY||this===e.HOUR_OF_AMPM||this===e.CLOCK_HOUR_OF_AMPM||this===e.HOUR_OF_DAY||this===e.CLOCK_HOUR_OF_DAY||this===e.AMPM_OF_DAY;return t},n.rangeRefinedBy=function(t){return t.range(this)},n.getFrom=function(t){return t.getLong(this)},n.toString=function(){return this.name()},n.equals=function(t){return this===t},n.adjustInto=function(t,o){return t.with(this,o)},n.isSupportedBy=function(t){return t.isSupported(this)},e})(wi);function qj(){O.NANO_OF_SECOND=new O("NanoOfSecond",W.NANOS,W.SECONDS,_t.of(0,999999999)),O.NANO_OF_DAY=new O("NanoOfDay",W.NANOS,W.DAYS,_t.of(0,86400*1e9-1)),O.MICRO_OF_SECOND=new O("MicroOfSecond",W.MICROS,W.SECONDS,_t.of(0,999999)),O.MICRO_OF_DAY=new O("MicroOfDay",W.MICROS,W.DAYS,_t.of(0,86400*1e6-1)),O.MILLI_OF_SECOND=new O("MilliOfSecond",W.MILLIS,W.SECONDS,_t.of(0,999)),O.MILLI_OF_DAY=new O("MilliOfDay",W.MILLIS,W.DAYS,_t.of(0,86400*1e3-1)),O.SECOND_OF_MINUTE=new O("SecondOfMinute",W.SECONDS,W.MINUTES,_t.of(0,59)),O.SECOND_OF_DAY=new O("SecondOfDay",W.SECONDS,W.DAYS,_t.of(0,86399)),O.MINUTE_OF_HOUR=new O("MinuteOfHour",W.MINUTES,W.HOURS,_t.of(0,59)),O.MINUTE_OF_DAY=new O("MinuteOfDay",W.MINUTES,W.DAYS,_t.of(0,1439)),O.HOUR_OF_AMPM=new O("HourOfAmPm",W.HOURS,W.HALF_DAYS,_t.of(0,11)),O.CLOCK_HOUR_OF_AMPM=new O("ClockHourOfAmPm",W.HOURS,W.HALF_DAYS,_t.of(1,12)),O.HOUR_OF_DAY=new O("HourOfDay",W.HOURS,W.DAYS,_t.of(0,23)),O.CLOCK_HOUR_OF_DAY=new O("ClockHourOfDay",W.HOURS,W.DAYS,_t.of(1,24)),O.AMPM_OF_DAY=new O("AmPmOfDay",W.HALF_DAYS,W.DAYS,_t.of(0,1)),O.DAY_OF_WEEK=new O("DayOfWeek",W.DAYS,W.WEEKS,_t.of(1,7)),O.ALIGNED_DAY_OF_WEEK_IN_MONTH=new O("AlignedDayOfWeekInMonth",W.DAYS,W.WEEKS,_t.of(1,7)),O.ALIGNED_DAY_OF_WEEK_IN_YEAR=new O("AlignedDayOfWeekInYear",W.DAYS,W.WEEKS,_t.of(1,7)),O.DAY_OF_MONTH=new O("DayOfMonth",W.DAYS,W.MONTHS,_t.of(1,28,31),"day"),O.DAY_OF_YEAR=new O("DayOfYear",W.DAYS,W.YEARS,_t.of(1,365,366)),O.EPOCH_DAY=new O("EpochDay",W.DAYS,W.FOREVER,_t.of(-365961662,364522971)),O.ALIGNED_WEEK_OF_MONTH=new O("AlignedWeekOfMonth",W.WEEKS,W.MONTHS,_t.of(1,4,5)),O.ALIGNED_WEEK_OF_YEAR=new O("AlignedWeekOfYear",W.WEEKS,W.YEARS,_t.of(1,53)),O.MONTH_OF_YEAR=new O("MonthOfYear",W.MONTHS,W.YEARS,_t.of(1,12),"month"),O.PROLEPTIC_MONTH=new O("ProlepticMonth",W.MONTHS,W.FOREVER,_t.of(ur.MIN_VALUE*12,ur.MAX_VALUE*12+11)),O.YEAR_OF_ERA=new O("YearOfEra",W.YEARS,W.FOREVER,_t.of(1,ur.MAX_VALUE,ur.MAX_VALUE+1)),O.YEAR=new O("Year",W.YEARS,W.FOREVER,_t.of(ur.MIN_VALUE,ur.MAX_VALUE),"year"),O.ERA=new O("Era",W.ERAS,W.FOREVER,_t.of(0,1)),O.INSTANT_SECONDS=new O("InstantSeconds",W.SECONDS,W.FOREVER,_t.of(Mr,yi)),O.OFFSET_SECONDS=new O("OffsetSeconds",W.SECONDS,W.FOREVER,_t.of(-18*3600,18*3600))}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var qe=(function(){function i(){}return i.zoneId=function(){return i.ZONE_ID},i.chronology=function(){return i.CHRONO},i.precision=function(){return i.PRECISION},i.zone=function(){return i.ZONE},i.offset=function(){return i.OFFSET},i.localDate=function(){return i.LOCAL_DATE},i.localTime=function(){return i.LOCAL_TIME},i})();/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Oo=(function(){function i(){}var e=i.prototype;return e.query=function(r){return r===qe.zoneId()||r===qe.chronology()||r===qe.precision()?null:r.queryFrom(this)},e.get=function(r){return this.range(r).checkValidIntValue(this.getLong(r),r)},e.getLong=function(r){ft("getLong")},e.range=function(r){if(r instanceof O){if(this.isSupported(r))return r.range();throw new At("Unsupported field: "+r)}return r.rangeRefinedBy(this)},e.isSupported=function(r){ft("isSupported")},i})(),zl=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.queryFrom=function(t){ft("queryFrom")},e})(Gl);function Dn(i,e){var n=(function(r){vt(t,r);function t(){return r.apply(this,arguments)||this}return t})(zl);return n.prototype.queryFrom=e,new n(i)}var tn=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._ordinal=r,o._name=t,o}var n=e.prototype;return n.ordinal=function(){return this._ordinal},n.name=function(){return this._name},e.values=function(){return ll.slice()},e.valueOf=function(t){var o=0;for(o;o<ll.length&&ll[o].name()!==t;o++);return e.of(o+1)},e.of=function(t){if(t<1||t>7)throw new Ze("Invalid value for DayOfWeek: "+t);return ll[t-1]},e.from=function(t){if(Jt(t!=null,"temporal",zi),t instanceof e)return t;try{return e.of(t.get(O.DAY_OF_WEEK))}catch(o){throw o instanceof Ze?new Ze("Unable to obtain DayOfWeek from TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""),o):o}},n.value=function(){return this._ordinal+1},n.displayName=function(t,o){throw new ot("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return t instanceof O?t===O.DAY_OF_WEEK:t!=null&&t.isSupportedBy(this)},n.range=function(t){if(t===O.DAY_OF_WEEK)return t.range();if(t instanceof O)throw new At("Unsupported field: "+t);return t.rangeRefinedBy(this)},n.get=function(t){return t===O.DAY_OF_WEEK?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===O.DAY_OF_WEEK)return this.value();if(t instanceof O)throw new At("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var o=B.floorMod(t,7);return ll[B.floorMod(this._ordinal+(o+7),7)]},n.minus=function(t){return this.plus(-1*B.floorMod(t,7))},n.query=function(t){return t===qe.precision()?W.DAYS:t===qe.localDate()||t===qe.localTime()||t===qe.chronology()||t===qe.zone()||t===qe.zoneId()||t===qe.offset()?null:(Jt(t!=null,"query",zi),t.queryFrom(this))},n.adjustInto=function(t){return X(t,"temporal"),t.with(O.DAY_OF_WEEK,this.value())},n.equals=function(t){return this===t},n.toString=function(){return this._name},n.compareTo=function(t){return X(t,"other"),st(t,e,"other"),this._ordinal-t._ordinal},n.toJSON=function(){return this.toString()},e})(Oo),ll;function Vj(){tn.MONDAY=new tn(0,"MONDAY"),tn.TUESDAY=new tn(1,"TUESDAY"),tn.WEDNESDAY=new tn(2,"WEDNESDAY"),tn.THURSDAY=new tn(3,"THURSDAY"),tn.FRIDAY=new tn(4,"FRIDAY"),tn.SATURDAY=new tn(5,"SATURDAY"),tn.SUNDAY=new tn(6,"SUNDAY"),tn.FROM=Dn("DayOfWeek.FROM",function(i){return tn.from(i)}),ll=[tn.MONDAY,tn.TUESDAY,tn.WEDNESDAY,tn.THURSDAY,tn.FRIDAY,tn.SATURDAY,tn.SUNDAY]}var dt=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._value=B.safeToInt(r),o._name=t,o}var n=e.prototype;return n.value=function(){return this._value},n.ordinal=function(){return this._value-1},n.name=function(){return this._name},n.displayName=function(t,o){throw new ot("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return t===null?!1:t instanceof O?t===O.MONTH_OF_YEAR:t!=null&&t.isSupportedBy(this)},n.get=function(t){return t===O.MONTH_OF_YEAR?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===O.MONTH_OF_YEAR)return this.value();if(t instanceof O)throw new At("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var o=B.intMod(t,12)+12,a=B.intMod(this.value()+o,12);return a=a===0?12:a,e.of(a)},n.minus=function(t){return this.plus(-1*B.intMod(t,12))},n.length=function(t){switch(this){case e.FEBRUARY:return t?29:28;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.minLength=function(){switch(this){case e.FEBRUARY:return 28;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.maxLength=function(){switch(this){case e.FEBRUARY:return 29;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.firstDayOfYear=function(t){var o=t?1:0;switch(this){case e.JANUARY:return 1;case e.FEBRUARY:return 32;case e.MARCH:return 60+o;case e.APRIL:return 91+o;case e.MAY:return 121+o;case e.JUNE:return 152+o;case e.JULY:return 182+o;case e.AUGUST:return 213+o;case e.SEPTEMBER:return 244+o;case e.OCTOBER:return 274+o;case e.NOVEMBER:return 305+o;case e.DECEMBER:default:return 335+o}},n.firstMonthOfQuarter=function(){switch(this){case e.JANUARY:case e.FEBRUARY:case e.MARCH:return e.JANUARY;case e.APRIL:case e.MAY:case e.JUNE:return e.APRIL;case e.JULY:case e.AUGUST:case e.SEPTEMBER:return e.JULY;case e.OCTOBER:case e.NOVEMBER:case e.DECEMBER:default:return e.OCTOBER}},n.query=function(t){return Jt(t!=null,"query() parameter must not be null",Ze),t===qe.chronology()?Bt.INSTANCE:t===qe.precision()?W.MONTHS:i.prototype.query.call(this,t)},n.toString=function(){switch(this){case e.JANUARY:return"JANUARY";case e.FEBRUARY:return"FEBRUARY";case e.MARCH:return"MARCH";case e.APRIL:return"APRIL";case e.MAY:return"MAY";case e.JUNE:return"JUNE";case e.JULY:return"JULY";case e.AUGUST:return"AUGUST";case e.SEPTEMBER:return"SEPTEMBER";case e.OCTOBER:return"OCTOBER";case e.NOVEMBER:return"NOVEMBER";case e.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},n.toJSON=function(){return this.toString()},n.adjustInto=function(t){return t.with(O.MONTH_OF_YEAR,this.value())},n.compareTo=function(t){return X(t,"other"),st(t,e,"other"),this._value-t._value},n.equals=function(t){return this===t},e.valueOf=function(t){var o=0;for(o;o<uc.length&&uc[o].name()!==t;o++);return e.of(o+1)},e.values=function(){return uc.slice()},e.of=function(t){return(t<1||t>12)&&Jt(!1,"Invalid value for MonthOfYear: "+t,Ze),uc[t-1]},e.from=function(t){if(t instanceof e)return t;try{return e.of(t.get(O.MONTH_OF_YEAR))}catch(o){throw new Ze("Unable to obtain Month from TemporalAccessor: "+t+" of type "+(t&&t.constructor!=null?t.constructor.name:""),o)}},e})(Oo),uc;function Yj(){dt.JANUARY=new dt(1,"JANUARY"),dt.FEBRUARY=new dt(2,"FEBRUARY"),dt.MARCH=new dt(3,"MARCH"),dt.APRIL=new dt(4,"APRIL"),dt.MAY=new dt(5,"MAY"),dt.JUNE=new dt(6,"JUNE"),dt.JULY=new dt(7,"JULY"),dt.AUGUST=new dt(8,"AUGUST"),dt.SEPTEMBER=new dt(9,"SEPTEMBER"),dt.OCTOBER=new dt(10,"OCTOBER"),dt.NOVEMBER=new dt(11,"NOVEMBER"),dt.DECEMBER=new dt(12,"DECEMBER"),uc=[dt.JANUARY,dt.FEBRUARY,dt.MARCH,dt.APRIL,dt.MAY,dt.JUNE,dt.JULY,dt.AUGUST,dt.SEPTEMBER,dt.OCTOBER,dt.NOVEMBER,dt.DECEMBER]}var Gj=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,Hi=(function(i){vt(e,i);function e(r,t,o){var a;a=i.call(this)||this;var l=B.safeToInt(r),c=B.safeToInt(t),d=B.safeToInt(o);return l===0&&c===0&&d===0?(e.ZERO||(a._years=l,a._months=c,a._days=d,e.ZERO=Nc(a)),e.ZERO||Nc(a)):(a._years=l,a._months=c,a._days=d,a)}e.ofYears=function(t){return e.create(t,0,0)},e.ofMonths=function(t){return e.create(0,t,0)},e.ofWeeks=function(t){return e.create(0,0,B.safeMultiply(t,7))},e.ofDays=function(t){return e.create(0,0,t)},e.of=function(t,o,a){return e.create(t,o,a)},e.from=function(t){if(t instanceof e)return t;X(t,"amount");for(var o=0,a=0,l=0,c=t.units(),d=0;d<c.length;d++){var f=c[d],p=t.get(f);if(f===W.YEARS)o=B.safeToInt(p);else if(f===W.MONTHS)a=B.safeToInt(p);else if(f===W.DAYS)l=B.safeToInt(p);else throw new Ze("Unit must be Years, Months or Days, but was "+f)}return e.create(o,a,l)},e.between=function(t,o){return X(t,"startDate"),X(o,"endDate"),st(t,at,"startDate"),st(o,at,"endDate"),t.until(o)},e.parse=function(t){X(t,"text");try{return e._parse(t)}catch(o){throw o instanceof Xr?new ei("Text cannot be parsed to a Period",t,0,o):o}},e._parse=function(t){var o=Gj.exec(t);if(o!=null){var a=o[1]==="-"?-1:1,l=o[2],c=o[3],d=o[4],f=o[5];if(l!=null||c!=null||d!=null||f!=null){var p=e._parseNumber(t,l,a),m=e._parseNumber(t,c,a),y=e._parseNumber(t,d,a),E=e._parseNumber(t,f,a);return E=B.safeAdd(E,B.safeMultiply(y,7)),e.create(p,m,E)}}throw new ei("Text cannot be parsed to a Period",t,0)},e._parseNumber=function(t,o,a){if(o==null)return 0;var l=B.parseInt(o);return B.safeMultiply(l,a)},e.create=function(t,o,a){return new e(t,o,a)};var n=e.prototype;return n.units=function(){return[W.YEARS,W.MONTHS,W.DAYS]},n.chronology=function(){return Bt.INSTANCE},n.get=function(t){if(t===W.YEARS)return this._years;if(t===W.MONTHS)return this._months;if(t===W.DAYS)return this._days;throw new At("Unsupported unit: "+t)},n.isZero=function(){return this===e.ZERO},n.isNegative=function(){return this._years<0||this._months<0||this._days<0},n.years=function(){return this._years},n.months=function(){return this._months},n.days=function(){return this._days},n.withYears=function(t){return t===this._years?this:e.create(t,this._months,this._days)},n.withMonths=function(t){return t===this._months?this:e.create(this._years,t,this._days)},n.withDays=function(t){return t===this._days?this:e.create(this._years,this._months,t)},n.plus=function(t){var o=e.from(t);return e.create(B.safeAdd(this._years,o._years),B.safeAdd(this._months,o._months),B.safeAdd(this._days,o._days))},n.plusYears=function(t){return t===0?this:e.create(B.safeToInt(B.safeAdd(this._years,t)),this._months,this._days)},n.plusMonths=function(t){return t===0?this:e.create(this._years,B.safeToInt(B.safeAdd(this._months,t)),this._days)},n.plusDays=function(t){return t===0?this:e.create(this._years,this._months,B.safeToInt(B.safeAdd(this._days,t)))},n.minus=function(t){var o=e.from(t);return e.create(B.safeSubtract(this._years,o._years),B.safeSubtract(this._months,o._months),B.safeSubtract(this._days,o._days))},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.multipliedBy=function(t){return this===e.ZERO||t===1?this:e.create(B.safeMultiply(this._years,t),B.safeMultiply(this._months,t),B.safeMultiply(this._days,t))},n.negated=function(){return this.multipliedBy(-1)},n.normalized=function(){var t=this.toTotalMonths(),o=B.intDiv(t,12),a=B.intMod(t,12);return o===this._years&&a===this._months?this:e.create(B.safeToInt(o),a,this._days)},n.toTotalMonths=function(){return this._years*12+this._months},n.addTo=function(t){return X(t,"temporal"),this._years!==0?this._months!==0?t=t.plus(this.toTotalMonths(),W.MONTHS):t=t.plus(this._years,W.YEARS):this._months!==0&&(t=t.plus(this._months,W.MONTHS)),this._days!==0&&(t=t.plus(this._days,W.DAYS)),t},n.subtractFrom=function(t){return X(t,"temporal"),this._years!==0?this._months!==0?t=t.minus(this.toTotalMonths(),W.MONTHS):t=t.minus(this._years,W.YEARS):this._months!==0&&(t=t.minus(this._months,W.MONTHS)),this._days!==0&&(t=t.minus(this._days,W.DAYS)),t},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var o=t;return this._years===o._years&&this._months===o._months&&this._days===o._days}return!1},n.hashCode=function(){return B.hashCode(this._years,this._months,this._days)},n.toString=function(){if(this===e.ZERO)return"P0D";var t="P";return this._years!==0&&(t+=this._years+"Y"),this._months!==0&&(t+=this._months+"M"),this._days!==0&&(t+=this._days+"D"),t},n.toJSON=function(){return this.toString()},e})(vs);function zj(){Hi.ofDays(0)}/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var PT=(function(){function i(n){this._index=n,this._errorIndex=-1}var e=i.prototype;return e.getIndex=function(){return this._index},e.setIndex=function(r){this._index=r},e.getErrorIndex=function(){return this._errorIndex},e.setErrorIndex=function(r){this._errorIndex=r},i})();/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var dL=(function(){function i(){this._map={}}var e=i.prototype;return e.putAll=function(r){for(var t in r._map)this._map[t]=r._map[t];return this},e.containsKey=function(r){return this._map.hasOwnProperty(r.name())&&this.get(r)!==void 0},e.get=function(r){return this._map[r.name()]},e.put=function(r,t){return this.set(r,t)},e.set=function(r,t){return this._map[r.name()]=t,this},e.retainAll=function(r){for(var t={},o=0;o<r.length;o++){var a=r[o].name();t[a]=this._map[a]}return this._map=t,this},e.remove=function(r){var t=r.name(),o=this._map[t];return this._map[t]=void 0,o},e.keySet=function(){return this._map},e.clear=function(){this._map={}},i})(),yt=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}return e})(Gl);yt.STRICT=new yt("STRICT");yt.SMART=new yt("SMART");yt.LENIENT=new yt("LENIENT");var cr=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.isSupported=function(t){ft("isSupported")},n.minus=function(t,o){return arguments.length<2?this._minusAmount(t):this._minusUnit(t,o)},n._minusAmount=function(t){return X(t,"amount"),st(t,vs,"amount"),t.subtractFrom(this)},n._minusUnit=function(t,o){return X(t,"amountToSubtract"),X(o,"unit"),st(o,Ki,"unit"),this._plusUnit(-t,o)},n.plus=function(t,o){return arguments.length<2?this._plusAmount(t):this._plusUnit(t,o)},n._plusAmount=function(t){return X(t,"amount"),st(t,vs,"amount"),t.addTo(this)},n._plusUnit=function(t,o){ft("_plusUnit")},n.until=function(t,o){ft("until")},n.with=function(t,o){return arguments.length<2?this._withAdjuster(t):this._withField(t,o)},n._withAdjuster=function(t){return X(t,"adjuster"),Jt(typeof t.adjustInto=="function","adjuster must be a TemporalAdjuster",ot),t.adjustInto(this)},n._withField=function(t,o){ft("_withField")},e})(Oo);typeof Symbol<"u"&&Symbol.toPrimitive&&(cr.prototype[Symbol.toPrimitive]=function(i){if(i!=="number")return this.toString();throw new TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var Rl=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.isSupported=function(t){return t instanceof O||t instanceof W?t.isDateBased():t!=null&&t.isSupportedBy(this)},n.query=function(t){return t===qe.chronology()?this.chronology():t===qe.precision()?W.DAYS:t===qe.localDate()?at.ofEpochDay(this.toEpochDay()):t===qe.localTime()||t===qe.zone()||t===qe.zoneId()||t===qe.offset()?null:i.prototype.query.call(this,t)},n.adjustInto=function(t){return t.with(O.EPOCH_DAY,this.toEpochDay())},n.format=function(t){return X(t,"formatter"),st(t,wt,"formatter"),t.format(this)},e})(cr);/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Ui=(function(){function i(){}return i.startsWith=function(n,r){return n.indexOf(r)===0},i.hashCode=function(n){var r=n.length;if(r===0)return 0;for(var t=0,o=0;o<r;o++){var a=n.charCodeAt(o);t=(t<<5)-t+a,t|=0}return B.smi(t)},i})();/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Ht=(function(){function i(){}i.systemDefault=function(){throw new Ze("not supported operation")},i.getAvailableZoneIds=function(){throw new Ze("not supported operation")},i.of=function(r){throw new Ze("not supported operation"+r)},i.ofOffset=function(r,t){throw new Ze("not supported operation"+r+t)},i.from=function(r){throw new Ze("not supported operation"+r)};var e=i.prototype;return e.id=function(){ft("ZoneId.id")},e.rules=function(){ft("ZoneId.rules")},e.normalized=function(){var r=this.rules();return r.isFixedOffset()?r.offset(nn.EPOCH):this},e.equals=function(r){return this===r?!0:r instanceof i?this.id()===r.id():!1},e.hashCode=function(){return Ui.hashCode(this.id())},e.toString=function(){return this.id()},e.toJSON=function(){return this.toString()},i})(),Hc=(function(){function i(){}i.of=function(r){return X(r,"offset"),new Kj(r)};var e=i.prototype;return e.isFixedOffset=function(){ft("ZoneRules.isFixedOffset")},e.offset=function(r){return r instanceof nn?this.offsetOfInstant(r):this.offsetOfLocalDateTime(r)},e.offsetOfInstant=function(r){ft("ZoneRules.offsetInstant")},e.offsetOfEpochMilli=function(r){ft("ZoneRules.offsetOfEpochMilli")},e.offsetOfLocalDateTime=function(r){ft("ZoneRules.offsetLocalDateTime")},e.validOffsets=function(r){ft("ZoneRules.validOffsets")},e.transition=function(r){ft("ZoneRules.transition")},e.standardOffset=function(r){ft("ZoneRules.standardOffset")},e.daylightSavings=function(r){ft("ZoneRules.daylightSavings")},e.isDaylightSavings=function(r){ft("ZoneRules.isDaylightSavings")},e.isValidOffset=function(r,t){ft("ZoneRules.isValidOffset")},e.nextTransition=function(r){ft("ZoneRules.nextTransition")},e.previousTransition=function(r){ft("ZoneRules.previousTransition")},e.transitions=function(){ft("ZoneRules.transitions")},e.transitionRules=function(){ft("ZoneRules.transitionRules")},e.toString=function(){ft("ZoneRules.toString")},e.toJSON=function(){return this.toString()},i})(),Kj=(function(i){vt(e,i);function e(r){var t;return t=i.call(this)||this,t._offset=r,t}var n=e.prototype;return n.isFixedOffset=function(){return!0},n.offsetOfInstant=function(){return this._offset},n.offsetOfEpochMilli=function(){return this._offset},n.offsetOfLocalDateTime=function(){return this._offset},n.validOffsets=function(){return[this._offset]},n.transition=function(){return null},n.standardOffset=function(){return this._offset},n.daylightSavings=function(){return _n.ZERO},n.isDaylightSavings=function(){return!1},n.isValidOffset=function(t,o){return this._offset.equals(o)},n.nextTransition=function(){return null},n.previousTransition=function(){return null},n.transitions=function(){return[]},n.transitionRules=function(){return[]},n.equals=function(t){return this===t?!0:t instanceof e?this._offset.equals(t._offset):!1},n.toString=function(){return"FixedRules:"+this._offset.toString()},e})(Hc),JR={},QR={},pt=(function(i){vt(e,i);function e(r){var t;return t=i.call(this)||this,e._validateTotalSeconds(r),t._totalSeconds=B.safeToInt(r),t._rules=Hc.of(Nc(t)),t._id=e._buildId(r),t}var n=e.prototype;return n.totalSeconds=function(){return this._totalSeconds},n.id=function(){return this._id},e._buildId=function(t){if(t===0)return"Z";var o=Math.abs(t),a=B.intDiv(o,Te.SECONDS_PER_HOUR),l=B.intMod(B.intDiv(o,Te.SECONDS_PER_MINUTE),Te.MINUTES_PER_HOUR),c=(t<0?"-":"+")+(a<10?"0":"")+a+(l<10?":0":":")+l,d=B.intMod(o,Te.SECONDS_PER_MINUTE);return d!==0&&(c+=(d<10?":0":":")+d),c},e._validateTotalSeconds=function(t){if(Math.abs(t)>e.MAX_SECONDS)throw new Ze("Zone offset not in valid range: -18:00 to +18:00")},e._validate=function(t,o,a){if(t<-18||t>18)throw new Ze("Zone offset hours not in valid range: value "+t+" is not in the range -18 to 18");if(t>0){if(o<0||a<0)throw new Ze("Zone offset minutes and seconds must be positive because hours is positive")}else if(t<0){if(o>0||a>0)throw new Ze("Zone offset minutes and seconds must be negative because hours is negative")}else if(o>0&&a<0||o<0&&a>0)throw new Ze("Zone offset minutes and seconds must have the same sign");if(Math.abs(o)>59)throw new Ze("Zone offset minutes not in valid range: abs(value) "+Math.abs(o)+" is not in the range 0 to 59");if(Math.abs(a)>59)throw new Ze("Zone offset seconds not in valid range: abs(value) "+Math.abs(a)+" is not in the range 0 to 59");if(Math.abs(t)===18&&(Math.abs(o)>0||Math.abs(a)>0))throw new Ze("Zone offset not in valid range: -18:00 to +18:00")},e.of=function(t){X(t,"offsetId");var o=QR[t];if(o!=null)return o;var a,l,c;switch(t.length){case 2:t=t[0]+"0"+t[1];case 3:a=e._parseNumber(t,1,!1),l=0,c=0;break;case 5:a=e._parseNumber(t,1,!1),l=e._parseNumber(t,3,!1),c=0;break;case 6:a=e._parseNumber(t,1,!1),l=e._parseNumber(t,4,!0),c=0;break;case 7:a=e._parseNumber(t,1,!1),l=e._parseNumber(t,3,!1),c=e._parseNumber(t,5,!1);break;case 9:a=e._parseNumber(t,1,!1),l=e._parseNumber(t,4,!0),c=e._parseNumber(t,7,!0);break;default:throw new Ze("Invalid ID for ZoneOffset, invalid format: "+t)}var d=t[0];if(d!=="+"&&d!=="-")throw new Ze("Invalid ID for ZoneOffset, plus/minus not found when expected: "+t);return d==="-"?e.ofHoursMinutesSeconds(-a,-l,-c):e.ofHoursMinutesSeconds(a,l,c)},e._parseNumber=function(t,o,a){if(a&&t[o-1]!==":")throw new Ze("Invalid ID for ZoneOffset, colon not found when expected: "+t);var l=t[o],c=t[o+1];if(l<"0"||l>"9"||c<"0"||c>"9")throw new Ze("Invalid ID for ZoneOffset, non numeric characters found: "+t);return(l.charCodeAt(0)-48)*10+(c.charCodeAt(0)-48)},e.ofHours=function(t){return e.ofHoursMinutesSeconds(t,0,0)},e.ofHoursMinutes=function(t,o){return e.ofHoursMinutesSeconds(t,o,0)},e.ofHoursMinutesSeconds=function(t,o,a){e._validate(t,o,a);var l=t*Te.SECONDS_PER_HOUR+o*Te.SECONDS_PER_MINUTE+a;return e.ofTotalSeconds(l)},e.ofTotalMinutes=function(t){var o=t*Te.SECONDS_PER_MINUTE;return e.ofTotalSeconds(o)},e.ofTotalSeconds=function(t){if(t%(15*Te.SECONDS_PER_MINUTE)===0){var o=t,a=JR[o];return a==null&&(a=new e(t),JR[o]=a,QR[a.id()]=a),a}else return new e(t)},n.rules=function(){return this._rules},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t===O.OFFSET_SECONDS)return this._totalSeconds;if(t instanceof O)throw new Ze("Unsupported field: "+t);return t.getFrom(this)},n.query=function(t){return X(t,"query"),t===qe.offset()||t===qe.zone()?this:t===qe.localDate()||t===qe.localTime()||t===qe.precision()||t===qe.chronology()||t===qe.zoneId()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(O.OFFSET_SECONDS,this._totalSeconds)},n.compareTo=function(t){return X(t,"other"),t._totalSeconds-this._totalSeconds},n.equals=function(t){return this===t?!0:t instanceof e?this._totalSeconds===t._totalSeconds:!1},n.hashCode=function(){return this._totalSeconds},n.toString=function(){return this._id},e})(Ht);function Wj(){pt.MAX_SECONDS=18*Te.SECONDS_PER_HOUR,pt.UTC=pt.ofTotalSeconds(0),pt.MIN=pt.ofTotalSeconds(-pt.MAX_SECONDS),pt.MAX=pt.ofTotalSeconds(pt.MAX_SECONDS)}var om=(function(i){vt(e,i),e.create=function(t,o){var a=new e;return a._addFieldValue(t,o),a};function e(){var r;return r=i.call(this)||this,r.fieldValues=new dL,r.chrono=null,r.zone=null,r.date=null,r.time=null,r.leapSecond=!1,r.excessDays=null,r}var n=e.prototype;return n.getFieldValue0=function(t){return this.fieldValues.get(t)},n._addFieldValue=function(t,o){X(t,"field");var a=this.getFieldValue0(t);if(a!=null&&a!==o)throw new Ze("Conflict found: "+t+" "+a+" differs from "+t+" "+o+": "+this);return this._putFieldValue0(t,o)},n._putFieldValue0=function(t,o){return this.fieldValues.put(t,o),this},n.resolve=function(t,o){return o!=null&&this.fieldValues.retainAll(o),this._mergeDate(t),this._mergeTime(t),this._resolveTimeInferZeroes(t),this.excessDays!=null&&this.excessDays.isZero()===!1&&this.date!=null&&this.time!=null&&(this.date=this.date.plus(this.excessDays),this.excessDays=Hi.ZERO),this._resolveInstant(),this},n._mergeDate=function(t){this._checkDate(Bt.INSTANCE.resolveDate(this.fieldValues,t))},n._checkDate=function(t){if(t!=null){this._addObject(t);for(var o in this.fieldValues.keySet()){var a=O.byName(o);if(a&&this.fieldValues.get(a)!==void 0&&a.isDateBased()){var l=void 0;try{l=t.getLong(a)}catch(d){if(d instanceof Ze)continue;throw d}var c=this.fieldValues.get(a);if(l!==c)throw new Ze("Conflict found: Field "+a+" "+l+" differs from "+a+" "+c+" derived from "+t)}}}},n._mergeTime=function(t){if(this.fieldValues.containsKey(O.CLOCK_HOUR_OF_DAY)){var o=this.fieldValues.remove(O.CLOCK_HOUR_OF_DAY);t!==yt.LENIENT&&(t===yt.SMART&&o===0||O.CLOCK_HOUR_OF_DAY.checkValidValue(o)),this._addFieldValue(O.HOUR_OF_DAY,o===24?0:o)}if(this.fieldValues.containsKey(O.CLOCK_HOUR_OF_AMPM)){var a=this.fieldValues.remove(O.CLOCK_HOUR_OF_AMPM);t!==yt.LENIENT&&(t===yt.SMART&&a===0||O.CLOCK_HOUR_OF_AMPM.checkValidValue(a)),this._addFieldValue(O.HOUR_OF_AMPM,a===12?0:a)}if(t!==yt.LENIENT&&(this.fieldValues.containsKey(O.AMPM_OF_DAY)&&O.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(O.AMPM_OF_DAY)),this.fieldValues.containsKey(O.HOUR_OF_AMPM)&&O.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(O.HOUR_OF_AMPM))),this.fieldValues.containsKey(O.AMPM_OF_DAY)&&this.fieldValues.containsKey(O.HOUR_OF_AMPM)){var l=this.fieldValues.remove(O.AMPM_OF_DAY),c=this.fieldValues.remove(O.HOUR_OF_AMPM);this._addFieldValue(O.HOUR_OF_DAY,l*12+c)}if(this.fieldValues.containsKey(O.NANO_OF_DAY)){var d=this.fieldValues.remove(O.NANO_OF_DAY);t!==yt.LENIENT&&O.NANO_OF_DAY.checkValidValue(d),this._addFieldValue(O.SECOND_OF_DAY,B.intDiv(d,1e9)),this._addFieldValue(O.NANO_OF_SECOND,B.intMod(d,1e9))}if(this.fieldValues.containsKey(O.MICRO_OF_DAY)){var f=this.fieldValues.remove(O.MICRO_OF_DAY);t!==yt.LENIENT&&O.MICRO_OF_DAY.checkValidValue(f),this._addFieldValue(O.SECOND_OF_DAY,B.intDiv(f,1e6)),this._addFieldValue(O.MICRO_OF_SECOND,B.intMod(f,1e6))}if(this.fieldValues.containsKey(O.MILLI_OF_DAY)){var p=this.fieldValues.remove(O.MILLI_OF_DAY);t!==yt.LENIENT&&O.MILLI_OF_DAY.checkValidValue(p),this._addFieldValue(O.SECOND_OF_DAY,B.intDiv(p,1e3)),this._addFieldValue(O.MILLI_OF_SECOND,B.intMod(p,1e3))}if(this.fieldValues.containsKey(O.SECOND_OF_DAY)){var m=this.fieldValues.remove(O.SECOND_OF_DAY);t!==yt.LENIENT&&O.SECOND_OF_DAY.checkValidValue(m),this._addFieldValue(O.HOUR_OF_DAY,B.intDiv(m,3600)),this._addFieldValue(O.MINUTE_OF_HOUR,B.intMod(B.intDiv(m,60),60)),this._addFieldValue(O.SECOND_OF_MINUTE,B.intMod(m,60))}if(this.fieldValues.containsKey(O.MINUTE_OF_DAY)){var y=this.fieldValues.remove(O.MINUTE_OF_DAY);t!==yt.LENIENT&&O.MINUTE_OF_DAY.checkValidValue(y),this._addFieldValue(O.HOUR_OF_DAY,B.intDiv(y,60)),this._addFieldValue(O.MINUTE_OF_HOUR,B.intMod(y,60))}if(t!==yt.LENIENT&&(this.fieldValues.containsKey(O.MILLI_OF_SECOND)&&O.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(O.MILLI_OF_SECOND)),this.fieldValues.containsKey(O.MICRO_OF_SECOND)&&O.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(O.MICRO_OF_SECOND))),this.fieldValues.containsKey(O.MILLI_OF_SECOND)&&this.fieldValues.containsKey(O.MICRO_OF_SECOND)){var E=this.fieldValues.remove(O.MILLI_OF_SECOND),T=this.fieldValues.get(O.MICRO_OF_SECOND);this._putFieldValue0(O.MICRO_OF_SECOND,E*1e3+B.intMod(T,1e3))}if(this.fieldValues.containsKey(O.MICRO_OF_SECOND)&&this.fieldValues.containsKey(O.NANO_OF_SECOND)){var C=this.fieldValues.get(O.NANO_OF_SECOND);this._putFieldValue0(O.MICRO_OF_SECOND,B.intDiv(C,1e3)),this.fieldValues.remove(O.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(O.MILLI_OF_SECOND)&&this.fieldValues.containsKey(O.NANO_OF_SECOND)){var S=this.fieldValues.get(O.NANO_OF_SECOND);this._putFieldValue0(O.MILLI_OF_SECOND,B.intDiv(S,1e6)),this.fieldValues.remove(O.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(O.MICRO_OF_SECOND)){var b=this.fieldValues.remove(O.MICRO_OF_SECOND);this._putFieldValue0(O.NANO_OF_SECOND,b*1e3)}else if(this.fieldValues.containsKey(O.MILLI_OF_SECOND)){var I=this.fieldValues.remove(O.MILLI_OF_SECOND);this._putFieldValue0(O.NANO_OF_SECOND,I*1e6)}},n._resolveTimeInferZeroes=function(t){var o=this.fieldValues.get(O.HOUR_OF_DAY),a=this.fieldValues.get(O.MINUTE_OF_HOUR),l=this.fieldValues.get(O.SECOND_OF_MINUTE),c=this.fieldValues.get(O.NANO_OF_SECOND);if(o!=null&&!(a==null&&(l!=null||c!=null))&&!(a!=null&&l==null&&c!=null)){if(t!==yt.LENIENT){if(o!=null){t===yt.SMART&&o===24&&(a==null||a===0)&&(l==null||l===0)&&(c==null||c===0)&&(o=0,this.excessDays=Hi.ofDays(1));var d=O.HOUR_OF_DAY.checkValidIntValue(o);if(a!=null){var f=O.MINUTE_OF_HOUR.checkValidIntValue(a);if(l!=null){var p=O.SECOND_OF_MINUTE.checkValidIntValue(l);if(c!=null){var m=O.NANO_OF_SECOND.checkValidIntValue(c);this._addObject(Te.of(d,f,p,m))}else this._addObject(Te.of(d,f,p))}else c==null&&this._addObject(Te.of(d,f))}else l==null&&c==null&&this._addObject(Te.of(d,0))}}else if(o!=null){var y=o;if(a!=null)if(l!=null){c==null&&(c=0);var E=B.safeMultiply(y,36e11);E=B.safeAdd(E,B.safeMultiply(a,6e10)),E=B.safeAdd(E,B.safeMultiply(l,1e9)),E=B.safeAdd(E,c);var T=B.floorDiv(E,864e11),C=B.floorMod(E,864e11);this._addObject(Te.ofNanoOfDay(C)),this.excessDays=Hi.ofDays(T)}else{var S=B.safeMultiply(y,3600);S=B.safeAdd(S,B.safeMultiply(a,60));var b=B.floorDiv(S,86400),I=B.floorMod(S,86400);this._addObject(Te.ofSecondOfDay(I)),this.excessDays=Hi.ofDays(b)}else{var N=B.safeToInt(B.floorDiv(y,24));y=B.floorMod(y,24),this._addObject(Te.of(y,0)),this.excessDays=Hi.ofDays(N)}}this.fieldValues.remove(O.HOUR_OF_DAY),this.fieldValues.remove(O.MINUTE_OF_HOUR),this.fieldValues.remove(O.SECOND_OF_MINUTE),this.fieldValues.remove(O.NANO_OF_SECOND)}},n._addObject=function(t){t instanceof Rl?this.date=t:t instanceof Te&&(this.time=t)},n._resolveInstant=function(){if(this.date!=null&&this.time!=null){var t=this.fieldValues.get(O.OFFSET_SECONDS);if(t!=null){var o=pt.ofTotalSeconds(t),a=this.date.atTime(this.time).atZone(o).getLong(O.INSTANT_SECONDS);this.fieldValues.put(O.INSTANT_SECONDS,a)}else if(this.zone!=null){var l=this.date.atTime(this.time).atZone(this.zone).getLong(O.INSTANT_SECONDS);this.fieldValues.put(O.INSTANT_SECONDS,l)}}},n.build=function(t){return t.queryFrom(this)},n.isSupported=function(t){return t==null?!1:this.fieldValues.containsKey(t)&&this.fieldValues.get(t)!==void 0||this.date!=null&&this.date.isSupported(t)||this.time!=null&&this.time.isSupported(t)},n.getLong=function(t){X(t,"field");var o=this.getFieldValue0(t);if(o==null){if(this.date!=null&&this.date.isSupported(t))return this.date.getLong(t);if(this.time!=null&&this.time.isSupported(t))return this.time.getLong(t);throw new Ze("Field not found: "+t)}return o},n.query=function(t){return t===qe.zoneId()?this.zone:t===qe.chronology()?this.chrono:t===qe.localDate()?this.date!=null?at.from(this.date):null:t===qe.localTime()?this.time:t===qe.zone()||t===qe.offset()?t.queryFrom(this):t===qe.precision()?null:t.queryFrom(this)},e})(Oo),fL=(function(){function i(){if(arguments.length===1)if(arguments[0]instanceof i){this._constructorSelf.apply(this,arguments);return}else this._constructorFormatter.apply(this,arguments);else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new XR(this)]}var e=i.prototype;return e._constructorParam=function(r,t,o){this._locale=r,this._symbols=t,this._overrideChronology=o},e._constructorFormatter=function(r){this._locale=r.locale(),this._symbols=r.decimalStyle(),this._overrideChronology=r.chronology()},e._constructorSelf=function(r){this._locale=r._locale,this._symbols=r._symbols,this._overrideChronology=r._overrideChronology,this._overrideZone=r._overrideZone,this._caseSensitive=r._caseSensitive,this._strict=r._strict,this._parsed=[new XR(this)]},e.copy=function(){return new i(this)},e.symbols=function(){return this._symbols},e.isStrict=function(){return this._strict},e.setStrict=function(r){this._strict=r},e.locale=function(){return this._locale},e.setLocale=function(r){this._locale=r},e.startOptional=function(){this._parsed.push(this.currentParsed().copy())},e.endOptional=function(r){r?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},e.isCaseSensitive=function(){return this._caseSensitive},e.setCaseSensitive=function(r){this._caseSensitive=r},e.subSequenceEquals=function(r,t,o,a,l){if(t+l>r.length||a+l>o.length)return!1;this.isCaseSensitive()||(r=r.toLowerCase(),o=o.toLowerCase());for(var c=0;c<l;c++){var d=r[t+c],f=o[a+c];if(d!==f)return!1}return!0},e.charEquals=function(r,t){return this.isCaseSensitive()?r===t:this.charEqualsIgnoreCase(r,t)},e.charEqualsIgnoreCase=function(r,t){return r===t||r.toLowerCase()===t.toLowerCase()},e.setParsedField=function(r,t,o,a){var l=this.currentParsed().fieldValues,c=l.get(r);return l.set(r,t),c!=null&&c!==t?~o:a},e.setParsedZone=function(r){X(r,"zone"),this.currentParsed().zone=r},e.getParsed=function(r){return this.currentParsed().fieldValues.get(r)},e.toParsed=function(){return this.currentParsed()},e.currentParsed=function(){return this._parsed[this._parsed.length-1]},e.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},e.getEffectiveChronology=function(){var r=this.currentParsed().chrono;return r==null&&(r=this._overrideChronology,r==null&&(r=Bt.INSTANCE)),r},i})(),XR=(function(i){vt(e,i);function e(r){var t;return t=i.call(this)||this,t.chrono=null,t.zone=null,t.fieldValues=new dL,t.leapSecond=!1,t.dateTimeParseContext=r,t}var n=e.prototype;return n.copy=function(){var t=new e;return t.chrono=this.chrono,t.zone=this.zone,t.fieldValues.putAll(this.fieldValues),t.leapSecond=this.leapSecond,t.dateTimeParseContext=this.dateTimeParseContext,t},n.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},n.isSupported=function(t){return this.fieldValues.containsKey(t)},n.get=function(t){var o=this.fieldValues.get(t);return Jt(o!=null),o},n.query=function(t){return t===qe.chronology()?this.chrono:t===qe.zoneId()||t===qe.zone()?this.zone:i.prototype.query.call(this,t)},n.toBuilder=function(){var t=new om;return t.fieldValues.putAll(this.fieldValues),t.chrono=this.dateTimeParseContext.getEffectiveChronology(),this.zone!=null?t.zone=this.zone:t.zone=this.overrideZone,t.leapSecond=this.leapSecond,t.excessDays=this.excessDays,t},e})(cr);/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var hL=(function(){function i(n,r,t){arguments.length===2&&arguments[1]instanceof wt?(this._temporal=i.adjust(n,r),this._locale=r.locale(),this._symbols=r.decimalStyle()):(this._temporal=n,this._locale=r,this._symbols=t),this._optional=0}i.adjust=function(r,t){return r};var e=i.prototype;return e.symbols=function(){return this._symbols},e.startOptional=function(){this._optional++},e.endOptional=function(){this._optional--},e.getValueQuery=function(r){var t=this._temporal.query(r);if(t==null&&this._optional===0)throw new Ze("Unable to extract value: "+this._temporal);return t},e.getValue=function(r){try{return this._temporal.getLong(r)}catch(t){if(t instanceof Ze&&this._optional>0)return null;throw t}},e.temporal=function(){return this._temporal},e.locale=function(){return this._locale},e.setDateTime=function(r){this._temporal=r},e.setLocale=function(r){this._locale=r},i})(),Qr={},$j=[0,90,181,273,0,91,182,274],Vi=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n._isIso=function(){return!0},e._getWeekRangeByLocalDate=function(t){var o=e._getWeekBasedYear(t);return _t.of(1,e._getWeekRangeByYear(o))},e._getWeekRangeByYear=function(t){var o=at.of(t,1,1);return o.dayOfWeek()===tn.THURSDAY||o.dayOfWeek()===tn.WEDNESDAY&&o.isLeapYear()?53:52},e._getWeek=function(t){var o=t.dayOfWeek().ordinal(),a=t.dayOfYear()-1,l=a+(3-o),c=B.intDiv(l,7),d=l-c*7,f=d-3;if(f<-3&&(f+=7),a<f)return e._getWeekRangeByLocalDate(t.withDayOfYear(180).minusYears(1)).maximum();var p=B.intDiv(a-f,7)+1;return p===53&&(f===-3||f===-2&&t.isLeapYear())===!1&&(p=1),p},e._getWeekBasedYear=function(t){var o=t.year(),a=t.dayOfYear();if(a<=3){var l=t.dayOfWeek().ordinal();a-l<-2&&o--}else if(a>=363){var c=t.dayOfWeek().ordinal();a=a-363-(t.isLeapYear()?1:0),a-c>=0&&o++}return o},n.displayName=function(){return this.toString()},n.resolve=function(){return null},n.name=function(){return this.toString()},e})(wi),jj=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(){return"DayOfQuarter"},n.baseUnit=function(){return W.DAYS},n.rangeUnit=function(){return Ol},n.range=function(){return _t.of(1,90,92)},n.isSupportedBy=function(t){return t.isSupported(O.DAY_OF_YEAR)&&t.isSupported(O.MONTH_OF_YEAR)&&t.isSupported(O.YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: DayOfQuarter");var o=t.getLong(js);if(o===1){var a=t.getLong(O.YEAR);return Bt.isLeapYear(a)?_t.of(1,91):_t.of(1,90)}else{if(o===2)return _t.of(1,91);if(o===3||o===4)return _t.of(1,92)}return this.range()},n.getFrom=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: DayOfQuarter");var o=t.get(O.DAY_OF_YEAR),a=t.get(O.MONTH_OF_YEAR),l=t.getLong(O.YEAR);return o-$j[B.intDiv(a-1,3)+(Bt.isLeapYear(l)?4:0)]},n.adjustInto=function(t,o){var a=this.getFrom(t);return this.range().checkValidValue(o,this),t.with(O.DAY_OF_YEAR,t.getLong(O.DAY_OF_YEAR)+(o-a))},n.resolve=function(t,o,a){var l=t.get(O.YEAR),c=t.get(js);if(l==null||c==null)return null;var d=O.YEAR.checkValidIntValue(l),f=t.get(Rv),p;if(a===yt.LENIENT){var m=c;p=at.of(d,1,1),p=p.plusMonths(B.safeMultiply(B.safeSubtract(m,1),3)),p=p.plusDays(B.safeSubtract(f,1))}else{var y=js.range().checkValidIntValue(c,js);if(a===yt.STRICT){var E=92;y===1?E=Bt.isLeapYear(d)?91:90:y===2&&(E=91),_t.of(1,E).checkValidValue(f,this)}else this.range().checkValidValue(f,this);p=at.of(d,(y-1)*3+1,1).plusDays(f-1)}return t.remove(this),t.remove(O.YEAR),t.remove(js),p},e})(Vi),Jj=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(){return"QuarterOfYear"},n.baseUnit=function(){return Ol},n.rangeUnit=function(){return W.YEARS},n.range=function(){return _t.of(1,4)},n.isSupportedBy=function(t){return t.isSupported(O.MONTH_OF_YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){return this.range()},n.getFrom=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: QuarterOfYear");var o=t.getLong(O.MONTH_OF_YEAR);return B.intDiv(o+2,3)},n.adjustInto=function(t,o){var a=this.getFrom(t);return this.range().checkValidValue(o,this),t.with(O.MONTH_OF_YEAR,t.getLong(O.MONTH_OF_YEAR)+(o-a)*3)},e})(Vi),Qj=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(){return"WeekOfWeekBasedYear"},n.baseUnit=function(){return W.WEEKS},n.rangeUnit=function(){return xl},n.range=function(){return _t.of(1,52,53)},n.isSupportedBy=function(t){return t.isSupported(O.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: WeekOfWeekBasedYear");return Vi._getWeekRangeByLocalDate(at.from(t))},n.getFrom=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: WeekOfWeekBasedYear");return Vi._getWeek(at.from(t))},n.adjustInto=function(t,o){return this.range().checkValidValue(o,this),t.plus(B.safeSubtract(o,this.getFrom(t)),W.WEEKS)},n.resolve=function(t,o,a){var l=t.get(Si),c=t.get(O.DAY_OF_WEEK);if(l==null||c==null)return null;var d=Si.range().checkValidIntValue(l,Si),f=t.get(xv),p;if(a===yt.LENIENT){var m=c,y=0;m>7?(y=B.intDiv(m-1,7),m=B.intMod(m-1,7)+1):m<1&&(y=B.intDiv(m,7)-1,m=B.intMod(m,7)+7),p=at.of(d,1,4).plusWeeks(f-1).plusWeeks(y).with(O.DAY_OF_WEEK,m)}else{var E=O.DAY_OF_WEEK.checkValidIntValue(c);if(a===yt.STRICT){var T=at.of(d,1,4),C=Vi._getWeekRangeByLocalDate(T);C.checkValidValue(f,this)}else this.range().checkValidValue(f,this);p=at.of(d,1,4).plusWeeks(f-1).with(O.DAY_OF_WEEK,E)}return t.remove(this),t.remove(Si),t.remove(O.DAY_OF_WEEK),p},n.displayName=function(){return"Week"},e})(Vi),Xj=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(){return"WeekBasedYear"},n.baseUnit=function(){return xl},n.rangeUnit=function(){return W.FOREVER},n.range=function(){return O.YEAR.range()},n.isSupportedBy=function(t){return t.isSupported(O.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){return O.YEAR.range()},n.getFrom=function(t){if(t.isSupported(this)===!1)throw new At("Unsupported field: WeekBasedYear");return Vi._getWeekBasedYear(at.from(t))},n.adjustInto=function(t,o){if(this.isSupportedBy(t)===!1)throw new At("Unsupported field: WeekBasedYear");var a=this.range().checkValidIntValue(o,Si),l=at.from(t),c=l.get(O.DAY_OF_WEEK),d=Vi._getWeek(l);d===53&&Vi._getWeekRangeByYear(a)===52&&(d=52);var f=at.of(a,1,4),p=c-f.get(O.DAY_OF_WEEK)+(d-1)*7;return f=f.plusDays(p),t.with(f)},e})(Vi),ZR=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._name=r,o._duration=t,o}var n=e.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return!0},n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n.isSupportedBy=function(t){return t.isSupported(O.EPOCH_DAY)},n.addTo=function(t,o){switch(this){case xl:{var a=B.safeAdd(t.get(Si),o);return t.with(Si,a)}case Ol:return t.plus(B.intDiv(o,256),W.YEARS).plus(B.intMod(o,256)*3,W.MONTHS);default:throw new Nl("Unreachable")}},n.between=function(t,o){switch(this){case xl:return B.safeSubtract(o.getLong(Si),t.getLong(Si));case Ol:return B.intDiv(t.until(o,W.MONTHS),3);default:throw new Nl("Unreachable")}},n.toString=function(){return this._name},e})(Ki),Rv=null,js=null,xv=null,Si=null,xl=null,Ol=null;function Zj(){Rv=new jj,js=new Jj,xv=new Qj,Si=new Xj,xl=new ZR("WeekBasedYears",_n.ofSeconds(31556952)),Ol=new ZR("QuarterYears",_n.ofSeconds(31556952/4)),Qr.DAY_OF_QUARTER=Rv,Qr.QUARTER_OF_YEAR=js,Qr.WEEK_OF_WEEK_BASED_YEAR=xv,Qr.WEEK_BASED_YEAR=Si,Qr.WEEK_BASED_YEARS=xl,Qr.QUARTER_YEARS=Ol,at.prototype.isoWeekOfWeekyear=function(){return this.get(Qr.WEEK_OF_WEEK_BASED_YEAR)},at.prototype.isoWeekyear=function(){return this.get(Qr.WEEK_BASED_YEAR)}}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Rc=(function(){function i(n,r,t,o){this._zeroDigit=n,this._zeroDigitCharCode=n.charCodeAt(0),this._positiveSign=r,this._negativeSign=t,this._decimalSeparator=o}var e=i.prototype;return e.positiveSign=function(){return this._positiveSign},e.withPositiveSign=function(r){return r===this._positiveSign?this:new i(this._zeroDigit,r,this._negativeSign,this._decimalSeparator)},e.negativeSign=function(){return this._negativeSign},e.withNegativeSign=function(r){return r===this._negativeSign?this:new i(this._zeroDigit,this._positiveSign,r,this._decimalSeparator)},e.zeroDigit=function(){return this._zeroDigit},e.withZeroDigit=function(r){return r===this._zeroDigit?this:new i(r,this._positiveSign,this._negativeSign,this._decimalSeparator)},e.decimalSeparator=function(){return this._decimalSeparator},e.withDecimalSeparator=function(r){return r===this._decimalSeparator?this:new i(this._zeroDigit,this._positiveSign,this._negativeSign,r)},e.convertToDigit=function(r){var t=r.charCodeAt(0)-this._zeroDigitCharCode;return t>=0&&t<=9?t:-1},e.convertNumberToI18N=function(r){if(this._zeroDigit==="0")return r;for(var t=this._zeroDigitCharCode-48,o="",a=0;a<r.length;a++)o+=String.fromCharCode(r.charCodeAt(a)+t);return o},e.equals=function(r){return this===r?!0:r instanceof i?this._zeroDigit===r._zeroDigit&&this._positiveSign===r._positiveSign&&this._negativeSign===r._negativeSign&&this._decimalSeparator===r._decimalSeparator:!1},e.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},e.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},i.of=function(){throw new Error("not yet supported")},i.availableLocales=function(){throw new Error("not yet supported")},i})();Rc.STANDARD=new Rc("0","+","-",".");var Mt=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.parse=function(t,o,a){switch(this){case e.NORMAL:return!t||!o;case e.ALWAYS:case e.EXCEEDS_PAD:return!0;default:return!o&&!a}},e})(Gl);Mt.NORMAL=new Mt("NORMAL");Mt.NEVER=new Mt("NEVER");Mt.ALWAYS=new Mt("ALWAYS");Mt.EXCEEDS_PAD=new Mt("EXCEEDS_PAD");Mt.NOT_NEGATIVE=new Mt("NOT_NEGATIVE");var Pt=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.isStandalone=function(){switch(this){case e.FULL_STANDALONE:case e.SHORT_STANDALONE:case e.NARROW_STANDALONE:return!0;default:return!1}},n.asStandalone=function(){switch(this){case e.FULL:return e.FULL_STANDALONE;case e.SHORT:return e.SHORT_STANDALONE;case e.NARROW:return e.NARROW_STANDALONE;default:return this}},n.asNormal=function(){switch(this){case e.FULL_STANDALONE:return e.FULL;case e.SHORT_STANDALONE:return e.SHORT;case e.NARROW_STANDALONE:return e.NARROW;default:return this}},e})(Gl);Pt.FULL=new Pt("FULL");Pt.FULL_STANDALONE=new Pt("FULL_STANDALONE");Pt.SHORT=new Pt("SHORT");Pt.SHORT_STANDALONE=new Pt("SHORT_STANDALONE");Pt.NARROW=new Pt("NARROW");Pt.NARROW_STANDALONE=new Pt("NARROW_STANDALONE");/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var pL=(function(){function i(n){if(n.length>1)throw new ot('invalid literal, too long: "'+n+'"');this._literal=n}var e=i.prototype;return e.print=function(r,t){return t.append(this._literal),!0},e.parse=function(r,t,o){var a=t.length;if(o===a)return~o;var l=t.charAt(o);return r.charEquals(this._literal,l)===!1?~o:o+this._literal.length},e.toString=function(){return this._literal==="'"?"''":"'"+this._literal+"'"},i})();/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Ov=(function(){function i(n,r){this._printerParsers=n,this._optional=r}var e=i.prototype;return e.withOptional=function(r){return r===this._optional?this:new i(this._printerParsers,r)},e.print=function(r,t){var o=t.length();this._optional&&r.startOptional();try{for(var a=0;a<this._printerParsers.length;a++){var l=this._printerParsers[a];if(l.print(r,t)===!1)return t.setLength(o),!0}}finally{this._optional&&r.endOptional()}return!0},e.parse=function(r,t,o){if(this._optional){r.startOptional();for(var a=o,l=0;l<this._printerParsers.length;l++){var c=this._printerParsers[l];if(a=c.parse(r,t,a),a<0)return r.endOptional(!1),o}return r.endOptional(!0),a}else{for(var d=0;d<this._printerParsers.length;d++){var f=this._printerParsers[d];if(o=f.parse(r,t,o),o<0)break}return o}},e.toString=function(){var r="";if(this._printerParsers!=null){r+=this._optional?"[":"(";for(var t=0;t<this._printerParsers.length;t++){var o=this._printerParsers[t];r+=o.toString()}r+=this._optional?"]":")"}return r},i})();/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var mL=(function(){function i(n,r,t,o){if(X(n,"field"),n.range().isFixed()===!1)throw new ot("Field must have a fixed set of values: "+n);if(r<0||r>9)throw new ot("Minimum width must be from 0 to 9 inclusive but was "+r);if(t<1||t>9)throw new ot("Maximum width must be from 1 to 9 inclusive but was "+t);if(t<r)throw new ot("Maximum width must exceed or equal the minimum width but "+t+" < "+r);this.field=n,this.minWidth=r,this.maxWidth=t,this.decimalPoint=o}var e=i.prototype;return e.print=function(r,t){var o=r.getValue(this.field);if(o===null)return!1;var a=r.symbols();if(o===0){if(this.minWidth>0){this.decimalPoint&&t.append(a.decimalSeparator());for(var l=0;l<this.minWidth;l++)t.append(a.zeroDigit())}}else{var c=this.convertToFraction(o,a.zeroDigit()),d=Math.min(Math.max(c.length,this.minWidth),this.maxWidth);if(c=c.substr(0,d),c*1>0)for(;c.length>this.minWidth&&c[c.length-1]==="0";)c=c.substr(0,c.length-1);var f=c;f=a.convertNumberToI18N(f),this.decimalPoint&&t.append(a.decimalSeparator()),t.append(f)}return!0},e.parse=function(r,t,o){var a=r.isStrict()?this.minWidth:0,l=r.isStrict()?this.maxWidth:9,c=t.length;if(o===c)return a>0?~o:o;if(this.decimalPoint){if(t[o]!==r.symbols().decimalSeparator())return a>0?~o:o;o++}var d=o+a;if(d>c)return~o;for(var f=Math.min(o+l,c),p=0,m=o;m<f;){var y=t.charAt(m++),E=r.symbols().convertToDigit(y);if(E<0){if(m<d)return~o;m--;break}p=p*10+E}var T=m-o,C=Math.pow(10,T),S=this.convertFromFraction(p,C);return r.setParsedField(this.field,S,o,m)},e.convertToFraction=function(r,t){var o=this.field.range();o.checkValidValue(r,this.field);for(var a=o.minimum(),l=o.maximum()-a+1,c=r-a,d=B.intDiv(c*1e9,l),f=""+d;f.length<9;)f=t+f;return f},e.convertFromFraction=function(r,t){var o=this.field.range(),a=o.minimum(),l=o.maximum()-a+1,c=B.intDiv(r*l,t);return c},e.toString=function(){var r=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+r+")"},i})(),C_=15,ul=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],fl=(function(){function i(n,r,t,o,a){a===void 0&&(a=0),this._field=n,this._minWidth=r,this._maxWidth=t,this._signStyle=o,this._subsequentWidth=a}var e=i.prototype;return e.field=function(){return this._field},e.minWidth=function(){return this._minWidth},e.maxWidth=function(){return this._maxWidth},e.signStyle=function(){return this._signStyle},e.withFixedWidth=function(){return this._subsequentWidth===-1?this:new i(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},e.withSubsequentWidth=function(r){return new i(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+r)},e._isFixedWidth=function(){return this._subsequentWidth===-1||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===Mt.NOT_NEGATIVE},e.print=function(r,t){var o=r.getValue(this._field);if(o==null)return!1;var a=this._getValue(r,o),l=r.symbols(),c=""+Math.abs(a);if(c.length>this._maxWidth)throw new Ze("Field "+this._field+" cannot be printed as the value "+a+" exceeds the maximum print width of "+this._maxWidth);if(c=l.convertNumberToI18N(c),a>=0)switch(this._signStyle){case Mt.EXCEEDS_PAD:this._minWidth<C_&&a>=ul[this._minWidth]&&t.append(l.positiveSign());break;case Mt.ALWAYS:t.append(l.positiveSign());break}else switch(this._signStyle){case Mt.NORMAL:case Mt.EXCEEDS_PAD:case Mt.ALWAYS:t.append(l.negativeSign());break;case Mt.NOT_NEGATIVE:throw new Ze("Field "+this._field+" cannot be printed as the value "+a+" cannot be negative according to the SignStyle")}for(var d=0;d<this._minWidth-c.length;d++)t.append(l.zeroDigit());return t.append(c),!0},e.parse=function(r,t,o){var a=t.length;if(o===a)return~o;Jt(o>=0&&o<a);var l=t.charAt(o),c=!1,d=!1;if(l===r.symbols().positiveSign()){if(this._signStyle.parse(!0,r.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;d=!0,o++}else if(l===r.symbols().negativeSign()){if(this._signStyle.parse(!1,r.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;c=!0,o++}else if(this._signStyle===Mt.ALWAYS&&r.isStrict())return~o;var f=r.isStrict()||this._isFixedWidth()?this._minWidth:1,p=o+f;if(p>a)return~o;for(var m=(r.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),y=0,E=o,T=0;T<2;T++){for(var C=Math.min(E+m,a);E<C;){var S=t.charAt(E++),b=r.symbols().convertToDigit(S);if(b<0){if(E--,E<p)return~o;break}if(E-o>C_)throw new Xr("number text exceeds length");y=y*10+b}if(this._subsequentWidth>0&&T===0){var I=E-o;m=Math.max(f,I-this._subsequentWidth),E=o,y=0}else break}if(c){if(y===0&&r.isStrict())return~(o-1);y!==0&&(y=-y)}else if(this._signStyle===Mt.EXCEEDS_PAD&&r.isStrict()){var N=E-o;if(d){if(N<=this._minWidth)return~(o-1)}else if(N>this._minWidth)return~o}return this._setValue(r,y,o,E)},e._getValue=function(r,t){return t},e._setValue=function(r,t,o,a){return r.setParsedField(this._field,t,o,a)},e.toString=function(){return this._minWidth===1&&this._maxWidth===C_&&this._signStyle===Mt.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===Mt.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},i})(),yc=(function(i){vt(e,i);function e(r,t,o,a,l){var c;if(c=i.call(this,r,t,o,Mt.NOT_NEGATIVE)||this,t<1||t>10)throw new ot("The width must be from 1 to 10 inclusive but was "+t);if(o<1||o>10)throw new ot("The maxWidth must be from 1 to 10 inclusive but was "+o);if(o<t)throw new ot("The maxWidth must be greater than the width");if(l===null){if(r.range().isValidValue(a)===!1)throw new ot("The base value must be within the range of the field");if(a+ul[t]>B.MAX_SAFE_INTEGER)throw new Ze("Unable to add printer-parser as the range exceeds the capacity of an int")}return c._baseValue=a,c._baseDate=l,c}var n=e.prototype;return n._getValue=function(t,o){var a=Math.abs(o),l=this._baseValue;if(this._baseDate!==null){t.temporal();var c=Bt.INSTANCE;l=c.date(this._baseDate).get(this._field)}return o>=l&&o<l+ul[this._minWidth]?a%ul[this._minWidth]:a%ul[this._maxWidth]},n._setValue=function(t,o,a,l){var c=this._baseValue;if(this._baseDate!=null){var d=t.getEffectiveChronology();c=d.date(this._baseDate).get(this._field)}var f=l-a;if(f===this._minWidth&&o>=0){var p=ul[this._minWidth],m=c%p,y=c-m;c>0?o=y+o:o=y-o,o<c&&(o+=p)}return t.setParsedField(this._field,o,a,l)},n.withFixedWidth=function(){return this._subsequentWidth===-1?this:new e(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},n.withSubsequentWidth=function(t){return new e(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+t)},n.isFixedWidth=function(t){return t.isStrict()===!1?!1:i.prototype.isFixedWidth.call(this,t)},n.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(this._baseDate!=null?this._baseDate:this._baseValue)+")"},e})(fl);/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var bp=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],Yi=(function(){function i(n,r){X(n,"noOffsetText"),X(r,"pattern"),this.noOffsetText=n,this.type=this._checkPattern(r)}var e=i.prototype;return e._checkPattern=function(r){for(var t=0;t<bp.length;t++)if(bp[t]===r)return t;throw new ot("Invalid zone offset pattern: "+r)},e.print=function(r,t){var o=r.getValue(O.OFFSET_SECONDS);if(o==null)return!1;var a=B.safeToInt(o);if(a===0)t.append(this.noOffsetText);else{var l=Math.abs(B.intMod(B.intDiv(a,3600),100)),c=Math.abs(B.intMod(B.intDiv(a,60),60)),d=Math.abs(B.intMod(a,60)),f=t.length(),p=l;t.append(a<0?"-":"+").appendChar(B.intDiv(l,10)+"0").appendChar(B.intMod(l,10)+"0"),(this.type>=3||this.type>=1&&c>0)&&(t.append(this.type%2===0?":":"").appendChar(B.intDiv(c,10)+"0").appendChar(c%10+"0"),p+=c,(this.type>=7||this.type>=5&&d>0)&&(t.append(this.type%2===0?":":"").appendChar(B.intDiv(d,10)+"0").appendChar(d%10+"0"),p+=d)),p===0&&(t.setLength(f),t.append(this.noOffsetText))}return!0},e.parse=function(r,t,o){var a=t.length,l=this.noOffsetText.length;if(l===0){if(o===a)return r.setParsedField(O.OFFSET_SECONDS,0,o,o)}else{if(o===a)return~o;if(r.subSequenceEquals(t,o,this.noOffsetText,0,l))return r.setParsedField(O.OFFSET_SECONDS,0,o,o+l)}var c=t[o];if(c==="+"||c==="-"){var d=c==="-"?-1:1,f=[0,0,0,0];if(f[0]=o+1,(this._parseNumber(f,1,t,!0)||this._parseNumber(f,2,t,this.type>=3)||this._parseNumber(f,3,t,!1))===!1){var p=B.safeZero(d*(f[1]*3600+f[2]*60+f[3]));return r.setParsedField(O.OFFSET_SECONDS,p,o,f[0])}}return l===0?r.setParsedField(O.OFFSET_SECONDS,0,o,o+l):~o},e._parseNumber=function(r,t,o,a){if((this.type+3)/2<t)return!1;var l=r[0];if(this.type%2===0&&t>1){if(l+1>o.length||o[l]!==":")return a;l++}if(l+2>o.length)return a;var c=o[l++],d=o[l++];if(c<"0"||c>"9"||d<"0"||d>"9")return a;var f=(c.charCodeAt(0)-48)*10+(d.charCodeAt(0)-48);return f<0||f>59?a:(r[t]=f,r[0]=l,!1)},e.toString=function(){var r=this.noOffsetText.replace("'","''");return"Offset("+bp[this.type]+",'"+r+"')"},i})();Yi.INSTANCE_ID=new Yi("Z","+HH:MM:ss");Yi.PATTERNS=bp;/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Dv=(function(){function i(n,r,t){this._printerParser=n,this._padWidth=r,this._padChar=t}var e=i.prototype;return e.print=function(r,t){var o=t.length();if(this._printerParser.print(r,t)===!1)return!1;var a=t.length()-o;if(a>this._padWidth)throw new Ze("Cannot print as output of "+a+" characters exceeds pad width of "+this._padWidth);for(var l=0;l<this._padWidth-a;l++)t.insert(o,this._padChar);return!0},e.parse=function(r,t,o){var a=r.isStrict(),l=r.isCaseSensitive();if(Jt(!(o>t.length)),Jt(o>=0),o===t.length)return~o;var c=o+this._padWidth;if(c>t.length){if(a)return~o;c=t.length}for(var d=o;d<c&&(l?t[d]===this._padChar:r.charEquals(t[d],this._padChar));)d++;t=t.substring(0,c);var f=this._printerParser.parse(r,t,d);return f!==c&&a?~(o+d):f},e.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(this._padChar===" "?")":",'"+this._padChar+"')")},i})(),kr=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.print=function(){return!0},n.parse=function(t,o,a){switch(this){case e.SENSITIVE:t.setCaseSensitive(!0);break;case e.INSENSITIVE:t.setCaseSensitive(!1);break;case e.STRICT:t.setStrict(!0);break;case e.LENIENT:t.setStrict(!1);break}return a},n.toString=function(){switch(this){case e.SENSITIVE:return"ParseCaseSensitive(true)";case e.INSENSITIVE:return"ParseCaseSensitive(false)";case e.STRICT:return"ParseStrict(true)";case e.LENIENT:return"ParseStrict(false)"}},e})(Gl);kr.SENSITIVE=new kr("SENSITIVE");kr.INSENSITIVE=new kr("INSENSITIVE");kr.STRICT=new kr("STRICT");kr.LENIENT=new kr("LENIENT");/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Mv=(function(){function i(n){this._literal=n}var e=i.prototype;return e.print=function(r,t){return t.append(this._literal),!0},e.parse=function(r,t,o){var a=t.length;return Jt(!(o>a||o<0)),r.subSequenceEquals(t,o,this._literal,0,this._literal.length)===!1?~o:o+this._literal.length},e.toString=function(){var r=this._literal.replace("'","''");return"'"+r+"'"},i})();/*
 * @copyright (c) 2016, Philipp Thrwchter, Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var qc=(function(){function i(){}return i.getRules=function(n){throw new Ze("unsupported ZoneId:"+n)},i.getAvailableZoneIds=function(){return[]},i})(),_i=(function(i){vt(e,i),e.ofId=function(t){var o=qc.getRules(t);return new e(t,o)};function e(r,t){var o;return o=i.call(this)||this,o._id=r,o._rules=t,o}var n=e.prototype;return n.id=function(){return this._id},n.rules=function(){return this._rules},e})(Ht);/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var gL=(function(){function i(n,r){this.query=n,this.description=r}var e=i.prototype;return e.print=function(r,t){var o=r.getValueQuery(this.query);return o==null?!1:(t.append(o.id()),!0)},e.parse=function(r,t,o){var a=t.length;if(o>a||o===a)return~o;var l=t.charAt(o);if(l==="+"||l==="-"){var c=r.copy(),d=Yi.INSTANCE_ID.parse(c,t,o);if(d<0)return d;var f=c.getParsed(O.OFFSET_SECONDS),p=pt.ofTotalSeconds(f);return r.setParsedZone(p),d}else if(a>=o+2){var m=t.charAt(o+1);if(r.charEquals(l,"U")&&r.charEquals(m,"T"))return a>=o+3&&r.charEquals(t.charAt(o+2),"C")?this._parsePrefixedOffset(r,t,o,o+3):this._parsePrefixedOffset(r,t,o,o+2);if(r.charEquals(l,"G")&&a>=o+3&&r.charEquals(m,"M")&&r.charEquals(t.charAt(o+2),"T"))return this._parsePrefixedOffset(r,t,o,o+3)}if(t.substr(o,6)==="SYSTEM")return r.setParsedZone(Ht.systemDefault()),o+6;if(r.charEquals(l,"Z"))return r.setParsedZone(pt.UTC),o+1;var y=qc.getAvailableZoneIds();A_.size!==y.length&&(A_=yL.createTreeMap(y));for(var E=a-o,T=A_.treeMap,C=null,S=0;T!=null;){var b=t.substr(o,Math.min(T.length,E));T=T.get(b),T!=null&&T.isLeaf&&(C=b,S=T.length)}return C!=null?(r.setParsedZone(_i.ofId(C)),o+S):~o},e._parsePrefixedOffset=function(r,t,o,a){var l=t.substring(o,a).toUpperCase(),c=r.copy();if(a<t.length&&r.charEquals(t.charAt(a),"Z"))return r.setParsedZone(Ht.ofOffset(l,pt.UTC)),a;var d=Yi.INSTANCE_ID.parse(c,t,a);if(d<0)return r.setParsedZone(Ht.ofOffset(l,pt.UTC)),a;var f=c.getParsed(O.OFFSET_SECONDS),p=pt.ofTotalSeconds(f);return r.setParsedZone(Ht.ofOffset(l,p)),d},e.toString=function(){return this.description},i})(),yL=(function(){i.createTreeMap=function(n){for(var r=n.sort(function(a,l){return a.length-l.length}),t=new eJ(r[0].length,!1),o=0;o<r.length;o++)t.add(r[o]);return new i(r.length,t)};function i(e,n){this.size=e,this.treeMap=n}return i})(),eJ=(function(){function i(n,r){n===void 0&&(n=0),r===void 0&&(r=!1),this.length=n,this.isLeaf=r,this._treeMap={}}var e=i.prototype;return e.add=function(r){var t=r.length;if(t===this.length)this._treeMap[r]=new i(t,!0);else if(t>this.length){var o=r.substr(0,this.length),a=this._treeMap[o];a==null&&(a=new i(t,!1),this._treeMap[o]=a),a.add(r)}},e.get=function(r){return this._treeMap[r]},i})(),A_=new yL([]);/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var To=15,zt=(function(){function i(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}i._of=function(r,t){X(r,"parent"),X(t,"optional");var o=new i;return o._parent=r,o._optional=t,o};var e=i.prototype;return e.parseCaseSensitive=function(){return this._appendInternalPrinterParser(kr.SENSITIVE),this},e.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(kr.INSENSITIVE),this},e.parseStrict=function(){return this._appendInternalPrinterParser(kr.STRICT),this},e.parseLenient=function(){return this._appendInternalPrinterParser(kr.LENIENT),this},e.parseDefaulting=function(r,t){return X(r),this._appendInternal(new nJ(r,t)),this},e.appendValue=function(){return arguments.length===1?this._appendValue1.apply(this,arguments):arguments.length===2?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},e._appendValue1=function(r){return X(r),this._appendValuePrinterParser(new fl(r,1,To,Mt.NORMAL)),this},e._appendValue2=function(r,t){if(X(r),t<1||t>To)throw new ot("The width must be from 1 to "+To+" inclusive but was "+t);var o=new fl(r,t,t,Mt.NOT_NEGATIVE);return this._appendValuePrinterParser(o),this},e._appendValue4=function(r,t,o,a){if(X(r),X(a),t===o&&a===Mt.NOT_NEGATIVE)return this._appendValue2(r,o);if(t<1||t>To)throw new ot("The minimum width must be from 1 to "+To+" inclusive but was "+t);if(o<1||o>To)throw new ot("The minimum width must be from 1 to "+To+" inclusive but was "+o);if(o<t)throw new ot("The maximum width must exceed or equal the minimum width but "+o+" < "+t);var l=new fl(r,t,o,a);return this._appendValuePrinterParser(l),this},e.appendValueReduced=function(){return arguments.length===4&&arguments[3]instanceof Rl?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},e._appendValueReducedFieldWidthMaxWidthBaseValue=function(r,t,o,a){X(r,"field");var l=new yc(r,t,o,a,null);return this._appendValuePrinterParser(l),this},e._appendValueReducedFieldWidthMaxWidthBaseDate=function(r,t,o,a){X(r,"field"),X(a,"baseDate"),st(a,Rl,"baseDate");var l=new yc(r,t,o,0,a);return this._appendValuePrinterParser(l),this},e._appendValuePrinterParser=function(r){if(Jt(r!=null),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof fl){var t=this._active._valueParserIndex,o=this._active._printerParsers[t];r.minWidth()===r.maxWidth()&&r.signStyle()===Mt.NOT_NEGATIVE?(o=o.withSubsequentWidth(r.maxWidth()),this._appendInternal(r.withFixedWidth()),this._active._valueParserIndex=t):(o=o.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(r)),this._active._printerParsers[t]=o}else this._active._valueParserIndex=this._appendInternal(r);return this},e.appendFraction=function(r,t,o,a){return this._appendInternal(new mL(r,t,o,a)),this},e.appendInstant=function(r){if(r===void 0&&(r=-2),r<-2||r>9)throw new ot("Invalid fractional digits: "+r);return this._appendInternal(new tJ(r)),this},e.appendOffsetId=function(){return this._appendInternal(Yi.INSTANCE_ID),this},e.appendOffset=function(r,t){return this._appendInternalPrinterParser(new Yi(t,r)),this},e.appendZoneId=function(){return this._appendInternal(new gL(qe.zoneId(),"ZoneId()")),this},e.appendPattern=function(r){return X(r,"pattern"),this._parsePattern(r),this},e.appendZoneText=function(){throw new ot("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},e.appendText=function(){throw new ot("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},e.appendLocalizedOffset=function(){throw new ot("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},e.appendWeekField=function(){throw new ot("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},e._parsePattern=function(r){for(var t={G:O.ERA,y:O.YEAR_OF_ERA,u:O.YEAR,Q:Qr.QUARTER_OF_YEAR,q:Qr.QUARTER_OF_YEAR,M:O.MONTH_OF_YEAR,L:O.MONTH_OF_YEAR,D:O.DAY_OF_YEAR,d:O.DAY_OF_MONTH,F:O.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:O.DAY_OF_WEEK,c:O.DAY_OF_WEEK,e:O.DAY_OF_WEEK,a:O.AMPM_OF_DAY,H:O.HOUR_OF_DAY,k:O.CLOCK_HOUR_OF_DAY,K:O.HOUR_OF_AMPM,h:O.CLOCK_HOUR_OF_AMPM,m:O.MINUTE_OF_HOUR,s:O.SECOND_OF_MINUTE,S:O.NANO_OF_SECOND,A:O.MILLI_OF_DAY,n:O.NANO_OF_SECOND,N:O.NANO_OF_DAY},o=0;o<r.length;o++){var a=r.charAt(o);if(a>="A"&&a<="Z"||a>="a"&&a<="z"){for(var l=o++;o<r.length&&r.charAt(o)===a;o++);var c=o-l;if(a==="p"){var d=0;if(o<r.length&&(a=r.charAt(o),a>="A"&&a<="Z"||a>="a"&&a<="z")){for(d=c,l=o++;o<r.length&&r.charAt(o)===a;o++);c=o-l}if(d===0)throw new ot("Pad letter 'p' must be followed by valid pad pattern: "+r);this.padNext(d)}var f=t[a];if(f!=null)this._parseField(a,c,f);else if(a==="z"){if(c>4)throw new ot("Too many pattern letters: "+a);c===4?this.appendZoneText(Pt.FULL):this.appendZoneText(Pt.SHORT)}else if(a==="V"){if(c!==2)throw new ot("Pattern letter count must be 2: "+a);this.appendZoneId()}else if(a==="Z")if(c<4)this.appendOffset("+HHMM","+0000");else if(c===4)this.appendLocalizedOffset(Pt.FULL);else if(c===5)this.appendOffset("+HH:MM:ss","Z");else throw new ot("Too many pattern letters: "+a);else if(a==="O")if(c===1)this.appendLocalizedOffset(Pt.SHORT);else if(c===4)this.appendLocalizedOffset(Pt.FULL);else throw new ot("Pattern letter count must be 1 or 4: "+a);else if(a==="X"){if(c>5)throw new ot("Too many pattern letters: "+a);this.appendOffset(Yi.PATTERNS[c+(c===1?0:1)],"Z")}else if(a==="x"){if(c>5)throw new ot("Too many pattern letters: "+a);var p=c===1?"+00":c%2===0?"+0000":"+00:00";this.appendOffset(Yi.PATTERNS[c+(c===1?0:1)],p)}else if(a==="W"){if(c>1)throw new ot("Too many pattern letters: "+a);this.appendWeekField("W",c)}else if(a==="w"){if(c>2)throw new ot("Too many pattern letters: "+a);this.appendWeekField("w",c)}else if(a==="Y")this.appendWeekField("Y",c);else throw new ot("Unknown pattern letter: "+a);o--}else if(a==="'"){for(var m=o++;o<r.length;o++)if(r.charAt(o)==="'")if(o+1<r.length&&r.charAt(o+1)==="'")o++;else break;if(o>=r.length)throw new ot("Pattern ends with an incomplete string literal: "+r);var y=r.substring(m+1,o);y.length===0?this.appendLiteral("'"):this.appendLiteral(y.replace("''","'"))}else if(a==="[")this.optionalStart();else if(a==="]"){if(this._active._parent===null)throw new ot("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if(a==="{"||a==="}"||a==="#")throw new ot("Pattern includes reserved character: '"+a+"'");this.appendLiteral(a)}}},e._parseField=function(r,t,o){switch(r){case"u":case"y":t===2?this.appendValueReduced(o,2,2,yc.BASE_DATE):t<4?this.appendValue(o,t,To,Mt.NORMAL):this.appendValue(o,t,To,Mt.EXCEEDS_PAD);break;case"M":case"Q":switch(t){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,Pt.SHORT);break;case 4:this.appendText(o,Pt.FULL);break;case 5:this.appendText(o,Pt.NARROW);break;default:throw new ot("Too many pattern letters: "+r)}break;case"L":case"q":switch(t){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,Pt.SHORT_STANDALONE);break;case 4:this.appendText(o,Pt.FULL_STANDALONE);break;case 5:this.appendText(o,Pt.NARROW_STANDALONE);break;default:throw new ot("Too many pattern letters: "+r)}break;case"e":switch(t){case 1:case 2:this.appendWeekField("e",t);break;case 3:this.appendText(o,Pt.SHORT);break;case 4:this.appendText(o,Pt.FULL);break;case 5:this.appendText(o,Pt.NARROW);break;default:throw new ot("Too many pattern letters: "+r)}break;case"c":switch(t){case 1:this.appendWeekField("c",t);break;case 2:throw new ot("Invalid number of pattern letters: "+r);case 3:this.appendText(o,Pt.SHORT_STANDALONE);break;case 4:this.appendText(o,Pt.FULL_STANDALONE);break;case 5:this.appendText(o,Pt.NARROW_STANDALONE);break;default:throw new ot("Too many pattern letters: "+r)}break;case"a":if(t===1)this.appendText(o,Pt.SHORT);else throw new ot("Too many pattern letters: "+r);break;case"E":case"G":switch(t){case 1:case 2:case 3:this.appendText(o,Pt.SHORT);break;case 4:this.appendText(o,Pt.FULL);break;case 5:this.appendText(o,Pt.NARROW);break;default:throw new ot("Too many pattern letters: "+r)}break;case"S":this.appendFraction(O.NANO_OF_SECOND,t,t,!1);break;case"F":if(t===1)this.appendValue(o);else throw new ot("Too many pattern letters: "+r);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(t===1)this.appendValue(o);else if(t===2)this.appendValue(o,t);else throw new ot("Too many pattern letters: "+r);break;case"D":if(t===1)this.appendValue(o);else if(t<=3)this.appendValue(o,t);else throw new ot("Too many pattern letters: "+r);break;default:t===1?this.appendValue(o):this.appendValue(o,t);break}},e.padNext=function(){return arguments.length===1?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},e._padNext1=function(r){return this._padNext2(r," ")},e._padNext2=function(r,t){if(r<1)throw new ot("The pad width must be at least one but was "+r);return this._active._padNextWidth=r,this._active._padNextChar=t,this._active._valueParserIndex=-1,this},e.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=i._of(this._active,!0),this},e.optionalEnd=function(){if(this._active._parent==null)throw new Nl("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var r=new Ov(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(r)}else this._active=this._active._parent;return this},e._appendInternal=function(r){return Jt(r!=null),this._active._padNextWidth>0&&(r!=null&&(r=new Dv(r,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(r),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},e.appendLiteral=function(r){return Jt(r!=null),r.length>0&&(r.length===1?this._appendInternalPrinterParser(new pL(r.charAt(0))):this._appendInternalPrinterParser(new Mv(r))),this},e._appendInternalPrinterParser=function(r){return Jt(r!=null),this._active._padNextWidth>0&&(r!=null&&(r=new Dv(r,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(r),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},e.append=function(r){return X(r,"formatter"),this._appendInternal(r._toPrinterParser(!1)),this},e.toFormatter=function(r){for(r===void 0&&(r=yt.SMART);this._active._parent!=null;)this.optionalEnd();var t=new Ov(this._printerParsers,!1);return new wt(t,null,Rc.STANDARD,r,null,null,null)},i})(),Za=146097*25*86400,Xu=(146097*5-(30*365+7))*86400,tJ=(function(){function i(n){this.fractionalDigits=n}var e=i.prototype;return e.print=function(r,t){var o=r.getValue(O.INSTANT_SECONDS),a=0;if(r.temporal().isSupported(O.NANO_OF_SECOND)&&(a=r.temporal().getLong(O.NANO_OF_SECOND)),o==null)return!1;var l=o,c=O.NANO_OF_SECOND.checkValidIntValue(a);if(l>=-Xu){var d=l-Za+Xu,f=B.floorDiv(d,Za)+1,p=B.floorMod(d,Za),m=qt.ofEpochSecond(p-Xu,0,pt.UTC);f>0&&t.append("+").append(f),t.append(m.toString()),m.second()===0&&t.append(":00")}else{var y=l+Xu,E=B.intDiv(y,Za),T=B.intMod(y,Za),C=qt.ofEpochSecond(T-Xu,0,pt.UTC),S=t.length();t.append(C.toString()),C.second()===0&&t.append(":00"),E<0&&(C.year()===-1e4?t.replace(S,S+2,""+(E-1)):T===0?t.insert(S,E):t.insert(S+1,Math.abs(E)))}if(this.fractionalDigits===-2)c!==0&&(t.append("."),B.intMod(c,1e6)===0?t.append((""+(B.intDiv(c,1e6)+1e3)).substring(1)):B.intMod(c,1e3)===0?t.append((""+(B.intDiv(c,1e3)+1e6)).substring(1)):t.append((""+(c+1e9)).substring(1)));else if(this.fractionalDigits>0||this.fractionalDigits===-1&&c>0){t.append(".");for(var b=1e8,I=0;this.fractionalDigits===-1&&c>0||I<this.fractionalDigits;I++){var N=B.intDiv(c,b);t.append(N),c=c-N*b,b=B.intDiv(b,10)}}return t.append("Z"),!0},e.parse=function(r,t,o){var a=r.copy(),l=this.fractionalDigits<0?0:this.fractionalDigits,c=this.fractionalDigits<0?9:this.fractionalDigits,d=new zt().append(wt.ISO_LOCAL_DATE).appendLiteral("T").appendValue(O.HOUR_OF_DAY,2).appendLiteral(":").appendValue(O.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(O.SECOND_OF_MINUTE,2).appendFraction(O.NANO_OF_SECOND,l,c,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1),f=d.parse(a,t,o);if(f<0)return f;var p=a.getParsed(O.YEAR),m=a.getParsed(O.MONTH_OF_YEAR),y=a.getParsed(O.DAY_OF_MONTH),E=a.getParsed(O.HOUR_OF_DAY),T=a.getParsed(O.MINUTE_OF_HOUR),C=a.getParsed(O.SECOND_OF_MINUTE),S=a.getParsed(O.NANO_OF_SECOND),b=C??0,I=S??0,N=B.intMod(p,1e4),x=0;E===24&&T===0&&b===0&&I===0?(E=0,x=1):E===23&&T===59&&b===60&&(r.setParsedLeapSecond(),b=59);var L;try{var F=qt.of(N,m,y,E,T,b,0).plusDays(x);L=F.toEpochSecond(pt.UTC),L+=B.safeMultiply(B.intDiv(p,1e4),Za)}catch{return~o}var G=f;return G=r.setParsedField(O.INSTANT_SECONDS,L,o,G),r.setParsedField(O.NANO_OF_SECOND,I,o,G)},e.toString=function(){return"Instant()"},i})(),nJ=(function(){function i(n,r){this._field=n,this._value=r}var e=i.prototype;return e.print=function(){return!0},e.parse=function(r,t,o){return r.getParsed(this._field)==null&&r.setParsedField(this._field,this._value,o,o),o},i})();function rJ(){yc.BASE_DATE=at.of(2e3,1,1),zt.CompositePrinterParser=Ov,zt.PadPrinterParserDecorator=Dv,zt.SettingsParser=kr,zt.CharLiteralPrinterParser=Mv,zt.StringLiteralPrinterParser=Mv,zt.CharLiteralPrinterParser=pL,zt.NumberPrinterParser=fl,zt.ReducedPrinterParser=yc,zt.FractionPrinterParser=mL,zt.OffsetIdPrinterParser=Yi,zt.ZoneIdPrinterParser=gL}/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var _L=(function(){function i(){this._str=""}var e=i.prototype;return e.append=function(r){return this._str+=r,this},e.appendChar=function(r){return this._str+=r[0],this},e.insert=function(r,t){return this._str=this._str.slice(0,r)+t+this._str.slice(r),this},e.replace=function(r,t,o){return this._str=this._str.slice(0,r)+o+this._str.slice(t),this},e.length=function(){return this._str.length},e.setLength=function(r){return this._str=this._str.slice(0,r),this},e.toString=function(){return this._str},i})();/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var wt=(function(){i.parsedExcessDays=function(){return i.PARSED_EXCESS_DAYS},i.parsedLeapSecond=function(){return i.PARSED_LEAP_SECOND},i.ofPattern=function(r){return new zt().appendPattern(r).toFormatter()};function i(n,r,t,o,a,l,c){l===void 0&&(l=Bt.INSTANCE),Jt(n!=null),Jt(t!=null),Jt(o!=null),this._printerParser=n,this._locale=r,this._decimalStyle=t,this._resolverStyle=o,this._resolverFields=a,this._chrono=l,this._zone=c}var e=i.prototype;return e.locale=function(){return this._locale},e.decimalStyle=function(){return this._decimalStyle},e.chronology=function(){return this._chrono},e.withChronology=function(r){return this._chrono!=null&&this._chrono.equals(r)?this:new i(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,r,this._zone)},e.withLocale=function(){return this},e.withResolverStyle=function(r){return X(r,"resolverStyle"),r.equals(this._resolverStyle)?this:new i(this._printerParser,this._locale,this._decimalStyle,r,this._resolverFields,this._chrono,this._zone)},e.format=function(r){var t=new _L(32);return this._formatTo(r,t),t.toString()},e._formatTo=function(r,t){X(r,"temporal"),X(t,"appendable");var o=new hL(r,this);this._printerParser.print(o,t)},e.parse=function(r,t){return arguments.length===1?this.parse1(r):this.parse2(r,t)},e.parse1=function(r){X(r,"text");try{return this._parseToBuilder(r,null).resolve(this._resolverStyle,this._resolverFields)}catch(t){throw t instanceof ei?t:this._createError(r,t)}},e.parse2=function(r,t){X(r,"text"),X(t,"type");try{var o=this._parseToBuilder(r,null).resolve(this._resolverStyle,this._resolverFields);return o.build(t)}catch(a){throw a instanceof ei?a:this._createError(r,a)}},e._createError=function(r,t){var o="";return r.length>64?o=r.substring(0,64)+"...":o=r,new ei("Text '"+o+"' could not be parsed: "+t.message,r,0,t)},e._parseToBuilder=function(r,t){var o=t??new PT(0),a=this._parseUnresolved0(r,o);if(a==null||o.getErrorIndex()>=0||t==null&&o.getIndex()<r.length){var l="";throw r.length>64?l=r.substr(0,64).toString()+"...":l=r,o.getErrorIndex()>=0?new ei("Text '"+l+"' could not be parsed at index "+o.getErrorIndex(),r,o.getErrorIndex()):new ei("Text '"+l+"' could not be parsed, unparsed text found at index "+o.getIndex(),r,o.getIndex())}return a.toBuilder()},e.parseUnresolved=function(r,t){return this._parseUnresolved0(r,t)},e._parseUnresolved0=function(r,t){Jt(r!=null,"text",zi),Jt(t!=null,"position",zi);var o=new fL(this),a=t.getIndex();return a=this._printerParser.parse(o,r,a),a<0?(t.setErrorIndex(~a),null):(t.setIndex(a),o.toParsed())},e._toPrinterParser=function(r){return this._printerParser.withOptional(r)},e.toString=function(){var r=this._printerParser.toString();return r.indexOf("[")===0?r:r.substring(1,r.length-1)},i})();function iJ(){wt.ISO_LOCAL_DATE=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).appendLiteral("-").appendValue(O.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(O.DAY_OF_MONTH,2).toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_LOCAL_TIME=new zt().appendValue(O.HOUR_OF_DAY,2).appendLiteral(":").appendValue(O.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(O.SECOND_OF_MINUTE,2).optionalStart().appendFraction(O.NANO_OF_SECOND,0,9,!0).toFormatter(yt.STRICT),wt.ISO_LOCAL_DATE_TIME=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_DATE).appendLiteral("T").append(wt.ISO_LOCAL_TIME).toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_INSTANT=new zt().parseCaseInsensitive().appendInstant().toFormatter(yt.STRICT),wt.ISO_OFFSET_DATE_TIME=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_ZONED_DATE_TIME=new zt().append(wt.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.BASIC_ISO_DATE=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).appendValue(O.MONTH_OF_YEAR,2).appendValue(O.DAY_OF_MONTH,2).toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_OFFSET_DATE=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_DATE).appendOffsetId().toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_OFFSET_TIME=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_TIME).appendOffsetId().toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_ORDINAL_DATE=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).appendLiteral("-").appendValue(O.DAY_OF_YEAR).toFormatter(yt.STRICT),wt.ISO_WEEK_DATE=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).appendLiteral("-W").appendValue(O.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(O.DAY_OF_WEEK).toFormatter(yt.STRICT),wt.ISO_DATE=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.ISO_TIME=new zt().parseCaseInsensitive().append(wt.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(yt.STRICT),wt.ISO_DATE_TIME=new zt().append(wt.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(yt.STRICT).withChronology(Bt.INSTANCE),wt.PARSED_EXCESS_DAYS=Dn("PARSED_EXCESS_DAYS",function(i){return i instanceof om?i.excessDays:Hi.ZERO}),wt.PARSED_LEAP_SECOND=Dn("PARSED_LEAP_SECOND",function(i){return i instanceof om?i.leapSecond:!1})}var xc=(function(i){vt(e,i),e.now=function(t){return arguments.length===0?e.now0():arguments.length===1&&t instanceof Ht?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return this.nowClock(Xt.systemDefaultZone())},e.nowZoneId=function(t){return X(t,"zone"),this.nowClock(Xt.system(t))},e.nowClock=function(t){X(t,"clock");var o=at.now(t);return e.of(o.month(),o.dayOfMonth())},e.of=function(t,o){return arguments.length===2&&t instanceof dt?e.ofMonthNumber(t,o):e.ofNumberNumber(t,o)},e.ofMonthNumber=function(t,o){if(X(t,"month"),O.DAY_OF_MONTH.checkValidValue(o),o>t.maxLength())throw new Ze("Illegal value for DayOfMonth field, value "+o+" is not valid for month "+t.toString());return new e(t.value(),o)},e.ofNumberNumber=function(t,o){return X(t,"month"),X(o,"dayOfMonth"),e.of(dt.of(t),o)},e.from=function(t){if(X(t,"temporal"),st(t,Oo,"temporal"),t instanceof e)return t;try{return e.of(t.get(O.MONTH_OF_YEAR),t.get(O.DAY_OF_MONTH))}catch{throw new Ze("Unable to obtain MonthDay from TemporalAccessor: "+t+", type "+(t&&t.constructor!=null?t.constructor.name:""))}},e.parse=function(t,o){return arguments.length===1?e.parseString(t):e.parseStringFormatter(t,o)},e.parseString=function(t){return e.parseStringFormatter(t,vL)},e.parseStringFormatter=function(t,o){return X(t,"text"),X(o,"formatter"),st(o,wt,"formatter"),o.parse(t,e.FROM)};function e(r,t){var o;return o=i.call(this)||this,o._month=B.safeToInt(r),o._day=B.safeToInt(t),o}var n=e.prototype;return n.monthValue=function(){return this._month},n.month=function(){return dt.of(this._month)},n.dayOfMonth=function(){return this._day},n.isSupported=function(t){return t instanceof O?t===O.MONTH_OF_YEAR||t===O.DAY_OF_MONTH:t!=null&&t.isSupportedBy(this)},n.range=function(t){return t===O.MONTH_OF_YEAR?t.range():t===O.DAY_OF_MONTH?_t.of(1,this.month().minLength(),this.month().maxLength()):i.prototype.range.call(this,t)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(X(t,"field"),t instanceof O){switch(t){case O.DAY_OF_MONTH:return this._day;case O.MONTH_OF_YEAR:return this._month}throw new At("Unsupported field: "+t)}return t.getFrom(this)},n.isValidYear=function(t){return!(this._day===29&&this._month===2&&ti.isLeap(t)===!1)},n.withMonth=function(t){return this.with(dt.of(t))},n.with=function(t){if(X(t,"month"),t.value()===this._month)return this;var o=Math.min(this._day,t.maxLength());return new e(t.value(),o)},n.withDayOfMonth=function(t){return t===this._day?this:e.of(this._month,t)},n.query=function(t){return X(t,"query"),st(t,zl,"query"),t===qe.chronology()?Bt.INSTANCE:i.prototype.query.call(this,t)},n.adjustInto=function(t){return X(t,"temporal"),t=t.with(O.MONTH_OF_YEAR,this._month),t.with(O.DAY_OF_MONTH,Math.min(t.range(O.DAY_OF_MONTH).maximum(),this._day))},n.atYear=function(t){return at.of(t,this._month,this.isValidYear(t)?this._day:28)},n.compareTo=function(t){X(t,"other"),st(t,e,"other");var o=this._month-t.monthValue();return o===0&&(o=this._day-t.dayOfMonth()),o},n.isAfter=function(t){return X(t,"other"),st(t,e,"other"),this.compareTo(t)>0},n.isBefore=function(t){return X(t,"other"),st(t,e,"other"),this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var o=t;return this.monthValue()===o.monthValue()&&this.dayOfMonth()===o.dayOfMonth()}return!1},n.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),st(t,wt,"formatter"),t.format(this)},e})(Oo),vL;function oJ(){vL=new zt().appendLiteral("--").appendValue(O.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(O.DAY_OF_MONTH,2).toFormatter(),xc.FROM=Dn("MonthDay.FROM",function(i){return xc.from(i)})}var Dl=(function(i){vt(e,i),e.now=function(t){return arguments.length===0?e.now0():arguments.length===1&&t instanceof Ht?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return e.nowClock(Xt.systemDefaultZone())},e.nowZoneId=function(t){return e.nowClock(Xt.system(t))},e.nowClock=function(t){var o=at.now(t);return e.of(o.year(),o.month())},e.of=function(t,o){return arguments.length===2&&o instanceof dt?e.ofNumberMonth(t,o):e.ofNumberNumber(t,o)},e.ofNumberMonth=function(t,o){return X(o,"month"),st(o,dt,"month"),e.ofNumberNumber(t,o.value())},e.ofNumberNumber=function(t,o){return X(t,"year"),X(o,"month"),O.YEAR.checkValidValue(t),O.MONTH_OF_YEAR.checkValidValue(o),new e(t,o)},e.from=function(t){if(X(t,"temporal"),t instanceof e)return t;try{return e.of(t.get(O.YEAR),t.get(O.MONTH_OF_YEAR))}catch{throw new Ze("Unable to obtain YearMonth from TemporalAccessor: "+t+", type "+(t&&t.constructor!=null?t.constructor.name:""))}},e.parse=function(t,o){return arguments.length===1?e.parseString(t):e.parseStringFormatter(t,o)},e.parseString=function(t){return e.parseStringFormatter(t,kv)},e.parseStringFormatter=function(t,o){return X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t){var o;return o=i.call(this)||this,o._year=B.safeToInt(r),o._month=B.safeToInt(t),o}var n=e.prototype;return n.isSupported=function(t){return arguments.length===1&&t instanceof wi?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof O?t===O.YEAR||t===O.MONTH_OF_YEAR||t===O.PROLEPTIC_MONTH||t===O.YEAR_OF_ERA||t===O.ERA:t!=null&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof W?t===W.MONTHS||t===W.YEARS||t===W.DECADES||t===W.CENTURIES||t===W.MILLENNIA||t===W.ERAS:t!=null&&t.isSupportedBy(this)},n.range=function(t){return t===O.YEAR_OF_ERA?this.year()<=0?_t.of(1,ti.MAX_VALUE+1):_t.of(1,ti.MAX_VALUE):i.prototype.range.call(this,t)},n.get=function(t){return X(t,"field"),st(t,wi,"field"),this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(X(t,"field"),st(t,wi,"field"),t instanceof O){switch(t){case O.MONTH_OF_YEAR:return this._month;case O.PROLEPTIC_MONTH:return this._getProlepticMonth();case O.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case O.YEAR:return this._year;case O.ERA:return this._year<1?0:1}throw new At("Unsupported field: "+t)}return t.getFrom(this)},n._getProlepticMonth=function(){return B.safeAdd(B.safeMultiply(this._year,12),this._month-1)},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return dt.of(this._month)},n.isLeapYear=function(){return Bt.isLeapYear(this._year)},n.isValidDay=function(t){return t>=1&&t<=this.lengthOfMonth()},n.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.with=function(t,o){return arguments.length===1?this._withAdjuster(t):this._withField(t,o)},n._withField=function(t,o){if(X(t,"field"),st(t,wi,"field"),t instanceof O){var a=t;switch(a.checkValidValue(o),a){case O.MONTH_OF_YEAR:return this.withMonth(o);case O.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(O.PROLEPTIC_MONTH));case O.YEAR_OF_ERA:return this.withYear(this._year<1?1-o:o);case O.YEAR:return this.withYear(o);case O.ERA:return this.getLong(O.ERA)===o?this:this.withYear(1-this._year)}throw new At("Unsupported field: "+t)}return t.adjustInto(this,o)},n.withYear=function(t){return O.YEAR.checkValidValue(t),new e(t,this._month)},n.withMonth=function(t){return O.MONTH_OF_YEAR.checkValidValue(t),new e(this._year,t)},n._plusUnit=function(t,o){if(X(o,"unit"),st(o,Ki,"unit"),o instanceof W){switch(o){case W.MONTHS:return this.plusMonths(t);case W.YEARS:return this.plusYears(t);case W.DECADES:return this.plusYears(B.safeMultiply(t,10));case W.CENTURIES:return this.plusYears(B.safeMultiply(t,100));case W.MILLENNIA:return this.plusYears(B.safeMultiply(t,1e3));case W.ERAS:return this.with(O.ERA,B.safeAdd(this.getLong(O.ERA),t))}throw new At("Unsupported unit: "+o)}return o.addTo(this,t)},n.plusYears=function(t){if(t===0)return this;var o=O.YEAR.checkValidIntValue(this._year+t);return this.withYear(o)},n.plusMonths=function(t){if(t===0)return this;var o=this._year*12+(this._month-1),a=o+t,l=O.YEAR.checkValidIntValue(B.floorDiv(a,12)),c=B.floorMod(a,12)+1;return new e(l,c)},n.minusYears=function(t){return t===B.MIN_SAFE_INTEGER?this.plusYears(B.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.minusMonths=function(t){return t===B.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-t)},n.query=function(t){return X(t,"query"),st(t,zl,"query"),t===qe.chronology()?Bt.INSTANCE:t===qe.precision()?W.MONTHS:t===qe.localDate()||t===qe.localTime()||t===qe.zone()||t===qe.zoneId()||t===qe.offset()?null:i.prototype.query.call(this,t)},n.adjustInto=function(t){return X(t,"temporal"),st(t,cr,"temporal"),t.with(O.PROLEPTIC_MONTH,this._getProlepticMonth())},n.until=function(t,o){X(t,"endExclusive"),X(o,"unit"),st(t,cr,"endExclusive"),st(o,Ki,"unit");var a=e.from(t);if(o instanceof W){var l=a._getProlepticMonth()-this._getProlepticMonth();switch(o){case W.MONTHS:return l;case W.YEARS:return B.intDiv(l,12);case W.DECADES:return B.intDiv(l,120);case W.CENTURIES:return B.intDiv(l,1200);case W.MILLENNIA:return B.intDiv(l,12e3);case W.ERAS:return a.getLong(O.ERA)-this.getLong(O.ERA)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},n.atDay=function(t){return X(t,"dayOfMonth"),at.of(this._year,this._month,t)},n.atEndOfMonth=function(){return at.of(this._year,this._month,this.lengthOfMonth())},n.compareTo=function(t){X(t,"other"),st(t,e,"other");var o=this._year-t.year();return o===0&&(o=this._month-t.monthValue()),o},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var o=t;return this.year()===o.year()&&this.monthValue()===o.monthValue()}return!1},n.toString=function(){return kv.format(this)},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),t.format(this)},e})(cr),kv;function sJ(){kv=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).appendLiteral("-").appendValue(O.MONTH_OF_YEAR,2).toFormatter(),Dl.FROM=Dn("YearMonth.FROM",function(i){return Dl.from(i)})}var ti=(function(i){vt(e,i);function e(r){var t;return t=i.call(this)||this,t._year=B.safeToInt(r),t}var n=e.prototype;return n.value=function(){return this._year},e.now=function(t){return t===void 0&&(t=void 0),t===void 0?e.now0():t instanceof Ht?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return e.nowClock(Xt.systemDefaultZone())},e.nowZoneId=function(t){return X(t,"zone"),st(t,Ht,"zone"),e.nowClock(Xt.system(t))},e.nowClock=function(t){X(t,"clock"),st(t,Xt,"clock");var o=at.now(t);return e.of(o.year())},e.of=function(t){return X(t,"isoYear"),O.YEAR.checkValidValue(t),new e(t)},e.from=function(t){if(X(t,"temporal"),st(t,Oo,"temporal"),t instanceof e)return t;try{return e.of(t.get(O.YEAR))}catch{throw new Ze("Unable to obtain Year from TemporalAccessor: "+t+", type "+(t&&t.constructor!=null?t.constructor.name:""))}},e.parse=function(t,o){return arguments.length<=1?e.parseText(t):e.parseTextFormatter(t,o)},e.parseText=function(t){return X(t,"text"),e.parse(t,Pv)},e.parseTextFormatter=function(t,o){return o===void 0&&(o=Pv),X(t,"text"),X(o,"formatter"),st(o,wt,"formatter"),o.parse(t,e.FROM)},e.isLeap=function(t){return B.intMod(t,4)===0&&(B.intMod(t,100)!==0||B.intMod(t,400)===0)},n.isSupported=function(t){return arguments.length===1&&t instanceof wi?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof O?t===O.YEAR||t===O.YEAR_OF_ERA||t===O.ERA:t!=null&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof W?t===W.YEARS||t===W.DECADES||t===W.CENTURIES||t===W.MILLENNIA||t===W.ERAS:t!=null&&t.isSupportedBy(this)},n.range=function(t){if(this.isSupported(t))return t.range();if(t instanceof O)throw new At("Unsupported field: "+t);return i.prototype.range.call(this,t)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(X(t,"field"),t instanceof O){switch(t){case O.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case O.YEAR:return this._year;case O.ERA:return this._year<1?0:1}throw new At("Unsupported field: "+t)}return t.getFrom(this)},n.isLeap=function(){return e.isLeap(this._year)},n._withField=function(t,o){if(X(t,"field"),st(t,wi,"field"),t instanceof O){switch(t.checkValidValue(o),t){case O.YEAR_OF_ERA:return e.of(this._year<1?1-o:o);case O.YEAR:return e.of(o);case O.ERA:return this.getLong(O.ERA)===o?this:e.of(1-this._year)}throw new At("Unsupported field: "+t)}return t.adjustInto(this,o)},n._plusUnit=function(t,o){if(X(t,"amountToAdd"),X(o,"unit"),st(o,Ki,"unit"),o instanceof W){switch(o){case W.YEARS:return this.plusYears(t);case W.DECADES:return this.plusYears(B.safeMultiply(t,10));case W.CENTURIES:return this.plusYears(B.safeMultiply(t,100));case W.MILLENNIA:return this.plusYears(B.safeMultiply(t,1e3));case W.ERAS:return this.with(O.ERA,B.safeAdd(this.getLong(O.ERA),t))}throw new At("Unsupported unit: "+o)}return o.addTo(this,t)},n.plusYears=function(t){return t===0?this:e.of(O.YEAR.checkValidIntValue(B.safeAdd(this._year,t)))},n.minusYears=function(t){return t===B.MIN_SAFE_INTEGER?this.plusYears(B.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.adjustInto=function(t){return X(t,"temporal"),t.with(O.YEAR,this._year)},n.isValidMonthDay=function(t){return t!=null&&t.isValidYear(this._year)},n.length=function(){return this.isLeap()?366:365},n.atDay=function(t){return at.ofYearDay(this._year,t)},n.atMonth=function(t){return arguments.length===1&&t instanceof dt?this.atMonthMonth(t):this.atMonthNumber(t)},n.atMonthMonth=function(t){return X(t,"month"),st(t,dt,"month"),Dl.of(this._year,t)},n.atMonthNumber=function(t){return X(t,"month"),Dl.of(this._year,t)},n.atMonthDay=function(t){return X(t,"monthDay"),st(t,xc,"monthDay"),t.atYear(this._year)},n.query=function(t){return X(t,"query()"),st(t,zl,"query()"),t===qe.chronology()?Bt.INSTANCE:t===qe.precision()?W.YEARS:t===qe.localDate()||t===qe.localTime()||t===qe.zone()||t===qe.zoneId()||t===qe.offset()?null:i.prototype.query.call(this,t)},n.compareTo=function(t){return X(t,"other"),st(t,e,"other"),this._year-t._year},n.isAfter=function(t){return X(t,"other"),st(t,e,"other"),this._year>t._year},n.isBefore=function(t){return X(t,"other"),st(t,e,"other"),this._year<t._year},n.format=function(t){return X(t,"formatter"),st(t,wt,"formatter"),t.format(this)},n.equals=function(t){return this===t?!0:t instanceof e?this.value()===t.value():!1},n.toString=function(){return""+this._year},n.toJSON=function(){return this.toString()},n.until=function(t,o){var a=e.from(t);if(o instanceof W){var l=a.value()-this.value();switch(o){case W.YEARS:return l;case W.DECADES:return B.intDiv(l,10);case W.CENTURIES:return B.intDiv(l,100);case W.MILLENNIA:return B.intDiv(l,1e3);case W.ERAS:return a.getLong(O.ERA)-this.getLong(O.ERA)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},e})(cr),Pv;function aJ(){ti.MIN_VALUE=ur.MIN_VALUE,ti.MAX_VALUE=ur.MAX_VALUE,Pv=new zt().appendValue(O.YEAR,4,10,Mt.EXCEEDS_PAD).toFormatter(),ti.FROM=Dn("Year.FROM",function(i){return ti.from(i)})}/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Vc=(function(){function i(){}var e=i.prototype;return e.adjustInto=function(r){ft("adjustInto")},i})(),LT=(function(){function i(){}return i.firstDayOfMonth=function(){return Hn.FIRST_DAY_OF_MONTH},i.lastDayOfMonth=function(){return Hn.LAST_DAY_OF_MONTH},i.firstDayOfNextMonth=function(){return Hn.FIRST_DAY_OF_NEXT_MONTH},i.firstDayOfYear=function(){return Hn.FIRST_DAY_OF_YEAR},i.lastDayOfYear=function(){return Hn.LAST_DAY_OF_YEAR},i.firstDayOfNextYear=function(){return Hn.FIRST_DAY_OF_NEXT_YEAR},i.firstInMonth=function(n){return X(n,"dayOfWeek"),new b_(1,n)},i.lastInMonth=function(n){return X(n,"dayOfWeek"),new b_(-1,n)},i.dayOfWeekInMonth=function(n,r){return X(r,"dayOfWeek"),new b_(n,r)},i.next=function(n){return new Nh(2,n)},i.nextOrSame=function(n){return new Nh(0,n)},i.previous=function(n){return new Nh(3,n)},i.previousOrSame=function(n){return new Nh(1,n)},i})(),Hn=(function(i){vt(e,i);function e(r){var t;return t=i.call(this)||this,t._ordinal=r,t}var n=e.prototype;return n.adjustInto=function(t){switch(this._ordinal){case 0:return t.with(O.DAY_OF_MONTH,1);case 1:return t.with(O.DAY_OF_MONTH,t.range(O.DAY_OF_MONTH).maximum());case 2:return t.with(O.DAY_OF_MONTH,1).plus(1,W.MONTHS);case 3:return t.with(O.DAY_OF_YEAR,1);case 4:return t.with(O.DAY_OF_YEAR,t.range(O.DAY_OF_YEAR).maximum());case 5:return t.with(O.DAY_OF_YEAR,1).plus(1,W.YEARS)}throw new Nl("Unreachable")},e})(Vc);Hn.FIRST_DAY_OF_MONTH=new Hn(0);Hn.LAST_DAY_OF_MONTH=new Hn(1);Hn.FIRST_DAY_OF_NEXT_MONTH=new Hn(2);Hn.FIRST_DAY_OF_YEAR=new Hn(3);Hn.LAST_DAY_OF_YEAR=new Hn(4);Hn.FIRST_DAY_OF_NEXT_YEAR=new Hn(5);var b_=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._ordinal=r,o._dowValue=t.value(),o}var n=e.prototype;return n.adjustInto=function(t){if(this._ordinal>=0){var o=t.with(O.DAY_OF_MONTH,1),a=o.get(O.DAY_OF_WEEK),l=B.intMod(this._dowValue-a+7,7);return l+=(this._ordinal-1)*7,o.plus(l,W.DAYS)}else{var c=t.with(O.DAY_OF_MONTH,t.range(O.DAY_OF_MONTH).maximum()),d=c.get(O.DAY_OF_WEEK),f=this._dowValue-d;return f=f===0?0:f>0?f-7:f,f-=(-this._ordinal-1)*7,c.plus(f,W.DAYS)}},e})(Vc),Nh=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,X(t,"dayOfWeek"),o._relative=r,o._dowValue=t.value(),o}var n=e.prototype;return n.adjustInto=function(t){var o=t.get(O.DAY_OF_WEEK);if(this._relative<2&&o===this._dowValue)return t;if((this._relative&1)===0){var a=o-this._dowValue;return t.plus(a>=0?7-a:-a,W.DAYS)}else{var l=this._dowValue-o;return t.minus(l>=0?7-l:-l,W.DAYS)}},e})(Vc),Bt=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}e.isLeapYear=function(t){return(t&3)===0&&(t%100!==0||t%400===0)};var n=e.prototype;return n._updateResolveMap=function(t,o,a){X(t,"fieldValues"),X(o,"field");var l=t.get(o);if(l!=null&&l!==a)throw new Ze("Invalid state, field: "+o+" "+l+" conflicts with "+o+" "+a);t.put(o,a)},n.resolveDate=function(t,o){if(t.containsKey(O.EPOCH_DAY))return at.ofEpochDay(t.remove(O.EPOCH_DAY));var a=t.remove(O.PROLEPTIC_MONTH);a!=null&&(o!==yt.LENIENT&&O.PROLEPTIC_MONTH.checkValidValue(a),this._updateResolveMap(t,O.MONTH_OF_YEAR,B.floorMod(a,12)+1),this._updateResolveMap(t,O.YEAR,B.floorDiv(a,12)));var l=t.remove(O.YEAR_OF_ERA);if(l!=null){o!==yt.LENIENT&&O.YEAR_OF_ERA.checkValidValue(l);var c=t.remove(O.ERA);if(c==null){var d=t.get(O.YEAR);o===yt.STRICT?d!=null?this._updateResolveMap(t,O.YEAR,d>0?l:B.safeSubtract(1,l)):t.put(O.YEAR_OF_ERA,l):this._updateResolveMap(t,O.YEAR,d==null||d>0?l:B.safeSubtract(1,l))}else if(c===1)this._updateResolveMap(t,O.YEAR,l);else if(c===0)this._updateResolveMap(t,O.YEAR,B.safeSubtract(1,l));else throw new Ze("Invalid value for era: "+c)}else t.containsKey(O.ERA)&&O.ERA.checkValidValue(t.get(O.ERA));if(t.containsKey(O.YEAR)){if(t.containsKey(O.MONTH_OF_YEAR)&&t.containsKey(O.DAY_OF_MONTH)){var f=O.YEAR.checkValidIntValue(t.remove(O.YEAR)),p=t.remove(O.MONTH_OF_YEAR),m=t.remove(O.DAY_OF_MONTH);if(o===yt.LENIENT){var y=p-1,E=m-1;return at.of(f,1,1).plusMonths(y).plusDays(E)}else return o===yt.SMART&&(O.DAY_OF_MONTH.checkValidValue(m),p===4||p===6||p===9||p===11?m=Math.min(m,30):p===2&&(m=Math.min(m,dt.FEBRUARY.length(ti.isLeap(f))))),at.of(f,p,m)}if(t.containsKey(O.DAY_OF_YEAR)){var T=O.YEAR.checkValidIntValue(t.remove(O.YEAR));if(o===yt.LENIENT){var C=B.safeSubtract(t.remove(O.DAY_OF_YEAR),1);return at.ofYearDay(T,1).plusDays(C)}var S=O.DAY_OF_YEAR.checkValidIntValue(t.remove(O.DAY_OF_YEAR));return at.ofYearDay(T,S)}if(t.containsKey(O.ALIGNED_WEEK_OF_YEAR)){if(t.containsKey(O.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var b=O.YEAR.checkValidIntValue(t.remove(O.YEAR));if(o===yt.LENIENT){var I=B.safeSubtract(t.remove(O.ALIGNED_WEEK_OF_YEAR),1),N=B.safeSubtract(t.remove(O.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return at.of(b,1,1).plusWeeks(I).plusDays(N)}var x=O.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(O.ALIGNED_WEEK_OF_YEAR)),L=O.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(t.remove(O.ALIGNED_DAY_OF_WEEK_IN_YEAR)),F=at.of(b,1,1).plusDays((x-1)*7+(L-1));if(o===yt.STRICT&&F.get(O.YEAR)!==b)throw new Ze("Strict mode rejected date parsed to a different year");return F}if(t.containsKey(O.DAY_OF_WEEK)){var G=O.YEAR.checkValidIntValue(t.remove(O.YEAR));if(o===yt.LENIENT){var Q=B.safeSubtract(t.remove(O.ALIGNED_WEEK_OF_YEAR),1),j=B.safeSubtract(t.remove(O.DAY_OF_WEEK),1);return at.of(G,1,1).plusWeeks(Q).plusDays(j)}var Z=O.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(O.ALIGNED_WEEK_OF_YEAR)),ie=O.DAY_OF_WEEK.checkValidIntValue(t.remove(O.DAY_OF_WEEK)),J=at.of(G,1,1).plusWeeks(Z-1).with(LT.nextOrSame(tn.of(ie)));if(o===yt.STRICT&&J.get(O.YEAR)!==G)throw new Ze("Strict mode rejected date parsed to a different month");return J}}}return null},n.date=function(t){return at.from(t)},e})(Gl);function lJ(){Bt.INSTANCE=new Bt("IsoChronology")}var Ei=(function(i){vt(e,i),e.from=function(t){if(X(t,"temporal"),t instanceof e)return t;if(t instanceof ni)return t.toOffsetTime();try{var o=Te.from(t),a=pt.from(t);return new e(o,a)}catch{throw new Ze("Unable to obtain OffsetTime TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""))}},e.now=function(t){return arguments.length===0?e._now(Xt.systemDefaultZone()):t instanceof Xt?e._now(t):e._now(Xt.system(t))},e._now=function(t){X(t,"clock");var o=t.instant();return e.ofInstant(o,t.zone().rules().offset(o))},e.of=function(){return arguments.length<=2?e.ofTimeAndOffset.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofNumbers=function(t,o,a,l,c){var d=Te.of(t,o,a,l);return new e(d,c)},e.ofTimeAndOffset=function(t,o){return new e(t,o)},e.ofInstant=function(t,o){X(t,"instant"),st(t,nn,"instant"),X(o,"zone"),st(o,Ht,"zone");var a=o.rules(),l=a.offset(t),c=t.epochSecond()%Te.SECONDS_PER_DAY;c=(c+l.totalSeconds())%Te.SECONDS_PER_DAY,c<0&&(c+=Te.SECONDS_PER_DAY);var d=Te.ofSecondOfDay(c,t.nano());return new e(d,l)},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_OFFSET_TIME),X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t){var o;return o=i.call(this)||this,X(r,"time"),st(r,Te,"time"),X(t,"offset"),st(t,pt,"offset"),o._time=r,o._offset=t,o}var n=e.prototype;return n.adjustInto=function(t){return t.with(O.NANO_OF_DAY,this._time.toNanoOfDay()).with(O.OFFSET_SECONDS,this.offset().totalSeconds())},n.atDate=function(t){return ni.of(t,this._time,this._offset)},n.format=function(t){return X(t,"formatter"),t.format(this,e.FROM)},n.get=function(t){return i.prototype.get.call(this,t)},n.getLong=function(t){return t instanceof O?t===O.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(t):t.getFrom(this)},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.offset=function(){return this._offset},n.isAfter=function(t){return X(t,"other"),this._toEpochNano()>t._toEpochNano()},n.isBefore=function(t){return X(t,"other"),this._toEpochNano()<t._toEpochNano()},n.isEqual=function(t){return X(t,"other"),this._toEpochNano()===t._toEpochNano()},n.isSupported=function(t){return t instanceof O?t.isTimeBased()||t===O.OFFSET_SECONDS:t instanceof W?t.isTimeBased():t!=null&&t.isSupportedBy(this)},n.minusHours=function(t){return this._withLocalTimeOffset(this._time.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withLocalTimeOffset(this._time.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withLocalTimeOffset(this._time.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withLocalTimeOffset(this._time.minusNanos(t),this._offset)},n._minusAmount=function(t){return X(t),t.subtractFrom(this)},n._minusUnit=function(t,o){return this.plus(-1*t,o)},n._plusAmount=function(t){return X(t),t.addTo(this)},n._plusUnit=function(t,o){return o instanceof W?this._withLocalTimeOffset(this._time.plus(t,o),this._offset):o.addTo(this,t)},n.plusHours=function(t){return this._withLocalTimeOffset(this._time.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withLocalTimeOffset(this._time.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withLocalTimeOffset(this._time.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withLocalTimeOffset(this._time.plusNanos(t),this._offset)},n.query=function(t){return X(t,"query"),t===qe.precision()?W.NANOS:t===qe.offset()||t===qe.zone()?this.offset():t===qe.localTime()?this._time:t===qe.chronology()||t===qe.localDate()||t===qe.zoneId()?null:i.prototype.query.call(this,t)},n.range=function(t){return t instanceof O?t===O.OFFSET_SECONDS?t.range():this._time.range(t):t.rangeRefinedBy(this)},n.toLocalTime=function(){return this._time},n.truncatedTo=function(t){return this._withLocalTimeOffset(this._time.truncatedTo(t),this._offset)},n.until=function(t,o){X(t,"endExclusive"),X(o,"unit");var a=e.from(t);if(o instanceof W){var l=a._toEpochNano()-this._toEpochNano();switch(o){case W.NANOS:return l;case W.MICROS:return B.intDiv(l,1e3);case W.MILLIS:return B.intDiv(l,1e6);case W.SECONDS:return B.intDiv(l,Te.NANOS_PER_SECOND);case W.MINUTES:return B.intDiv(l,Te.NANOS_PER_MINUTE);case W.HOURS:return B.intDiv(l,Te.NANOS_PER_HOUR);case W.HALF_DAYS:return B.intDiv(l,12*Te.NANOS_PER_HOUR)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},n.withHour=function(t){return this._withLocalTimeOffset(this._time.withHour(t),this._offset)},n.withMinute=function(t){return this._withLocalTimeOffset(this._time.withMinute(t),this._offset)},n.withSecond=function(t){return this._withLocalTimeOffset(this._time.withSecond(t),this._offset)},n.withNano=function(t){return this._withLocalTimeOffset(this._time.withNano(t),this._offset)},n.withOffsetSameInstant=function(t){if(X(t,"offset"),t.equals(this._offset))return this;var o=t.totalSeconds()-this._offset.totalSeconds(),a=this._time.plusSeconds(o);return new e(a,t)},n.withOffsetSameLocal=function(t){return t!=null&&t.equals(this._offset)?this:new e(this._time,t)},n._toEpochNano=function(){var t=this._time.toNanoOfDay(),o=this._offset.totalSeconds()*Te.NANOS_PER_SECOND;return t-o},n._withAdjuster=function(t){return X(t,"adjuster"),t instanceof Te?this._withLocalTimeOffset(t,this._offset):t instanceof pt?this._withLocalTimeOffset(this._time,t):t instanceof e?t:t.adjustInto(this)},n._withField=function(t,o){return X(t,"field"),t instanceof O?t===O.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,pt.ofTotalSeconds(t.checkValidIntValue(o))):this._withLocalTimeOffset(this._time.with(t,o),this._offset):t.adjustInto(this,o)},n._withLocalTimeOffset=function(t,o){return this._time===t&&this._offset.equals(o)?this:new e(t,o)},n.compareTo=function(t){if(X(t,"other"),st(t,e,"other"),this._offset.equals(t._offset))return this._time.compareTo(t._time);var o=B.compareNumbers(this._toEpochNano(),t._toEpochNano());return o===0?this._time.compareTo(t._time):o},n.equals=function(t){return this===t?!0:t instanceof e?this._time.equals(t._time)&&this._offset.equals(t._offset):!1},n.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},n.toString=function(){return this._time.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},e})(cr);function uJ(){Ei.MIN=Ei.ofNumbers(0,0,0,0,pt.MAX),Ei.MAX=Ei.ofNumbers(23,59,59,999999999,pt.MIN),Ei.FROM=Dn("OffsetTime.FROM",function(i){return Ei.from(i)})}var UT=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.query=function(t){return t===qe.zoneId()||t===qe.zone()?this.zone():t===qe.chronology()?this.toLocalDate().chronology():t===qe.precision()?W.NANOS:t===qe.offset()?this.offset():t===qe.localDate()?at.ofEpochDay(this.toLocalDate().toEpochDay()):t===qe.localTime()?this.toLocalTime():i.prototype.query.call(this,t)},n.format=function(t){return X(t,"formatter"),t.format(this)},n.toInstant=function(){return nn.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},n.toEpochSecond=function(){var t=this.toLocalDate().toEpochDay(),o=t*86400+this.toLocalTime().toSecondOfDay();return o-=this.offset().totalSeconds(),o},n.compareTo=function(t){X(t,"other");var o=B.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-t.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(t.toLocalDateTime()),o===0&&(o=cJ(this.zone().id(),t.zone().id())))),o},n.isAfter=function(t){X(t,"other");var o=this.toEpochSecond(),a=t.toEpochSecond();return o>a||o===a&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){X(t,"other");var o=this.toEpochSecond(),a=t.toEpochSecond();return o<a||o===a&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return X(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t?!0:t instanceof e?this.compareTo(t)===0:!1},e})(cr);function cJ(i,e){return i<e?-1:i>e?1:0}var ii=(function(i){vt(e,i),e.now=function(t){var o;return t instanceof Ht?o=Xt.system(t):o=t??Xt.systemDefaultZone(),e.ofInstant(o.instant(),o.zone())},e.of=function(){return arguments.length<=2?e.of2.apply(this,arguments):arguments.length===3&&arguments[0]instanceof at?e.of3.apply(this,arguments):e.of8.apply(this,arguments)},e.of3=function(t,o,a){return e.of2(qt.of(t,o),a)},e.of2=function(t,o){return e.ofLocal(t,o,null)},e.of8=function(t,o,a,l,c,d,f,p){var m=qt.of(t,o,a,l,c,d,f);return e.ofLocal(m,p,null)},e.ofLocal=function(t,o,a){if(X(t,"localDateTime"),X(o,"zone"),o instanceof pt)return new e(t,o,o);var l=null,c=o.rules(),d=c.validOffsets(t);if(d.length===1)l=d[0];else if(d.length===0){var f=c.transition(t);t=t.plusSeconds(f.duration().seconds()),l=f.offsetAfter()}else a!=null&&d.some(function(p){return p.equals(a)})?l=a:l=X(d[0],"offset");return new e(t,l,o)},e.ofInstant=function(){return arguments.length===2?e.ofInstant2.apply(this,arguments):e.ofInstant3.apply(this,arguments)},e.ofInstant2=function(t,o){return X(t,"instant"),X(o,"zone"),e._create(t.epochSecond(),t.nano(),o)},e.ofInstant3=function(t,o,a){return X(t,"localDateTime"),X(o,"offset"),X(a,"zone"),e._create(t.toEpochSecond(o),t.nano(),a)},e._create=function(t,o,a){var l=a.rules(),c=nn.ofEpochSecond(t,o),d=l.offset(c),f=qt.ofEpochSecond(t,o,d);return new e(f,d,a)},e.ofStrict=function(t,o,a){X(t,"localDateTime"),X(o,"offset"),X(a,"zone");var l=a.rules();if(l.isValidOffset(t,o)===!1){var c=l.transition(t);throw c!=null&&c.isGap()?new Ze("LocalDateTime "+t+" does not exist in zone "+a+" due to a gap in the local time-line, typically caused by daylight savings"):new Ze('ZoneOffset "'+o+'" is not valid for LocalDateTime "'+t+'" in zone "'+a+'"')}return new e(t,o,a)},e.ofLenient=function(t,o,a){if(X(t,"localDateTime"),X(o,"offset"),X(a,"zone"),a instanceof pt&&o.equals(a)===!1)throw new ot("ZoneId must match ZoneOffset");return new e(t,o,a)},e.from=function(t){if(X(t,"temporal"),t instanceof e)return t;var o=Ht.from(t);if(t.isSupported(O.INSTANT_SECONDS)){var a=e._from(t,o);if(a!=null)return a}var l=qt.from(t);return e.of2(l,o)},e._from=function(t,o){try{return e.__from(t,o)}catch(a){if(!(a instanceof Ze))throw a}},e.__from=function(t,o){var a=t.getLong(O.INSTANT_SECONDS),l=t.get(O.NANO_OF_SECOND);return e._create(a,l,o)},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_ZONED_DATE_TIME),X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t,o){var a;return X(r,"dateTime"),X(t,"offset"),X(o,"zone"),a=i.call(this)||this,a._dateTime=r,a._offset=t,a._zone=o,a}var n=e.prototype;return n._resolveLocal=function(t){return X(t,"newDateTime"),e.ofLocal(t,this._zone,this._offset)},n._resolveInstant=function(t){return e.ofInstant3(t,this._offset,this._zone)},n._resolveOffset=function(t){return t.equals(this._offset)===!1&&this._zone.rules().isValidOffset(this._dateTime,t)?new e(this._dateTime,t,this._zone):this},n.isSupported=function(t){return t instanceof O?!0:t instanceof W?t.isDateBased()||t.isTimeBased():t!=null&&t.isSupportedBy(this)},n.range=function(t){return t instanceof O?t===O.INSTANT_SECONDS||t===O.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof O){switch(t){case O.INSTANT_SECONDS:return this.toEpochSecond();case O.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(t)}return X(t,"field"),t.getFrom(this)},n.offset=function(){return this._offset},n.withEarlierOffsetAtOverlap=function(){var t=this._zone.rules().transition(this._dateTime);if(t!=null&&t.isOverlap()){var o=t.offsetBefore();if(o.equals(this._offset)===!1)return new e(this._dateTime,o,this._zone)}return this},n.withLaterOffsetAtOverlap=function(){var t=this._zone.rules().transition(this.toLocalDateTime());if(t!=null){var o=t.offsetAfter();if(o.equals(this._offset)===!1)return new e(this._dateTime,o,this._zone)}return this},n.zone=function(){return this._zone},n.withZoneSameLocal=function(t){return X(t,"zone"),this._zone.equals(t)?this:e.ofLocal(this._dateTime,t,this._offset)},n.withZoneSameInstant=function(t){return X(t,"zone"),this._zone.equals(t)?this:e._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),t)},n.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new e(this._dateTime,this._offset,this._offset)},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n._withAdjuster=function(t){if(t instanceof at)return this._resolveLocal(qt.of(t,this._dateTime.toLocalTime()));if(t instanceof Te)return this._resolveLocal(qt.of(this._dateTime.toLocalDate(),t));if(t instanceof qt)return this._resolveLocal(t);if(t instanceof nn){var o=t;return e._create(o.epochSecond(),o.nano(),this._zone)}else if(t instanceof pt)return this._resolveOffset(t);return i.prototype._withAdjuster.call(this,t)},n._withField=function(t,o){if(t instanceof O){switch(t){case O.INSTANT_SECONDS:return e._create(o,this.nano(),this._zone);case O.OFFSET_SECONDS:{var a=pt.ofTotalSeconds(t.checkValidIntValue(o));return this._resolveOffset(a)}}return this._resolveLocal(this._dateTime.with(t,o))}return t.adjustInto(this,o)},n.withYear=function(t){return this._resolveLocal(this._dateTime.withYear(t))},n.withMonth=function(t){return this._resolveLocal(this._dateTime.withMonth(t))},n.withDayOfMonth=function(t){return this._resolveLocal(this._dateTime.withDayOfMonth(t))},n.withDayOfYear=function(t){return this._resolveLocal(this._dateTime.withDayOfYear(t))},n.withHour=function(t){return this._resolveLocal(this._dateTime.withHour(t))},n.withMinute=function(t){return this._resolveLocal(this._dateTime.withMinute(t))},n.withSecond=function(t){return this._resolveLocal(this._dateTime.withSecond(t))},n.withNano=function(t){return this._resolveLocal(this._dateTime.withNano(t))},n.truncatedTo=function(t){return this._resolveLocal(this._dateTime.truncatedTo(t))},n._plusUnit=function(t,o){return o instanceof W?o.isDateBased()?this._resolveLocal(this._dateTime.plus(t,o)):this._resolveInstant(this._dateTime.plus(t,o)):(X(o,"unit"),o.addTo(this,t))},n.plusYears=function(t){return this._resolveLocal(this._dateTime.plusYears(t))},n.plusMonths=function(t){return this._resolveLocal(this._dateTime.plusMonths(t))},n.plusWeeks=function(t){return this._resolveLocal(this._dateTime.plusWeeks(t))},n.plusDays=function(t){return this._resolveLocal(this._dateTime.plusDays(t))},n.plusHours=function(t){return this._resolveInstant(this._dateTime.plusHours(t))},n.plusMinutes=function(t){return this._resolveInstant(this._dateTime.plusMinutes(t))},n.plusSeconds=function(t){return this._resolveInstant(this._dateTime.plusSeconds(t))},n.plusNanos=function(t){return this._resolveInstant(this._dateTime.plusNanos(t))},n._minusUnit=function(t,o){return this._plusUnit(-1*t,o)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this.plusHours(-1*t)},n.minusMinutes=function(t){return this.plusMinutes(-1*t)},n.minusSeconds=function(t){return this.plusSeconds(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.query=function(t){return t===qe.localDate()?this.toLocalDate():(X(t,"query"),i.prototype.query.call(this,t))},n.until=function(t,o){var a=e.from(t);if(o instanceof W){if(a=a.withZoneSameInstant(this._zone),o.isDateBased())return this._dateTime.until(a._dateTime,o);var l=this._offset.totalSeconds()-a._offset.totalSeconds(),c=a._dateTime.plusSeconds(l);return this._dateTime.until(c,o)}return o.between(this,a)},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetDateTime=function(){return ni.of(this._dateTime,this._offset)},n.equals=function(t){return this===t?!0:t instanceof e?this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset)&&this._zone.equals(t._zone):!1},n.hashCode=function(){return B.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},n.toString=function(){var t=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(t+="["+this._zone.toString()+"]"),t},n.toJSON=function(){return this.toString()},n.format=function(t){return i.prototype.format.call(this,t)},e})(UT);function dJ(){ii.FROM=Dn("ZonedDateTime.FROM",function(i){return ii.from(i)})}var ni=(function(i){vt(e,i),e.from=function(t){if(X(t,"temporal"),t instanceof e)return t;try{var o=pt.from(t);try{var a=qt.from(t);return e.of(a,o)}catch{var l=nn.from(t);return e.ofInstant(l,o)}}catch{throw new Ze("Unable to obtain OffsetDateTime TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""))}},e.now=function(t){if(arguments.length===0)return e.now(Xt.systemDefaultZone());if(X(t,"clockOrZone"),t instanceof Ht)return e.now(Xt.system(t));if(t instanceof Xt){var o=t.instant();return e.ofInstant(o,t.zone().rules().offset(o))}else throw new ot("clockOrZone must be an instance of ZoneId or Clock")},e.of=function(){return arguments.length<=2?e.ofDateTime.apply(this,arguments):arguments.length===3?e.ofDateAndTime.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofDateTime=function(t,o){return new e(t,o)},e.ofDateAndTime=function(t,o,a){var l=qt.of(t,o);return new e(l,a)},e.ofNumbers=function(t,o,a,l,c,d,f,p){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0);var m=qt.of(t,o,a,l,c,d,f);return new e(m,p)},e.ofInstant=function(t,o){X(t,"instant"),X(o,"zone");var a=o.rules(),l=a.offset(t),c=qt.ofEpochSecond(t.epochSecond(),t.nano(),l);return new e(c,l)},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_OFFSET_DATE_TIME),X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t){var o;return o=i.call(this)||this,X(r,"dateTime"),st(r,qt,"dateTime"),X(t,"offset"),st(t,pt,"offset"),o._dateTime=r,o._offset=t,o}var n=e.prototype;return n.adjustInto=function(t){return t.with(O.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(O.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(O.OFFSET_SECONDS,this.offset().totalSeconds())},n.until=function(t,o){var a=e.from(t);return o instanceof W?(a=a.withOffsetSameInstant(this._offset),this._dateTime.until(a._dateTime,o)):o.between(this,a)},n.atZoneSameInstant=function(t){return ii.ofInstant(this._dateTime,this._offset,t)},n.atZoneSimilarLocal=function(t){return ii.ofLocal(this._dateTime,t,this._offset)},n.query=function(t){return X(t,"query"),t===qe.chronology()?Bt.INSTANCE:t===qe.precision()?W.NANOS:t===qe.offset()||t===qe.zone()?this.offset():t===qe.localDate()?this.toLocalDate():t===qe.localTime()?this.toLocalTime():t===qe.zoneId()?null:i.prototype.query.call(this,t)},n.get=function(t){if(t instanceof O){switch(t){case O.INSTANT_SECONDS:throw new Ze("Field too large for an int: "+t);case O.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(t)}return i.prototype.get.call(this,t)},n.getLong=function(t){if(t instanceof O){switch(t){case O.INSTANT_SECONDS:return this.toEpochSecond();case O.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(t)}return t.getFrom(this)},n.offset=function(){return this._offset},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetTime=function(){return Ei.of(this._dateTime.toLocalTime(),this._offset)},n.toZonedDateTime=function(){return ii.of(this._dateTime,this._offset)},n.toInstant=function(){return this._dateTime.toInstant(this._offset)},n.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},n.isSupported=function(t){return t instanceof O||t instanceof W?t.isDateBased()||t.isTimeBased():t!=null&&t.isSupportedBy(this)},n.range=function(t){return t instanceof O?t===O.INSTANT_SECONDS||t===O.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n._withAdjuster=function(t){return X(t),t instanceof at||t instanceof Te||t instanceof qt?this._withDateTimeOffset(this._dateTime.with(t),this._offset):t instanceof nn?e.ofInstant(t,this._offset):t instanceof pt?this._withDateTimeOffset(this._dateTime,t):t instanceof e?t:t.adjustInto(this)},n._withField=function(t,o){if(X(t),t instanceof O){var a=t;switch(a){case O.INSTANT_SECONDS:return e.ofInstant(nn.ofEpochSecond(o,this.nano()),this._offset);case O.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,pt.ofTotalSeconds(a.checkValidIntValue(o)))}return this._withDateTimeOffset(this._dateTime.with(t,o),this._offset)}return t.adjustInto(this,o)},n._withDateTimeOffset=function(t,o){return this._dateTime===t&&this._offset.equals(o)?this:new e(t,o)},n.withYear=function(t){return this._withDateTimeOffset(this._dateTime.withYear(t),this._offset)},n.withMonth=function(t){return this._withDateTimeOffset(this._dateTime.withMonth(t),this._offset)},n.withDayOfMonth=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(t),this._offset)},n.withDayOfYear=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfYear(t),this._offset)},n.withHour=function(t){return this._withDateTimeOffset(this._dateTime.withHour(t),this._offset)},n.withMinute=function(t){return this._withDateTimeOffset(this._dateTime.withMinute(t),this._offset)},n.withSecond=function(t){return this._withDateTimeOffset(this._dateTime.withSecond(t),this._offset)},n.withNano=function(t){return this._withDateTimeOffset(this._dateTime.withNano(t),this._offset)},n.withOffsetSameLocal=function(t){return X(t,"offset"),this._withDateTimeOffset(this._dateTime,t)},n.withOffsetSameInstant=function(t){if(X(t,"offset"),t.equals(this._offset))return this;var o=t.totalSeconds()-this._offset.totalSeconds(),a=this._dateTime.plusSeconds(o);return new e(a,t)},n.truncatedTo=function(t){return this._withDateTimeOffset(this._dateTime.truncatedTo(t),this._offset)},n._plusAmount=function(t){return X(t,"amount"),t.addTo(this)},n._plusUnit=function(t,o){return o instanceof W?this._withDateTimeOffset(this._dateTime.plus(t,o),this._offset):o.addTo(this,t)},n.plusYears=function(t){return this._withDateTimeOffset(this._dateTime.plusYears(t),this._offset)},n.plusMonths=function(t){return this._withDateTimeOffset(this._dateTime.plusMonths(t),this._offset)},n.plusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.plusWeeks(t),this._offset)},n.plusDays=function(t){return this._withDateTimeOffset(this._dateTime.plusDays(t),this._offset)},n.plusHours=function(t){return this._withDateTimeOffset(this._dateTime.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withDateTimeOffset(this._dateTime.plusNanos(t),this._offset)},n._minusAmount=function(t){return X(t),t.subtractFrom(this)},n._minusUnit=function(t,o){return this.plus(-1*t,o)},n.minusYears=function(t){return this._withDateTimeOffset(this._dateTime.minusYears(t),this._offset)},n.minusMonths=function(t){return this._withDateTimeOffset(this._dateTime.minusMonths(t),this._offset)},n.minusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.minusWeeks(t),this._offset)},n.minusDays=function(t){return this._withDateTimeOffset(this._dateTime.minusDays(t),this._offset)},n.minusHours=function(t){return this._withDateTimeOffset(this._dateTime.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withDateTimeOffset(this._dateTime.minusNanos(t),this._offset)},n.compareTo=function(t){if(X(t,"other"),st(t,e,"other"),this.offset().equals(t.offset()))return this.toLocalDateTime().compareTo(t.toLocalDateTime());var o=B.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-t.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(t.toLocalDateTime()))),o},n.isAfter=function(t){X(t,"other");var o=this.toEpochSecond(),a=t.toEpochSecond();return o>a||o===a&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){X(t,"other");var o=this.toEpochSecond(),a=t.toEpochSecond();return o<a||o===a&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return X(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t?!0:t instanceof e?this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset):!1},n.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},n.toString=function(){return this._dateTime.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),t.format(this)},e})(cr);function fJ(){ni.MIN=qt.MIN.atOffset(pt.MAX),ni.MAX=qt.MAX.atOffset(pt.MIN),ni.FROM=Dn("OffsetDateTime.FROM",function(i){return ni.from(i)})}var Ip=146097,ex=Ip*5-(30*365+7),at=(function(i){vt(e,i),e.now=function(t){var o;return t==null?o=Xt.systemDefaultZone():t instanceof Ht?o=Xt.system(t):o=t,e.ofInstant(o.instant(),o.zone())},e.ofInstant=function(t,o){o===void 0&&(o=Ht.systemDefault()),X(t,"instant");var a=o.rules().offset(t),l=t.epochSecond()+a.totalSeconds(),c=B.floorDiv(l,Te.SECONDS_PER_DAY);return e.ofEpochDay(c)},e.of=function(t,o,a){return new e(t,o,a)},e.ofYearDay=function(t,o){O.YEAR.checkValidValue(t);var a=Bt.isLeapYear(t);o===366&&a===!1&&Jt(!1,"Invalid date 'DayOfYear 366' as '"+t+"' is not a leap year",Ze);var l=dt.of(Math.floor((o-1)/31+1)),c=l.firstDayOfYear(a)+l.length(a)-1;o>c&&(l=l.plus(1));var d=o-l.firstDayOfYear(a)+1;return new e(t,l.value(),d)},e.ofEpochDay=function(t){t===void 0&&(t=0);var o,a,l,c,d;d=t+ex,d-=60,o=0,d<0&&(a=B.intDiv(d+1,Ip)-1,o=a*400,d+=-a*Ip),c=B.intDiv(400*d+591,Ip),l=d-(365*c+B.intDiv(c,4)-B.intDiv(c,100)+B.intDiv(c,400)),l<0&&(c--,l=d-(365*c+B.intDiv(c,4)-B.intDiv(c,100)+B.intDiv(c,400))),c+=o;var f=l,p=B.intDiv(f*5+2,153),m=(p+2)%12+1,y=f-B.intDiv(p*306+5,10)+1;c+=B.intDiv(p,10);var E=c;return new e(E,m,y)},e.from=function(t){X(t,"temporal");var o=t.query(qe.localDate());if(o==null)throw new Ze("Unable to obtain LocalDate from TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""));return o},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_LOCAL_DATE),Jt(o!=null,"formatter",zi),o.parse(t,e.FROM)},e._resolvePreviousValid=function(t,o,a){switch(o){case 2:a=Math.min(a,Bt.isLeapYear(t)?29:28);break;case 4:case 6:case 9:case 11:a=Math.min(a,30);break}return e.of(t,o,a)};function e(r,t,o){var a;return a=i.call(this)||this,X(r,"year"),X(t,"month"),X(o,"dayOfMonth"),t instanceof dt&&(t=t.value()),a._year=B.safeToInt(r),a._month=B.safeToInt(t),a._day=B.safeToInt(o),e._validate(a._year,a._month,a._day),a}e._validate=function(t,o,a){var l;if(O.YEAR.checkValidValue(t),O.MONTH_OF_YEAR.checkValidValue(o),O.DAY_OF_MONTH.checkValidValue(a),a>28){switch(l=31,o){case 2:l=Bt.isLeapYear(t)?29:28;break;case 4:case 6:case 9:case 11:l=30}a>l&&(a===29?Jt(!1,"Invalid date 'February 29' as '"+t+"' is not a leap year",Ze):Jt(!1,"Invalid date '"+t+"' '"+o+"' '"+a+"'",Ze))}};var n=e.prototype;return n.isSupported=function(t){return i.prototype.isSupported.call(this,t)},n.range=function(t){if(t instanceof O){if(t.isDateBased()){switch(t){case O.DAY_OF_MONTH:return _t.of(1,this.lengthOfMonth());case O.DAY_OF_YEAR:return _t.of(1,this.lengthOfYear());case O.ALIGNED_WEEK_OF_MONTH:return _t.of(1,this.month()===dt.FEBRUARY&&this.isLeapYear()===!1?4:5);case O.YEAR_OF_ERA:return this._year<=0?_t.of(1,ti.MAX_VALUE+1):_t.of(1,ti.MAX_VALUE)}return t.range()}throw new At("Unsupported field: "+t)}return t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return Jt(t!=null,"",zi),t instanceof O?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case O.DAY_OF_WEEK:return this.dayOfWeek().value();case O.ALIGNED_DAY_OF_WEEK_IN_MONTH:return B.intMod(this._day-1,7)+1;case O.ALIGNED_DAY_OF_WEEK_IN_YEAR:return B.intMod(this.dayOfYear()-1,7)+1;case O.DAY_OF_MONTH:return this._day;case O.DAY_OF_YEAR:return this.dayOfYear();case O.EPOCH_DAY:return this.toEpochDay();case O.ALIGNED_WEEK_OF_MONTH:return B.intDiv(this._day-1,7)+1;case O.ALIGNED_WEEK_OF_YEAR:return B.intDiv(this.dayOfYear()-1,7)+1;case O.MONTH_OF_YEAR:return this._month;case O.PROLEPTIC_MONTH:return this._prolepticMonth();case O.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case O.YEAR:return this._year;case O.ERA:return this._year>=1?1:0}throw new At("Unsupported field: "+t)},n._prolepticMonth=function(){return this._year*12+(this._month-1)},n.chronology=function(){return Bt.INSTANCE},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return dt.of(this._month)},n.dayOfMonth=function(){return this._day},n.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},n.dayOfWeek=function(){var t=B.floorMod(this.toEpochDay()+3,7);return tn.of(t+1)},n.isLeapYear=function(){return Bt.isLeapYear(this._year)},n.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n._withAdjuster=function(t){return X(t,"adjuster"),t instanceof e?t:i.prototype._withAdjuster.call(this,t)},n._withField=function(t,o){if(Jt(t!=null,"field",zi),t instanceof O){var a=t;switch(a.checkValidValue(o),a){case O.DAY_OF_WEEK:return this.plusDays(o-this.dayOfWeek().value());case O.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(o-this.getLong(O.ALIGNED_DAY_OF_WEEK_IN_MONTH));case O.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(o-this.getLong(O.ALIGNED_DAY_OF_WEEK_IN_YEAR));case O.DAY_OF_MONTH:return this.withDayOfMonth(o);case O.DAY_OF_YEAR:return this.withDayOfYear(o);case O.EPOCH_DAY:return e.ofEpochDay(o);case O.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(o-this.getLong(O.ALIGNED_WEEK_OF_MONTH));case O.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(o-this.getLong(O.ALIGNED_WEEK_OF_YEAR));case O.MONTH_OF_YEAR:return this.withMonth(o);case O.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(O.PROLEPTIC_MONTH));case O.YEAR_OF_ERA:return this.withYear(this._year>=1?o:1-o);case O.YEAR:return this.withYear(o);case O.ERA:return this.getLong(O.ERA)===o?this:this.withYear(1-this._year)}throw new At("Unsupported field: "+t)}return t.adjustInto(this,o)},n.withYear=function(t){return this._year===t?this:(O.YEAR.checkValidValue(t),e._resolvePreviousValid(t,this._month,this._day))},n.withMonth=function(t){var o=t instanceof dt?t.value():t;return this._month===o?this:(O.MONTH_OF_YEAR.checkValidValue(o),e._resolvePreviousValid(this._year,o,this._day))},n.withDayOfMonth=function(t){return this._day===t?this:e.of(this._year,this._month,t)},n.withDayOfYear=function(t){return this.dayOfYear()===t?this:e.ofYearDay(this._year,t)},n._plusUnit=function(t,o){if(X(t,"amountToAdd"),X(o,"unit"),o instanceof W){switch(o){case W.DAYS:return this.plusDays(t);case W.WEEKS:return this.plusWeeks(t);case W.MONTHS:return this.plusMonths(t);case W.YEARS:return this.plusYears(t);case W.DECADES:return this.plusYears(B.safeMultiply(t,10));case W.CENTURIES:return this.plusYears(B.safeMultiply(t,100));case W.MILLENNIA:return this.plusYears(B.safeMultiply(t,1e3));case W.ERAS:return this.with(O.ERA,B.safeAdd(this.getLong(O.ERA),t))}throw new At("Unsupported unit: "+o)}return o.addTo(this,t)},n.plusYears=function(t){if(t===0)return this;var o=O.YEAR.checkValidIntValue(this._year+t);return e._resolvePreviousValid(o,this._month,this._day)},n.plusMonths=function(t){if(t===0)return this;var o=this._year*12+(this._month-1),a=o+t,l=O.YEAR.checkValidIntValue(B.floorDiv(a,12)),c=B.floorMod(a,12)+1;return e._resolvePreviousValid(l,c,this._day)},n.plusWeeks=function(t){return this.plusDays(B.safeMultiply(t,7))},n.plusDays=function(t){if(t===0)return this;var o=B.safeAdd(this.toEpochDay(),t);return e.ofEpochDay(o)},n._minusUnit=function(t,o){return X(t,"amountToSubtract"),X(o,"unit"),this._plusUnit(-1*t,o)},n.minusYears=function(t){return this.plusYears(t*-1)},n.minusMonths=function(t){return this.plusMonths(t*-1)},n.minusWeeks=function(t){return this.plusWeeks(t*-1)},n.minusDays=function(t){return this.plusDays(t*-1)},n.query=function(t){return X(t,"query"),t===qe.localDate()?this:i.prototype.query.call(this,t)},n.adjustInto=function(t){return i.prototype.adjustInto.call(this,t)},n.until=function(t,o){return arguments.length<2?this.until1(t):this.until2(t,o)},n.until2=function(t,o){var a=e.from(t);if(o instanceof W){switch(o){case W.DAYS:return this.daysUntil(a);case W.WEEKS:return B.intDiv(this.daysUntil(a),7);case W.MONTHS:return this._monthsUntil(a);case W.YEARS:return B.intDiv(this._monthsUntil(a),12);case W.DECADES:return B.intDiv(this._monthsUntil(a),120);case W.CENTURIES:return B.intDiv(this._monthsUntil(a),1200);case W.MILLENNIA:return B.intDiv(this._monthsUntil(a),12e3);case W.ERAS:return a.getLong(O.ERA)-this.getLong(O.ERA)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},n.daysUntil=function(t){return t.toEpochDay()-this.toEpochDay()},n._monthsUntil=function(t){var o=this._prolepticMonth()*32+this.dayOfMonth(),a=t._prolepticMonth()*32+t.dayOfMonth();return B.intDiv(a-o,32)},n.until1=function(t){var o=e.from(t),a=o._prolepticMonth()-this._prolepticMonth(),l=o._day-this._day;if(a>0&&l<0){a--;var c=this.plusMonths(a);l=o.toEpochDay()-c.toEpochDay()}else a<0&&l>0&&(a++,l-=o.lengthOfMonth());var d=B.intDiv(a,12),f=B.intMod(a,12);return Hi.of(d,f,l)},n.atTime=function(){return arguments.length===1?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},n.atTime1=function(t){if(X(t,"time"),t instanceof Te)return qt.of(this,t);if(t instanceof Ei)return this._atTimeOffsetTime(t);throw new ot("time must be an instance of LocalTime or OffsetTime"+(t&&t.constructor&&t.constructor.name?", but is "+t.constructor.name:""))},n.atTime4=function(t,o,a,l){return a===void 0&&(a=0),l===void 0&&(l=0),this.atTime1(Te.of(t,o,a,l))},n._atTimeOffsetTime=function(t){return ni.of(qt.of(this,t.toLocalTime()),t.offset())},n.atStartOfDay=function(t){return t!=null?this._atStartOfDayWithZone(t):qt.of(this,Te.MIDNIGHT)},n._atStartOfDayWithZone=function(t){X(t,"zone");var o=this.atTime(Te.MIDNIGHT);if(!(t instanceof pt)){var a=t.rules().transition(o);a!=null&&a.isGap()&&(o=a.dateTimeAfter())}return ii.of(o,t)},n.toEpochDay=function(){var t=this._year,o=this._month,a=0;return a+=365*t,t>=0?a+=B.intDiv(t+3,4)-B.intDiv(t+99,100)+B.intDiv(t+399,400):a-=B.intDiv(t,-4)-B.intDiv(t,-100)+B.intDiv(t,-400),a+=B.intDiv(367*o-362,12),a+=this.dayOfMonth()-1,o>2&&(a--,Bt.isLeapYear(t)||a--),a-ex},n.compareTo=function(t){return X(t,"other"),st(t,e,"other"),this._compareTo0(t)},n._compareTo0=function(t){var o=this._year-t._year;return o===0&&(o=this._month-t._month,o===0&&(o=this._day-t._day)),o},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return this.compareTo(t)===0},n.equals=function(t){return this===t?!0:t instanceof e?this._compareTo0(t)===0:!1},n.hashCode=function(){var t=this._year,o=this._month,a=this._day;return B.hash(t&4294965248^(t<<11)+(o<<6)+a)},n.toString=function(){var t,o,a,l=this._year,c=this._month,d=this._day,f=Math.abs(l);return f<1e3?l<0?a="-"+(""+(l-1e4)).slice(-4):a=(""+(l+1e4)).slice(-4):l>9999?a="+"+l:a=""+l,c<10?o="-0"+c:o="-"+c,d<10?t="-0"+d:t="-"+d,a+o+t},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),st(t,wt,"formatter"),i.prototype.format.call(this,t)},e})(Rl);function hJ(){at.MIN=at.of(ur.MIN_VALUE,1,1),at.MAX=at.of(ur.MAX_VALUE,12,31),at.EPOCH_0=at.ofEpochDay(0),at.FROM=Dn("LocalDate.FROM",function(i){return at.from(i)})}var FT=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.chronology=function(){return this.toLocalDate().chronology()},n.query=function(t){return t===qe.chronology()?this.chronology():t===qe.precision()?W.NANOS:t===qe.localDate()?at.ofEpochDay(this.toLocalDate().toEpochDay()):t===qe.localTime()?this.toLocalTime():t===qe.zone()||t===qe.zoneId()||t===qe.offset()?null:i.prototype.query.call(this,t)},n.adjustInto=function(t){return t.with(O.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(O.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},n.toInstant=function(t){return st(t,pt,"zoneId"),nn.ofEpochSecond(this.toEpochSecond(t),this.toLocalTime().nano())},n.toEpochSecond=function(t){X(t,"offset");var o=this.toLocalDate().toEpochDay(),a=o*86400+this.toLocalTime().toSecondOfDay();return a-=t.totalSeconds(),B.safeToInt(a)},e})(cr),qt=(function(i){vt(e,i),e.now=function(t){return t==null?e._now(Xt.systemDefaultZone()):t instanceof Xt?e._now(t):e._now(Xt.system(t))},e._now=function(t){return X(t,"clock"),e.ofInstant(t.instant(),t.zone())},e._ofEpochMillis=function(t,o){var a=B.floorDiv(t,1e3)+o.totalSeconds(),l=B.floorDiv(a,Te.SECONDS_PER_DAY),c=B.floorMod(a,Te.SECONDS_PER_DAY),d=B.floorMod(t,1e3)*1e6,f=at.ofEpochDay(l),p=Te.ofSecondOfDay(c,d);return new e(f,p)},e.of=function(){return arguments.length<=2?e.ofDateAndTime.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofNumbers=function(t,o,a,l,c,d,f){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0);var p=at.of(t,o,a),m=Te.of(l,c,d,f);return new e(p,m)},e.ofDateAndTime=function(t,o){return X(t,"date"),X(o,"time"),new e(t,o)},e.ofInstant=function(t,o){o===void 0&&(o=Ht.systemDefault()),X(t,"instant"),st(t,nn,"instant"),X(o,"zone");var a=o.rules().offset(t);return e.ofEpochSecond(t.epochSecond(),t.nano(),a)},e.ofEpochSecond=function(t,o,a){t===void 0&&(t=0),o===void 0&&(o=0),arguments.length===2&&o instanceof pt&&(a=o,o=0),X(a,"offset");var l=t+a.totalSeconds(),c=B.floorDiv(l,Te.SECONDS_PER_DAY),d=B.floorMod(l,Te.SECONDS_PER_DAY),f=at.ofEpochDay(c),p=Te.ofSecondOfDay(d,o);return new e(f,p)},e.from=function(t){if(X(t,"temporal"),t instanceof e)return t;if(t instanceof ii)return t.toLocalDateTime();try{var o=at.from(t),a=Te.from(t);return new e(o,a)}catch{throw new Ze("Unable to obtain LocalDateTime TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""))}},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_LOCAL_DATE_TIME),X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t){var o;return o=i.call(this)||this,st(r,at,"date"),st(t,Te,"time"),o._date=r,o._time=t,o}var n=e.prototype;return n._withDateTime=function(t,o){return this._date.equals(t)&&this._time.equals(o)?this:new e(t,o)},n.isSupported=function(t){return t instanceof O||t instanceof W?t.isDateBased()||t.isTimeBased():t!=null&&t.isSupportedBy(this)},n.range=function(t){return t instanceof O?t.isTimeBased()?this._time.range(t):this._date.range(t):t.rangeRefinedBy(this)},n.get=function(t){return t instanceof O?t.isTimeBased()?this._time.get(t):this._date.get(t):i.prototype.get.call(this,t)},n.getLong=function(t){return X(t,"field"),t instanceof O?t.isTimeBased()?this._time.getLong(t):this._date.getLong(t):t.getFrom(this)},n.year=function(){return this._date.year()},n.monthValue=function(){return this._date.monthValue()},n.month=function(){return this._date.month()},n.dayOfMonth=function(){return this._date.dayOfMonth()},n.dayOfYear=function(){return this._date.dayOfYear()},n.dayOfWeek=function(){return this._date.dayOfWeek()},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n._withAdjuster=function(t){return X(t,"adjuster"),t instanceof at?this._withDateTime(t,this._time):t instanceof Te?this._withDateTime(this._date,t):t instanceof e?t:i.prototype._withAdjuster.call(this,t)},n._withField=function(t,o){return X(t,"field"),t instanceof O?t.isTimeBased()?this._withDateTime(this._date,this._time.with(t,o)):this._withDateTime(this._date.with(t,o),this._time):t.adjustInto(this,o)},n.withYear=function(t){return this._withDateTime(this._date.withYear(t),this._time)},n.withMonth=function(t){return this._withDateTime(this._date.withMonth(t),this._time)},n.withDayOfMonth=function(t){return this._withDateTime(this._date.withDayOfMonth(t),this._time)},n.withDayOfYear=function(t){return this._withDateTime(this._date.withDayOfYear(t),this._time)},n.withHour=function(t){var o=this._time.withHour(t);return this._withDateTime(this._date,o)},n.withMinute=function(t){var o=this._time.withMinute(t);return this._withDateTime(this._date,o)},n.withSecond=function(t){var o=this._time.withSecond(t);return this._withDateTime(this._date,o)},n.withNano=function(t){var o=this._time.withNano(t);return this._withDateTime(this._date,o)},n.truncatedTo=function(t){return this._withDateTime(this._date,this._time.truncatedTo(t))},n._plusUnit=function(t,o){if(X(o,"unit"),o instanceof W){switch(o){case W.NANOS:return this.plusNanos(t);case W.MICROS:return this.plusDays(B.intDiv(t,Te.MICROS_PER_DAY)).plusNanos(B.intMod(t,Te.MICROS_PER_DAY)*1e3);case W.MILLIS:return this.plusDays(B.intDiv(t,Te.MILLIS_PER_DAY)).plusNanos(B.intMod(t,Te.MILLIS_PER_DAY)*1e6);case W.SECONDS:return this.plusSeconds(t);case W.MINUTES:return this.plusMinutes(t);case W.HOURS:return this.plusHours(t);case W.HALF_DAYS:return this.plusDays(B.intDiv(t,256)).plusHours(B.intMod(t,256)*12)}return this._withDateTime(this._date.plus(t,o),this._time)}return o.addTo(this,t)},n.plusYears=function(t){var o=this._date.plusYears(t);return this._withDateTime(o,this._time)},n.plusMonths=function(t){var o=this._date.plusMonths(t);return this._withDateTime(o,this._time)},n.plusWeeks=function(t){var o=this._date.plusWeeks(t);return this._withDateTime(o,this._time)},n.plusDays=function(t){var o=this._date.plusDays(t);return this._withDateTime(o,this._time)},n.plusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,1)},n.plusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,1)},n.plusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,1)},n.plusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,1)},n._minusUnit=function(t,o){return X(o,"unit"),this._plusUnit(-1*t,o)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,-1)},n.minusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,-1)},n.minusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,-1)},n.minusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,-1)},n._plusWithOverflow=function(t,o,a,l,c,d){if(o===0&&a===0&&l===0&&c===0)return this._withDateTime(t,this._time);var f=B.intDiv(c,Te.NANOS_PER_DAY)+B.intDiv(l,Te.SECONDS_PER_DAY)+B.intDiv(a,Te.MINUTES_PER_DAY)+B.intDiv(o,Te.HOURS_PER_DAY);f*=d;var p=B.intMod(c,Te.NANOS_PER_DAY)+B.intMod(l,Te.SECONDS_PER_DAY)*Te.NANOS_PER_SECOND+B.intMod(a,Te.MINUTES_PER_DAY)*Te.NANOS_PER_MINUTE+B.intMod(o,Te.HOURS_PER_DAY)*Te.NANOS_PER_HOUR,m=this._time.toNanoOfDay();p=p*d+m,f+=B.floorDiv(p,Te.NANOS_PER_DAY);var y=B.floorMod(p,Te.NANOS_PER_DAY),E=y===m?this._time:Te.ofNanoOfDay(y);return this._withDateTime(t.plusDays(f),E)},n.query=function(t){return X(t,"query"),t===qe.localDate()?this.toLocalDate():i.prototype.query.call(this,t)},n.adjustInto=function(t){return i.prototype.adjustInto.call(this,t)},n.until=function(t,o){X(t,"endExclusive"),X(o,"unit");var a=e.from(t);if(o instanceof W){if(o.isTimeBased()){var l=this._date.daysUntil(a._date),c=a._time.toNanoOfDay()-this._time.toNanoOfDay();l>0&&c<0?(l--,c+=Te.NANOS_PER_DAY):l<0&&c>0&&(l++,c-=Te.NANOS_PER_DAY);var d=l;switch(o){case W.NANOS:return d=B.safeMultiply(d,Te.NANOS_PER_DAY),B.safeAdd(d,c);case W.MICROS:return d=B.safeMultiply(d,Te.MICROS_PER_DAY),B.safeAdd(d,B.intDiv(c,1e3));case W.MILLIS:return d=B.safeMultiply(d,Te.MILLIS_PER_DAY),B.safeAdd(d,B.intDiv(c,1e6));case W.SECONDS:return d=B.safeMultiply(d,Te.SECONDS_PER_DAY),B.safeAdd(d,B.intDiv(c,Te.NANOS_PER_SECOND));case W.MINUTES:return d=B.safeMultiply(d,Te.MINUTES_PER_DAY),B.safeAdd(d,B.intDiv(c,Te.NANOS_PER_MINUTE));case W.HOURS:return d=B.safeMultiply(d,Te.HOURS_PER_DAY),B.safeAdd(d,B.intDiv(c,Te.NANOS_PER_HOUR));case W.HALF_DAYS:return d=B.safeMultiply(d,2),B.safeAdd(d,B.intDiv(c,Te.NANOS_PER_HOUR*12))}throw new At("Unsupported unit: "+o)}var f=a._date,p=a._time;return f.isAfter(this._date)&&p.isBefore(this._time)?f=f.minusDays(1):f.isBefore(this._date)&&p.isAfter(this._time)&&(f=f.plusDays(1)),this._date.until(f,o)}return o.between(this,a)},n.atOffset=function(t){return ni.of(this,t)},n.atZone=function(t){return ii.of(this,t)},n.toLocalDate=function(){return this._date},n.toLocalTime=function(){return this._time},n.compareTo=function(t){return X(t,"other"),st(t,e,"other"),this._compareTo0(t)},n._compareTo0=function(t){var o=this._date.compareTo(t.toLocalDate());return o===0&&(o=this._time.compareTo(t.toLocalTime())),o},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return this.compareTo(t)===0},n.equals=function(t){return this===t?!0:t instanceof e?this._date.equals(t._date)&&this._time.equals(t._time):!1},n.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},n.toString=function(){return this._date.toString()+"T"+this._time.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),t.format(this)},e})(FT);function pJ(){qt.MIN=qt.of(at.MIN,Te.MIN),qt.MAX=qt.of(at.MAX,Te.MAX),qt.FROM=Dn("LocalDateTime.FROM",function(i){return qt.from(i)})}var Te=(function(i){vt(e,i),e.now=function(t){return t==null?e._now(Xt.systemDefaultZone()):t instanceof Xt?e._now(t):e._now(Xt.system(t))},e._now=function(t){return t===void 0&&(t=Xt.systemDefaultZone()),X(t,"clock"),e.ofInstant(t.instant(),t.zone())},e.ofInstant=function(t,o){o===void 0&&(o=Ht.systemDefault());var a=o.rules().offset(t),l=B.intMod(t.epochSecond(),e.SECONDS_PER_DAY);return l=B.intMod(l+a.totalSeconds(),e.SECONDS_PER_DAY),l<0&&(l+=e.SECONDS_PER_DAY),e.ofSecondOfDay(l,t.nano())},e.of=function(t,o,a,l){return new e(t,o,a,l)},e.ofSecondOfDay=function(t,o){t===void 0&&(t=0),o===void 0&&(o=0),O.SECOND_OF_DAY.checkValidValue(t),O.NANO_OF_SECOND.checkValidValue(o);var a=B.intDiv(t,e.SECONDS_PER_HOUR);t-=a*e.SECONDS_PER_HOUR;var l=B.intDiv(t,e.SECONDS_PER_MINUTE);return t-=l*e.SECONDS_PER_MINUTE,new e(a,l,t,o)},e.ofNanoOfDay=function(t){t===void 0&&(t=0),O.NANO_OF_DAY.checkValidValue(t);var o=B.intDiv(t,e.NANOS_PER_HOUR);t-=o*e.NANOS_PER_HOUR;var a=B.intDiv(t,e.NANOS_PER_MINUTE);t-=a*e.NANOS_PER_MINUTE;var l=B.intDiv(t,e.NANOS_PER_SECOND);return t-=l*e.NANOS_PER_SECOND,new e(o,a,l,t)},e.from=function(t){X(t,"temporal");var o=t.query(qe.localTime());if(o==null)throw new Ze("Unable to obtain LocalTime TemporalAccessor: "+t+", type "+(t.constructor!=null?t.constructor.name:""));return o},e.parse=function(t,o){return o===void 0&&(o=wt.ISO_LOCAL_TIME),X(o,"formatter"),o.parse(t,e.FROM)};function e(r,t,o,a){var l;r===void 0&&(r=0),t===void 0&&(t=0),o===void 0&&(o=0),a===void 0&&(a=0),l=i.call(this)||this;var c=B.safeToInt(r),d=B.safeToInt(t),f=B.safeToInt(o),p=B.safeToInt(a);return e._validate(c,d,f,p),d===0&&f===0&&p===0?(e.HOURS[c]||(l._hour=c,l._minute=d,l._second=f,l._nano=p,e.HOURS[c]=Nc(l)),e.HOURS[c]||Nc(l)):(l._hour=c,l._minute=d,l._second=f,l._nano=p,l)}e._validate=function(t,o,a,l){O.HOUR_OF_DAY.checkValidValue(t),O.MINUTE_OF_HOUR.checkValidValue(o),O.SECOND_OF_MINUTE.checkValidValue(a),O.NANO_OF_SECOND.checkValidValue(l)};var n=e.prototype;return n.isSupported=function(t){return t instanceof O||t instanceof W?t.isTimeBased():t!=null&&t.isSupportedBy(this)},n.range=function(t){return X(t),i.prototype.range.call(this,t)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return X(t,"field"),t instanceof O?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case O.NANO_OF_SECOND:return this._nano;case O.NANO_OF_DAY:return this.toNanoOfDay();case O.MICRO_OF_SECOND:return B.intDiv(this._nano,1e3);case O.MICRO_OF_DAY:return B.intDiv(this.toNanoOfDay(),1e3);case O.MILLI_OF_SECOND:return B.intDiv(this._nano,1e6);case O.MILLI_OF_DAY:return B.intDiv(this.toNanoOfDay(),1e6);case O.SECOND_OF_MINUTE:return this._second;case O.SECOND_OF_DAY:return this.toSecondOfDay();case O.MINUTE_OF_HOUR:return this._minute;case O.MINUTE_OF_DAY:return this._hour*60+this._minute;case O.HOUR_OF_AMPM:return B.intMod(this._hour,12);case O.CLOCK_HOUR_OF_AMPM:{var o=B.intMod(this._hour,12);return o%12===0?12:o}case O.HOUR_OF_DAY:return this._hour;case O.CLOCK_HOUR_OF_DAY:return this._hour===0?24:this._hour;case O.AMPM_OF_DAY:return B.intDiv(this._hour,12)}throw new At("Unsupported field: "+t)},n.hour=function(){return this._hour},n.minute=function(){return this._minute},n.second=function(){return this._second},n.nano=function(){return this._nano},n._withAdjuster=function(t){return X(t,"adjuster"),t instanceof e?t:i.prototype._withAdjuster.call(this,t)},n._withField=function(t,o){if(X(t,"field"),st(t,wi,"field"),t instanceof O){switch(t.checkValidValue(o),t){case O.NANO_OF_SECOND:return this.withNano(o);case O.NANO_OF_DAY:return e.ofNanoOfDay(o);case O.MICRO_OF_SECOND:return this.withNano(o*1e3);case O.MICRO_OF_DAY:return e.ofNanoOfDay(o*1e3);case O.MILLI_OF_SECOND:return this.withNano(o*1e6);case O.MILLI_OF_DAY:return e.ofNanoOfDay(o*1e6);case O.SECOND_OF_MINUTE:return this.withSecond(o);case O.SECOND_OF_DAY:return this.plusSeconds(o-this.toSecondOfDay());case O.MINUTE_OF_HOUR:return this.withMinute(o);case O.MINUTE_OF_DAY:return this.plusMinutes(o-(this._hour*60+this._minute));case O.HOUR_OF_AMPM:return this.plusHours(o-B.intMod(this._hour,12));case O.CLOCK_HOUR_OF_AMPM:return this.plusHours((o===12?0:o)-B.intMod(this._hour,12));case O.HOUR_OF_DAY:return this.withHour(o);case O.CLOCK_HOUR_OF_DAY:return this.withHour(o===24?0:o);case O.AMPM_OF_DAY:return this.plusHours((o-B.intDiv(this._hour,12))*12)}throw new At("Unsupported field: "+t)}return t.adjustInto(this,o)},n.withHour=function(t){return t===void 0&&(t=0),this._hour===t?this:new e(t,this._minute,this._second,this._nano)},n.withMinute=function(t){return t===void 0&&(t=0),this._minute===t?this:new e(this._hour,t,this._second,this._nano)},n.withSecond=function(t){return t===void 0&&(t=0),this._second===t?this:new e(this._hour,this._minute,t,this._nano)},n.withNano=function(t){return t===void 0&&(t=0),this._nano===t?this:new e(this._hour,this._minute,this._second,t)},n.truncatedTo=function(t){if(X(t,"unit"),t===W.NANOS)return this;var o=t.duration();if(o.seconds()>e.SECONDS_PER_DAY)throw new Ze("Unit is too large to be used for truncation");var a=o.toNanos();if(B.intMod(e.NANOS_PER_DAY,a)!==0)throw new Ze("Unit must divide into a standard day without remainder");var l=this.toNanoOfDay();return e.ofNanoOfDay(B.intDiv(l,a)*a)},n._plusUnit=function(t,o){if(X(o,"unit"),o instanceof W){switch(o){case W.NANOS:return this.plusNanos(t);case W.MICROS:return this.plusNanos(B.intMod(t,e.MICROS_PER_DAY)*1e3);case W.MILLIS:return this.plusNanos(B.intMod(t,e.MILLIS_PER_DAY)*1e6);case W.SECONDS:return this.plusSeconds(t);case W.MINUTES:return this.plusMinutes(t);case W.HOURS:return this.plusHours(t);case W.HALF_DAYS:return this.plusHours(B.intMod(t,2)*12)}throw new At("Unsupported unit: "+o)}return o.addTo(this,t)},n.plusHours=function(t){if(t===0)return this;var o=B.intMod(B.intMod(t,e.HOURS_PER_DAY)+this._hour+e.HOURS_PER_DAY,e.HOURS_PER_DAY);return new e(o,this._minute,this._second,this._nano)},n.plusMinutes=function(t){if(t===0)return this;var o=this._hour*e.MINUTES_PER_HOUR+this._minute,a=B.intMod(B.intMod(t,e.MINUTES_PER_DAY)+o+e.MINUTES_PER_DAY,e.MINUTES_PER_DAY);if(o===a)return this;var l=B.intDiv(a,e.MINUTES_PER_HOUR),c=B.intMod(a,e.MINUTES_PER_HOUR);return new e(l,c,this._second,this._nano)},n.plusSeconds=function(t){if(t===0)return this;var o=this._hour*e.SECONDS_PER_HOUR+this._minute*e.SECONDS_PER_MINUTE+this._second,a=B.intMod(B.intMod(t,e.SECONDS_PER_DAY)+o+e.SECONDS_PER_DAY,e.SECONDS_PER_DAY);if(o===a)return this;var l=B.intDiv(a,e.SECONDS_PER_HOUR),c=B.intMod(B.intDiv(a,e.SECONDS_PER_MINUTE),e.MINUTES_PER_HOUR),d=B.intMod(a,e.SECONDS_PER_MINUTE);return new e(l,c,d,this._nano)},n.plusNanos=function(t){if(t===0)return this;var o=this.toNanoOfDay(),a=B.intMod(B.intMod(t,e.NANOS_PER_DAY)+o+e.NANOS_PER_DAY,e.NANOS_PER_DAY);if(o===a)return this;var l=B.intDiv(a,e.NANOS_PER_HOUR),c=B.intMod(B.intDiv(a,e.NANOS_PER_MINUTE),e.MINUTES_PER_HOUR),d=B.intMod(B.intDiv(a,e.NANOS_PER_SECOND),e.SECONDS_PER_MINUTE),f=B.intMod(a,e.NANOS_PER_SECOND);return new e(l,c,d,f)},n._minusUnit=function(t,o){return X(o,"unit"),this._plusUnit(-1*t,o)},n.minusHours=function(t){return this.plusHours(-1*B.intMod(t,e.HOURS_PER_DAY))},n.minusMinutes=function(t){return this.plusMinutes(-1*B.intMod(t,e.MINUTES_PER_DAY))},n.minusSeconds=function(t){return this.plusSeconds(-1*B.intMod(t,e.SECONDS_PER_DAY))},n.minusNanos=function(t){return this.plusNanos(-1*B.intMod(t,e.NANOS_PER_DAY))},n.query=function(t){return X(t,"query"),t===qe.precision()?W.NANOS:t===qe.localTime()?this:t===qe.chronology()||t===qe.zoneId()||t===qe.zone()||t===qe.offset()||t===qe.localDate()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(e.NANO_OF_DAY,this.toNanoOfDay())},n.until=function(t,o){X(t,"endExclusive"),X(o,"unit");var a=e.from(t);if(o instanceof W){var l=a.toNanoOfDay()-this.toNanoOfDay();switch(o){case W.NANOS:return l;case W.MICROS:return B.intDiv(l,1e3);case W.MILLIS:return B.intDiv(l,1e6);case W.SECONDS:return B.intDiv(l,e.NANOS_PER_SECOND);case W.MINUTES:return B.intDiv(l,e.NANOS_PER_MINUTE);case W.HOURS:return B.intDiv(l,e.NANOS_PER_HOUR);case W.HALF_DAYS:return B.intDiv(l,12*e.NANOS_PER_HOUR)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},n.atDate=function(t){return qt.of(t,this)},n.atOffset=function(t){return Ei.of(this,t)},n.toSecondOfDay=function(){var t=this._hour*e.SECONDS_PER_HOUR;return t+=this._minute*e.SECONDS_PER_MINUTE,t+=this._second,t},n.toNanoOfDay=function(){var t=this._hour*e.NANOS_PER_HOUR;return t+=this._minute*e.NANOS_PER_MINUTE,t+=this._second*e.NANOS_PER_SECOND,t+=this._nano,t},n.compareTo=function(t){X(t,"other"),st(t,e,"other");var o=B.compareNumbers(this._hour,t._hour);return o===0&&(o=B.compareNumbers(this._minute,t._minute),o===0&&(o=B.compareNumbers(this._second,t._second),o===0&&(o=B.compareNumbers(this._nano,t._nano)))),o},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t?!0:t instanceof e?this._hour===t._hour&&this._minute===t._minute&&this._second===t._second&&this._nano===t._nano:!1},n.hashCode=function(){var t=this.toNanoOfDay();return B.hash(t)},n.toString=function(){var t="",o=this._hour,a=this._minute,l=this._second,c=this._nano;return t+=o<10?"0":"",t+=o,t+=a<10?":0":":",t+=a,(l>0||c>0)&&(t+=l<10?":0":":",t+=l,c>0&&(t+=".",B.intMod(c,1e6)===0?t+=(""+(B.intDiv(c,1e6)+1e3)).substring(1):B.intMod(c,1e3)===0?t+=(""+(B.intDiv(c,1e3)+1e6)).substring(1):t+=(""+(c+1e9)).substring(1))),t},n.toJSON=function(){return this.toString()},n.format=function(t){return X(t,"formatter"),t.format(this)},e})(cr);function mJ(){Te.HOURS=[];for(var i=0;i<24;i++)Te.of(i,0,0,0);Te.MIN=Te.HOURS[0],Te.MAX=new Te(23,59,59,999999999),Te.MIDNIGHT=Te.HOURS[0],Te.NOON=Te.HOURS[12],Te.FROM=Dn("LocalTime.FROM",function(e){return Te.from(e)})}Te.HOURS_PER_DAY=24;Te.MINUTES_PER_HOUR=60;Te.MINUTES_PER_DAY=Te.MINUTES_PER_HOUR*Te.HOURS_PER_DAY;Te.SECONDS_PER_MINUTE=60;Te.SECONDS_PER_HOUR=Te.SECONDS_PER_MINUTE*Te.MINUTES_PER_HOUR;Te.SECONDS_PER_DAY=Te.SECONDS_PER_HOUR*Te.HOURS_PER_DAY;Te.MILLIS_PER_DAY=Te.SECONDS_PER_DAY*1e3;Te.MICROS_PER_DAY=Te.SECONDS_PER_DAY*1e6;Te.NANOS_PER_SECOND=1e9;Te.NANOS_PER_MINUTE=Te.NANOS_PER_SECOND*Te.SECONDS_PER_MINUTE;Te.NANOS_PER_HOUR=Te.NANOS_PER_MINUTE*Te.MINUTES_PER_HOUR;Te.NANOS_PER_DAY=Te.NANOS_PER_HOUR*Te.HOURS_PER_DAY;var Rh=1e6,nn=(function(i){vt(e,i),e.now=function(t){return t===void 0&&(t=Xt.systemUTC()),t.instant()},e.ofEpochSecond=function(t,o){o===void 0&&(o=0);var a=t+B.floorDiv(o,Te.NANOS_PER_SECOND),l=B.floorMod(o,Te.NANOS_PER_SECOND);return e._create(a,l)},e.ofEpochMilli=function(t){var o=B.floorDiv(t,1e3),a=B.floorMod(t,1e3);return e._create(o,a*1e6)},e.ofEpochMicro=function(t){var o=B.floorDiv(t,1e6),a=B.floorMod(t,1e6);return e._create(o,a*1e3)},e.from=function(t){try{var o=t.getLong(O.INSTANT_SECONDS),a=t.get(O.NANO_OF_SECOND);return e.ofEpochSecond(o,a)}catch(l){throw new Ze("Unable to obtain Instant from TemporalAccessor: "+t+", type "+typeof t,l)}},e.parse=function(t){return wt.ISO_INSTANT.parse(t,e.FROM)},e._create=function(t,o){return t===0&&o===0?e.EPOCH:new e(t,o)},e._validate=function(t,o){if(t<e.MIN_SECONDS||t>e.MAX_SECONDS)throw new Ze("Instant exceeds minimum or maximum instant");if(o<0||o>Te.NANOS_PER_SECOND)throw new Ze("Instant exceeds minimum or maximum instant")};function e(r,t){var o;return o=i.call(this)||this,e._validate(r,t),o._seconds=B.safeToInt(r),o._nanos=B.safeToInt(t),o}var n=e.prototype;return n.isSupported=function(t){return t instanceof O?t===O.INSTANT_SECONDS||t===O.NANO_OF_SECOND||t===O.MICRO_OF_SECOND||t===O.MILLI_OF_SECOND:t instanceof W?t.isTimeBased()||t===W.DAYS:t!=null&&t.isSupportedBy(this)},n.range=function(t){return i.prototype.range.call(this,t)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof O){switch(t){case O.NANO_OF_SECOND:return this._nanos;case O.MICRO_OF_SECOND:return B.intDiv(this._nanos,1e3);case O.MILLI_OF_SECOND:return B.intDiv(this._nanos,Rh);case O.INSTANT_SECONDS:return this._seconds}throw new At("Unsupported field: "+t)}return t.getFrom(this)},n.epochSecond=function(){return this._seconds},n.nano=function(){return this._nanos},n._withField=function(t,o){if(X(t,"field"),t instanceof O){switch(t.checkValidValue(o),t){case O.MILLI_OF_SECOND:{var a=o*Rh;return a!==this._nanos?e._create(this._seconds,a):this}case O.MICRO_OF_SECOND:{var l=o*1e3;return l!==this._nanos?e._create(this._seconds,l):this}case O.NANO_OF_SECOND:return o!==this._nanos?e._create(this._seconds,o):this;case O.INSTANT_SECONDS:return o!==this._seconds?e._create(o,this._nanos):this}throw new At("Unsupported field: "+t)}return t.adjustInto(this,o)},n.truncatedTo=function(t){if(X(t,"unit"),t===W.NANOS)return this;var o=t.duration();if(o.seconds()>Te.SECONDS_PER_DAY)throw new Ze("Unit is too large to be used for truncation");var a=o.toNanos();if(B.intMod(Te.NANOS_PER_DAY,a)!==0)throw new Ze("Unit must divide into a standard day without remainder");var l=B.intMod(this._seconds,Te.SECONDS_PER_DAY)*Te.NANOS_PER_SECOND+this._nanos,c=B.intDiv(l,a)*a;return this.plusNanos(c-l)},n._plusUnit=function(t,o){if(X(t,"amountToAdd"),X(o,"unit"),st(o,Ki),o instanceof W){switch(o){case W.NANOS:return this.plusNanos(t);case W.MICROS:return this.plusMicros(t);case W.MILLIS:return this.plusMillis(t);case W.SECONDS:return this.plusSeconds(t);case W.MINUTES:return this.plusSeconds(B.safeMultiply(t,Te.SECONDS_PER_MINUTE));case W.HOURS:return this.plusSeconds(B.safeMultiply(t,Te.SECONDS_PER_HOUR));case W.HALF_DAYS:return this.plusSeconds(B.safeMultiply(t,Te.SECONDS_PER_DAY/2));case W.DAYS:return this.plusSeconds(B.safeMultiply(t,Te.SECONDS_PER_DAY))}throw new At("Unsupported unit: "+o)}return o.addTo(this,t)},n.plusSeconds=function(t){return this._plus(t,0)},n.plusMillis=function(t){return this._plus(B.intDiv(t,1e3),B.intMod(t,1e3)*Rh)},n.plusNanos=function(t){return this._plus(0,t)},n.plusMicros=function(t){return this._plus(B.intDiv(t,1e6),B.intMod(t,1e6)*1e3)},n._plus=function(t,o){if(t===0&&o===0)return this;var a=this._seconds+t;a=a+B.intDiv(o,Te.NANOS_PER_SECOND);var l=this._nanos+o%Te.NANOS_PER_SECOND;return e.ofEpochSecond(a,l)},n._minusUnit=function(t,o){return this._plusUnit(-1*t,o)},n.minusSeconds=function(t){return this.plusSeconds(t*-1)},n.minusMillis=function(t){return this.plusMillis(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.minusMicros=function(t){return this.plusMicros(-1*t)},n.query=function(t){return X(t,"query"),t===qe.precision()?W.NANOS:t===qe.localDate()||t===qe.localTime()||t===qe.chronology()||t===qe.zoneId()||t===qe.zone()||t===qe.offset()?null:t.queryFrom(this)},n.adjustInto=function(t){return X(t,"temporal"),t.with(O.INSTANT_SECONDS,this._seconds).with(O.NANO_OF_SECOND,this._nanos)},n.until=function(t,o){X(t,"endExclusive"),X(o,"unit");var a=e.from(t);if(o instanceof W){switch(o){case W.NANOS:return this._nanosUntil(a);case W.MICROS:return this._microsUntil(a);case W.MILLIS:return B.safeSubtract(a.toEpochMilli(),this.toEpochMilli());case W.SECONDS:return this._secondsUntil(a);case W.MINUTES:return B.intDiv(this._secondsUntil(a),Te.SECONDS_PER_MINUTE);case W.HOURS:return B.intDiv(this._secondsUntil(a),Te.SECONDS_PER_HOUR);case W.HALF_DAYS:return B.intDiv(this._secondsUntil(a),12*Te.SECONDS_PER_HOUR);case W.DAYS:return B.intDiv(this._secondsUntil(a),Te.SECONDS_PER_DAY)}throw new At("Unsupported unit: "+o)}return o.between(this,a)},n._microsUntil=function(t){var o=B.safeSubtract(t.epochSecond(),this.epochSecond()),a=B.safeMultiply(o,1e6);return B.safeAdd(a,B.intDiv(t.nano()-this.nano(),1e3))},n._nanosUntil=function(t){var o=B.safeSubtract(t.epochSecond(),this.epochSecond()),a=B.safeMultiply(o,Te.NANOS_PER_SECOND);return B.safeAdd(a,t.nano()-this.nano())},n._secondsUntil=function(t){var o=B.safeSubtract(t.epochSecond(),this.epochSecond()),a=t.nano()-this.nano();return o>0&&a<0?o--:o<0&&a>0&&o++,o},n.atOffset=function(t){return ni.ofInstant(this,t)},n.atZone=function(t){return ii.ofInstant(this,t)},n.toEpochMilli=function(){var t=B.safeMultiply(this._seconds,1e3);return t+B.intDiv(this._nanos,Rh)},n.compareTo=function(t){X(t,"otherInstant"),st(t,e,"otherInstant");var o=B.compareNumbers(this._seconds,t._seconds);return o!==0?o:this._nanos-t._nanos},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t?!0:t instanceof e?this.epochSecond()===t.epochSecond()&&this.nano()===t.nano():!1},n.hashCode=function(){return B.hashCode(this._seconds,this._nanos)},n.toString=function(){return wt.ISO_INSTANT.format(this)},n.toJSON=function(){return this.toString()},e})(cr);function gJ(){nn.MIN_SECONDS=-31619119219200,nn.MAX_SECONDS=31494816403199,nn.EPOCH=new nn(0,0),nn.MIN=nn.ofEpochSecond(nn.MIN_SECONDS,0),nn.MAX=nn.ofEpochSecond(nn.MAX_SECONDS,999999999),nn.FROM=Dn("Instant.FROM",function(i){return nn.from(i)})}var Xt=(function(){function i(){}i.systemUTC=function(){return new I_(pt.UTC)},i.systemDefaultZone=function(){return new I_(Ht.systemDefault())},i.system=function(r){return new I_(r)},i.fixed=function(r,t){return new yJ(r,t)},i.offset=function(r,t){return new _J(r,t)};var e=i.prototype;return e.millis=function(){ft("Clock.millis")},e.instant=function(){ft("Clock.instant")},e.zone=function(){ft("Clock.zone")},e.withZone=function(){ft("Clock.withZone")},i})(),I_=(function(i){vt(e,i);function e(r){var t;return X(r,"zone"),t=i.call(this)||this,t._zone=r,t}var n=e.prototype;return n.zone=function(){return this._zone},n.millis=function(){return new Date().getTime()},n.instant=function(){return nn.ofEpochMilli(this.millis())},n.equals=function(t){return t instanceof e?this._zone.equals(t._zone):!1},n.withZone=function(t){return t.equals(this._zone)?this:new e(t)},n.toString=function(){return"SystemClock["+this._zone.toString()+"]"},e})(Xt),yJ=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._instant=r,o._zoneId=t,o}var n=e.prototype;return n.instant=function(){return this._instant},n.millis=function(){return this._instant.toEpochMilli()},n.zone=function(){return this._zoneId},n.toString=function(){return"FixedClock[]"},n.equals=function(t){return t instanceof e?this._instant.equals(t._instant)&&this._zoneId.equals(t._zoneId):!1},n.withZone=function(t){return t.equals(this._zoneId)?this:new e(this._instant,t)},e})(Xt),_J=(function(i){vt(e,i);function e(r,t){var o;return o=i.call(this)||this,o._baseClock=r,o._offset=t,o}var n=e.prototype;return n.zone=function(){return this._baseClock.zone()},n.withZone=function(t){return t.equals(this._baseClock.zone())?this:new e(this._baseClock.withZone(t),this._offset)},n.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},n.instant=function(){return this._baseClock.instant().plus(this._offset)},n.equals=function(t){return t instanceof e?this._baseClock.equals(t._baseClock)&&this._offset.equals(t._offset):!1},n.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},e})(Xt);/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var EL=(function(){i.of=function(r,t,o){return new i(r,t,o)};function i(n,r,t){if(X(n,"transition"),X(r,"offsetBefore"),X(t,"offsetAfter"),r.equals(t))throw new ot("Offsets must not be equal");if(n.nano()!==0)throw new ot("Nano-of-second must be zero");n instanceof qt?this._transition=n:this._transition=qt.ofEpochSecond(n,0,r),this._offsetBefore=r,this._offsetAfter=t}var e=i.prototype;return e.instant=function(){return this._transition.toInstant(this._offsetBefore)},e.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},e.dateTimeBefore=function(){return this._transition},e.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},e.offsetBefore=function(){return this._offsetBefore},e.offsetAfter=function(){return this._offsetAfter},e.duration=function(){return _n.ofSeconds(this.durationSeconds())},e.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},e.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},e.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},e.isValidOffset=function(r){return this.isGap()?!1:this._offsetBefore.equals(r)||this._offsetAfter.equals(r)},e.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},e.compareTo=function(r){return this.instant().compareTo(r.instant())},e.equals=function(r){if(r===this)return!0;if(r instanceof i){var t=r;return this._transition.equals(t._transition)&&this._offsetBefore.equals(t.offsetBefore())&&this._offsetAfter.equals(t.offsetAfter())}return!1},e.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},e.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},i})();/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function vJ(){qe.ZONE_ID=Dn("ZONE_ID",function(i){return i.query(qe.ZONE_ID)}),qe.CHRONO=Dn("CHRONO",function(i){return i.query(qe.CHRONO)}),qe.PRECISION=Dn("PRECISION",function(i){return i.query(qe.PRECISION)}),qe.OFFSET=Dn("OFFSET",function(i){return i.isSupported(O.OFFSET_SECONDS)?pt.ofTotalSeconds(i.get(O.OFFSET_SECONDS)):null}),qe.ZONE=Dn("ZONE",function(i){var e=i.query(qe.ZONE_ID);return e??i.query(qe.OFFSET)}),qe.LOCAL_DATE=Dn("LOCAL_DATE",function(i){return i.isSupported(O.EPOCH_DAY)?at.ofEpochDay(i.getLong(O.EPOCH_DAY)):null}),qe.LOCAL_TIME=Dn("LOCAL_TIME",function(i){return i.isSupported(O.NANO_OF_DAY)?Te.ofNanoOfDay(i.getLong(O.NANO_OF_DAY)):null})}var EJ=(function(i){vt(e,i);function e(){return i.apply(this,arguments)||this}var n=e.prototype;return n.isFixedOffset=function(){return!1},n.offsetOfInstant=function(t){var o=new Date(t.toEpochMilli()).getTimezoneOffset();return pt.ofTotalMinutes(o*-1)},n.offsetOfEpochMilli=function(t){var o=new Date(t).getTimezoneOffset();return pt.ofTotalMinutes(o*-1)},n.offsetOfLocalDateTime=function(t){var o=t.toEpochSecond(pt.UTC)*1e3,a=new Date(o).getTimezoneOffset(),l=o+a*6e4,c=new Date(l).getTimezoneOffset();return pt.ofTotalMinutes(c*-1)},n.validOffsets=function(t){return[this.offsetOfLocalDateTime(t)]},n.transition=function(){return null},n.standardOffset=function(t){return this.offsetOfInstant(t)},n.daylightSavings=function(){this._throwNotSupported()},n.isDaylightSavings=function(){this._throwNotSupported()},n.isValidOffset=function(t,o){return this.offsetOfLocalDateTime(t).equals(o)},n.nextTransition=function(){this._throwNotSupported()},n.previousTransition=function(){this._throwNotSupported()},n.transitions=function(){this._throwNotSupported()},n.transitionRules=function(){this._throwNotSupported()},n._throwNotSupported=function(){throw new Ze("not supported operation")},n.equals=function(t){return this===t||t instanceof e},n.toString=function(){return"SYSTEM"},e})(Hc),TJ=(function(i){vt(e,i);function e(){var r;return r=i.call(this)||this,r._rules=new EJ,r}var n=e.prototype;return n.rules=function(){return this._rules},n.equals=function(t){return this===t},n.id=function(){return"SYSTEM"},e})(Ht);/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var el=(function(){function i(){}return i.systemDefault=function(){return Lv},i.getAvailableZoneIds=function(){return qc.getAvailableZoneIds()},i.of=function(n){if(X(n,"zoneId"),n==="Z")return pt.UTC;if(n.length===1)throw new Ze("Invalid zone: "+n);if(Ui.startsWith(n,"+")||Ui.startsWith(n,"-"))return pt.of(n);if(n==="UTC"||n==="GMT"||n==="GMT0"||n==="UT")return new _i(n,pt.UTC.rules());if(Ui.startsWith(n,"UTC+")||Ui.startsWith(n,"GMT+")||Ui.startsWith(n,"UTC-")||Ui.startsWith(n,"GMT-")){var r=pt.of(n.substring(3));return r.totalSeconds()===0?new _i(n.substring(0,3),r.rules()):new _i(n.substring(0,3)+r.id(),r.rules())}if(Ui.startsWith(n,"UT+")||Ui.startsWith(n,"UT-")){var t=pt.of(n.substring(2));return t.totalSeconds()===0?new _i("UT",t.rules()):new _i("UT"+t.id(),t.rules())}return n==="SYSTEM"?Ht.systemDefault():_i.ofId(n)},i.ofOffset=function(n,r){if(X(n,"prefix"),X(r,"offset"),n.length===0)return r;if(n==="GMT"||n==="UTC"||n==="UT")return r.totalSeconds()===0?new _i(n,r.rules()):new _i(n+r.id(),r.rules());throw new ot("Invalid prefix, must be GMT, UTC or UT: "+n)},i.from=function(n){X(n,"temporal");var r=n.query(qe.zone());if(r==null)throw new Ze("Unable to obtain ZoneId from TemporalAccessor: "+n+", type "+(n.constructor!=null?n.constructor.name:""));return r},i})(),Lv=null;function wJ(){Lv=new TJ,Ht.systemDefault=el.systemDefault,Ht.getAvailableZoneIds=el.getAvailableZoneIds,Ht.of=el.of,Ht.ofOffset=el.ofOffset,Ht.from=el.from,pt.from=el.from,Ht.SYSTEM=Lv,Ht.UTC=pt.ofTotalSeconds(0)}/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var tx=!1;function SJ(){tx||(tx=!0,Bj(),Fj(),Hj(),qj(),mJ(),Zj(),vJ(),Vj(),gJ(),hJ(),pJ(),aJ(),Yj(),sJ(),oJ(),zj(),Wj(),dJ(),wJ(),lJ(),iJ(),rJ(),fJ(),uJ())}SJ();/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var CJ=(function(){function i(n,r){var t;if(n instanceof nn){this.instant=n;return}else if(n instanceof at)r=r??Ht.systemDefault(),t=n.atStartOfDay(r);else if(n instanceof qt)r=r??Ht.systemDefault(),t=n.atZone(r);else if(n instanceof ii)r==null?t=n:t=n.withZoneSameInstant(r);else throw new ot("unsupported instance for convert operation:"+n);this.instant=t.toInstant()}var e=i.prototype;return e.toDate=function(){return new Date(this.instant.toEpochMilli())},e.toEpochMilli=function(){return this.instant.toEpochMilli()},i})();function TL(i,e){return new CJ(i,e)}/*
 * @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function wL(i,e){if(e===void 0&&(e=Ht.systemDefault()),X(i,"date"),X(e,"zone"),i instanceof Date)return nn.ofEpochMilli(i.getTime()).atZone(e);if(typeof i.toDate=="function"&&i.toDate()instanceof Date)return nn.ofEpochMilli(i.toDate().getTime()).atZone(e);throw new ot("date must be a javascript Date or a moment instance")}function AJ(i){var e=[];return function(r){return~e.indexOf(r)||(r(i),e.push(r)),i}}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var SL={assert:Uj,DateTimeBuilder:om,DateTimeParseContext:fL,DateTimePrintContext:hL,MathUtil:B,StringUtil:Ui,StringBuilder:_L},CL={_:SL,convert:TL,nativeJs:wL,ArithmeticException:Xr,DateTimeException:Ze,DateTimeParseException:ei,IllegalArgumentException:ot,IllegalStateException:Nl,UnsupportedTemporalTypeException:At,NullPointerException:zi,Clock:Xt,DayOfWeek:tn,Duration:_n,Instant:nn,LocalDate:at,LocalTime:Te,LocalDateTime:qt,OffsetTime:Ei,OffsetDateTime:ni,Month:dt,MonthDay:xc,ParsePosition:PT,Period:Hi,Year:ti,YearConstants:ur,YearMonth:Dl,ZonedDateTime:ii,ZoneOffset:pt,ZoneId:Ht,ZoneRegion:_i,ZoneOffsetTransition:EL,ZoneRules:Hc,ZoneRulesProvider:qc,ChronoLocalDate:Rl,ChronoLocalDateTime:FT,ChronoZonedDateTime:UT,IsoChronology:Bt,ChronoField:O,ChronoUnit:W,IsoFields:Qr,Temporal:cr,TemporalAccessor:Oo,TemporalAdjuster:Vc,TemporalAdjusters:LT,TemporalAmount:vs,TemporalField:wi,TemporalQueries:qe,TemporalQuery:zl,TemporalUnit:Ki,ValueRange:_t,DateTimeFormatter:wt,DateTimeFormatterBuilder:zt,DecimalStyle:Rc,ResolverStyle:yt,SignStyle:Mt,TextStyle:Pt},AL=AJ(CL);CL.use=AL;const bJ=Object.freeze(Object.defineProperty({__proto__:null,ArithmeticException:Xr,ChronoField:O,ChronoLocalDate:Rl,ChronoLocalDateTime:FT,ChronoUnit:W,ChronoZonedDateTime:UT,Clock:Xt,DateTimeException:Ze,DateTimeFormatter:wt,DateTimeFormatterBuilder:zt,DateTimeParseException:ei,DayOfWeek:tn,DecimalStyle:Rc,Duration:_n,IllegalArgumentException:ot,IllegalStateException:Nl,Instant:nn,IsoChronology:Bt,IsoFields:Qr,LocalDate:at,LocalDateTime:qt,LocalTime:Te,Month:dt,MonthDay:xc,NullPointerException:zi,OffsetDateTime:ni,OffsetTime:Ei,ParsePosition:PT,Period:Hi,ResolverStyle:yt,SignStyle:Mt,Temporal:cr,TemporalAccessor:Oo,TemporalAdjuster:Vc,TemporalAdjusters:LT,TemporalAmount:vs,TemporalField:wi,TemporalQueries:qe,TemporalQuery:zl,TemporalUnit:Ki,TextStyle:Pt,UnsupportedTemporalTypeException:At,ValueRange:_t,Year:ti,YearConstants:ur,YearMonth:Dl,ZoneId:Ht,ZoneOffset:pt,ZoneOffsetTransition:EL,ZoneRegion:_i,ZoneRules:Hc,ZoneRulesProvider:qc,ZonedDateTime:ii,_:SL,convert:TL,nativeJs:wL,use:AL},Symbol.toStringTag,{value:"Module"})),$m=sm(bJ);var nx;function IJ(){return nx||(nx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(DT()),r=$m;function t(d){return d&&d.__esModule?d:{default:d}}const o=r.LocalDate.ofYearDay(1900,1),a=Buffer.from([0]),l=Buffer.from([8]),c={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo(){return Buffer.from([n.default.id,8])},generateParameterLength(d,f){return d.value==null?a:l},generateParameterData:function*(d,f){if(d.value==null)return;const p=d.value;let m;f.useUTC?m=r.LocalDate.of(p.getUTCFullYear(),p.getUTCMonth()+1,p.getUTCDate()):m=r.LocalDate.of(p.getFullYear(),p.getMonth()+1,p.getDate());let y=o.until(m,r.ChronoUnit.DAYS),E,T;if(f.useUTC){let S=p.getUTCHours()*60*60;S+=p.getUTCMinutes()*60,S+=p.getUTCSeconds(),E=S*1e3+p.getUTCMilliseconds()}else{let S=p.getHours()*60*60;S+=p.getMinutes()*60,S+=p.getSeconds(),E=S*1e3+p.getMilliseconds()}T=E/(3+1/3),T=Math.round(T),T===2592e4&&(y+=1,T=0);const C=Buffer.alloc(8);C.writeInt32LE(y,0),C.writeUInt32LE(T,4),yield C},validate:function(d,f,p){if(d==null)return null;d instanceof Date||(d=new Date(Date.parse(d))),d=d;let m;if(p&&p.useUTC?m=d.getUTCFullYear():m=d.getFullYear(),m<1753||m>9999)throw new TypeError("Out of range.");if(isNaN(d))throw new TypeError("Invalid date.");return d}};e.default=c,i.exports=c})(Ih,Ih.exports)),Ih.exports}var xh={exports:{}},rx;function NJ(){return rx||(rx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(MT());function r(a){return a&&a.__esModule?a:{default:a}}const t=Buffer.from([0]),o={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo(){return Buffer.from([n.default.id,8])},generateParameterLength(a,l){return a.value==null?t:Buffer.from([8])},*generateParameterData(a,l){if(a.value==null)return;const c=Buffer.alloc(8);c.writeDoubleLE(parseFloat(a.value),0),yield c},validate:function(a){if(a==null)return null;if(a=parseFloat(a),isNaN(a))throw new TypeError("Invalid number.");return a}};e.default=o,i.exports=o})(xh,xh.exports)),xh.exports}var Oh={exports:{}},Dh={exports:{}},ix;function bL(){return ix||(ix=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(Dh,Dh.exports)),Dh.exports}var ox;function RJ(){return ox||(ox=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(bL()),r=t(Ur());function t(l){return l&&l.__esModule?l:{default:l}}const o=Buffer.from([0]),a={id:55,type:"DECIMAL",name:"Decimal",declaration:function(l){return"decimal("+this.resolvePrecision(l)+", "+this.resolveScale(l)+")"},resolvePrecision:function(l){return l.precision!=null?l.precision:l.value===null?1:18},resolveScale:function(l){return l.scale!=null?l.scale:0},generateTypeInfo(l,c){let d;return l.precision<=9?d=5:l.precision<=19?d=9:l.precision<=28?d=13:d=17,Buffer.from([n.default.id,d,l.precision,l.scale])},generateParameterLength(l,c){if(l.value==null)return o;const d=l.precision;return d<=9?Buffer.from([5]):d<=19?Buffer.from([9]):d<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(l,c){if(l.value==null)return;const d=l.value<0?0:1,f=Math.round(Math.abs(l.value*Math.pow(10,l.scale))),p=l.precision;if(p<=9){const m=Buffer.alloc(5);m.writeUInt8(d,0),m.writeUInt32LE(f,1),yield m}else if(p<=19){const m=new r.default(9);m.writeUInt8(d),m.writeUInt64LE(f),yield m.data}else if(p<=28){const m=new r.default(13);m.writeUInt8(d),m.writeUInt64LE(f),m.writeUInt32LE(0),yield m.data}else{const m=new r.default(17);m.writeUInt8(d),m.writeUInt64LE(f),m.writeUInt32LE(0),m.writeUInt32LE(0),yield m.data}},validate:function(l){if(l==null)return null;if(l=parseFloat(l),isNaN(l))throw new TypeError("Invalid number.");return l}};e.default=a,i.exports=a})(Oh,Oh.exports)),Oh.exports}var Mh={exports:{}},kh={exports:{}},sx;function IL(){return sx||(sx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(kh,kh.exports)),kh.exports}var ax;function xJ(){return ax||(ax=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(IL()),r=t(Ur());function t(l){return l&&l.__esModule?l:{default:l}}const o=Buffer.from([0]),a={id:63,type:"NUMERIC",name:"Numeric",declaration:function(l){return"numeric("+this.resolvePrecision(l)+", "+this.resolveScale(l)+")"},resolvePrecision:function(l){return l.precision!=null?l.precision:l.value===null?1:18},resolveScale:function(l){return l.scale!=null?l.scale:0},generateTypeInfo(l){let c;return l.precision<=9?c=5:l.precision<=19?c=9:l.precision<=28?c=13:c=17,Buffer.from([n.default.id,c,l.precision,l.scale])},generateParameterLength(l,c){if(l.value==null)return o;const d=l.precision;return d<=9?Buffer.from([5]):d<=19?Buffer.from([9]):d<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(l,c){if(l.value==null)return;const d=l.value<0?0:1,f=Math.round(Math.abs(l.value*Math.pow(10,l.scale)));if(l.precision<=9){const p=Buffer.alloc(5);p.writeUInt8(d,0),p.writeUInt32LE(f,1),yield p}else if(l.precision<=19){const p=new r.default(10);p.writeUInt8(d),p.writeUInt64LE(f),yield p.data}else if(l.precision<=28){const p=new r.default(14);p.writeUInt8(d),p.writeUInt64LE(f),p.writeUInt32LE(0),yield p.data}else{const p=new r.default(18);p.writeUInt8(d),p.writeUInt64LE(f),p.writeUInt32LE(0),p.writeUInt32LE(0),yield p.data}},validate:function(l){if(l==null)return null;if(l=parseFloat(l),isNaN(l))throw new TypeError("Invalid number.");return l}};e.default=a,i.exports=a})(Mh,Mh.exports)),Mh.exports}var Ph={exports:{}},lx;function OJ(){return lx||(lx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(kT());function r(l){return l&&l.__esModule?l:{default:l}}const t=Buffer.from([4]),o=Buffer.from([0]),a={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([n.default.id,4])},generateParameterLength(l,c){return l.value==null?o:t},*generateParameterData(l,c){if(l.value==null)return;const d=Buffer.alloc(4);d.writeInt32LE(l.value*1e4,0),yield d},validate:function(l){if(l==null)return null;if(l=parseFloat(l),isNaN(l))throw new TypeError("Invalid number.");if(l<-214748.3648||l>214748.3647)throw new TypeError("Value must be between -214748.3648 and 214748.3647.");return l}};e.default=a,i.exports=a})(Ph,Ph.exports)),Ph.exports}var Lh={exports:{}},ux;function DJ(){return ux||(ux=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(Bc()),r=t(Ur());function t(f){return f&&f.__esModule?f:{default:f}}const o=Buffer.from([8]),a=Buffer.from([0]),l=9223372036854775807n,c=-9223372036854775808n,d={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo(){return Buffer.from([n.default.id,8])},generateParameterLength(f,p){return f.value==null?a:o},*generateParameterData(f,p){if(f.value==null)return;const m=new r.default(8);m.writeBigInt64LE(typeof f.value=="bigint"?f.value:globalThis.BigInt(f.value)),yield m.data},validate:function(f){if(f==null)return null;if(typeof f!="bigint"&&(f=globalThis.BigInt(f)),f<c||f>l)throw new TypeError(`Value must be between ${c} and ${l}, inclusive.`);return f}};e.default=d,i.exports=d})(Lh,Lh.exports)),Lh.exports}var Uh={exports:{}},cx;function MJ(){return cx||(cx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=Buffer.from([255,255,255,255]),r={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(t){return t.value!=null?t.value.length:-1},generateTypeInfo(t){const o=Buffer.alloc(5);return o.writeUInt8(this.id,0),o.writeInt32LE(t.length,1),o},generateParameterLength(t,o){if(t.value==null)return n;const a=Buffer.alloc(4);return a.writeInt32LE(t.value.length,0),a},*generateParameterData(t,o){t.value!=null&&(yield t.value)},validate:function(t){if(t==null)return null;if(!Buffer.isBuffer(t))throw new TypeError("Invalid buffer.");return t}};e.default=r,i.exports=r})(Uh,Uh.exports)),Uh.exports}var Fh={exports:{}},N_={exports:{}},R_,dx;function Cs(){if(dx)return R_;dx=1;var i=xi(),e=i.Buffer,n={},r;for(r in i)i.hasOwnProperty(r)&&(r==="SlowBuffer"||r==="Buffer"||(n[r]=i[r]));var t=n.Buffer={};for(r in e)e.hasOwnProperty(r)&&(r==="allocUnsafe"||r==="allocUnsafeSlow"||(t[r]=e[r]));if(n.Buffer.prototype=e.prototype,(!t.from||t.from===Uint8Array.from)&&(t.from=function(o,a,l){if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof o);if(o&&typeof o.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);return e(o,a,l)}),t.alloc||(t.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof o);if(o<0||o>=2*(1<<30))throw new RangeError('The value "'+o+'" is invalid for option "size"');var c=e(o);return!a||a.length===0?c.fill(0):typeof l=="string"?c.fill(a,l):c.fill(a),c}),!n.kStringMaxLength)try{n.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}return n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),R_=n,R_}var Bh={},fx;function kJ(){if(fx)return Bh;fx=1;var i="\uFEFF";Bh.PrependBOM=e;function e(r,t){this.encoder=r,this.addBOM=!0}e.prototype.write=function(r){return this.addBOM&&(r=i+r,this.addBOM=!1),this.encoder.write(r)},e.prototype.end=function(){return this.encoder.end()},Bh.StripBOM=n;function n(r,t){this.decoder=r,this.pass=!1,this.options=t||{}}return n.prototype.write=function(r){var t=this.decoder.write(r);return this.pass||!t||(t[0]===i&&(t=t.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()},Bh}var x_,hx;function NL(){if(hx)return x_;hx=1;var i=typeof Object.hasOwn>"u"?Function.call.bind(Object.prototype.hasOwnProperty):Object.hasOwn;function e(n,r){for(var t in r)i(r,t)&&(n[t]=r[t])}return x_=e,x_}var O_={},D_,px;function PJ(){if(px)return D_;px=1;var i=Cs().Buffer;D_={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:e};function e(d,f){this.enc=d.encodingName,this.bomAware=d.bomAware,this.enc==="base64"?this.encoder=o:this.enc==="utf8"?this.encoder=c:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=a,i.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=l,this.defaultCharUnicode=f.defaultCharUnicode))}e.prototype.encoder=t,e.prototype.decoder=r;var n=tL().StringDecoder;function r(d,f){this.decoder=new n(f.enc)}r.prototype.write=function(d){return i.isBuffer(d)||(d=i.from(d)),this.decoder.write(d)},r.prototype.end=function(){return this.decoder.end()};function t(d,f){this.enc=f.enc}t.prototype.write=function(d){return i.from(d,this.enc)},t.prototype.end=function(){};function o(d,f){this.prevStr=""}o.prototype.write=function(d){d=this.prevStr+d;var f=d.length-d.length%4;return this.prevStr=d.slice(f),d=d.slice(0,f),i.from(d,"base64")},o.prototype.end=function(){return i.from(this.prevStr,"base64")};function a(d,f){}a.prototype.write=function(d){for(var f=i.alloc(d.length*3),p=0,m=0;m<d.length;m++){var y=d.charCodeAt(m);y<128?f[p++]=y:y<2048?(f[p++]=192+(y>>>6),f[p++]=128+(y&63)):(f[p++]=224+(y>>>12),f[p++]=128+(y>>>6&63),f[p++]=128+(y&63))}return f.slice(0,p)},a.prototype.end=function(){};function l(d,f){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=f.defaultCharUnicode}l.prototype.write=function(d){for(var f=this.acc,p=this.contBytes,m=this.accBytes,y="",E=0;E<d.length;E++){var T=d[E];(T&192)!==128?(p>0&&(y+=this.defaultCharUnicode,p=0),T<128?y+=String.fromCharCode(T):T<224?(f=T&31,p=1,m=1):T<240?(f=T&15,p=2,m=1):y+=this.defaultCharUnicode):p>0?(f=f<<6|T&63,p--,m++,p===0&&(m===2&&f<128&&f>0?y+=this.defaultCharUnicode:m===3&&f<2048?y+=this.defaultCharUnicode:y+=String.fromCharCode(f))):y+=this.defaultCharUnicode}return this.acc=f,this.contBytes=p,this.accBytes=m,y},l.prototype.end=function(){var d=0;return this.contBytes>0&&(d+=this.defaultCharUnicode),d};function c(d,f){this.highSurrogate=""}return c.prototype.write=function(d){if(this.highSurrogate&&(d=this.highSurrogate+d,this.highSurrogate=""),d.length>0){var f=d.charCodeAt(d.length-1);f>=55296&&f<56320&&(this.highSurrogate=d[d.length-1],d=d.slice(0,d.length-1))}return i.from(d,this.enc)},c.prototype.end=function(){if(this.highSurrogate){var d=this.highSurrogate;return this.highSurrogate="",i.from(d,this.enc)}},D_}var wo={},mx;function LJ(){if(mx)return wo;mx=1;var i=Cs().Buffer;wo._utf32=e;function e(d,f){this.iconv=f,this.bomAware=!0,this.isLE=d.isLE}wo.utf32le={type:"_utf32",isLE:!0},wo.utf32be={type:"_utf32",isLE:!1},wo.ucs4le="utf32le",wo.ucs4be="utf32be",e.prototype.encoder=n,e.prototype.decoder=r;function n(d,f){this.isLE=f.isLE,this.highSurrogate=0}n.prototype.write=function(d){for(var f=i.from(d,"ucs2"),p=i.alloc(f.length*2),m=this.isLE?p.writeUInt32LE:p.writeUInt32BE,y=0,E=0;E<f.length;E+=2){var T=f.readUInt16LE(E),C=T>=55296&&T<56320,S=T>=56320&&T<57344;if(this.highSurrogate)if(C||!S)m.call(p,this.highSurrogate,y),y+=4;else{var b=(this.highSurrogate-55296<<10|T-56320)+65536;m.call(p,b,y),y+=4,this.highSurrogate=0;continue}C?this.highSurrogate=T:(m.call(p,T,y),y+=4,this.highSurrogate=0)}return y<p.length&&(p=p.slice(0,y)),p},n.prototype.end=function(){if(this.highSurrogate){var d=i.alloc(4);return this.isLE?d.writeUInt32LE(this.highSurrogate,0):d.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,d}};function r(d,f){this.isLE=f.isLE,this.badChar=f.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}r.prototype.write=function(d){if(d.length===0)return"";var f=0,p=0,m=i.alloc(d.length+4),y=0,E=this.isLE,T=this.overflow,C=this.badChar;if(T.length>0){for(;f<d.length&&T.length<4;f++)T.push(d[f]);T.length===4&&(E?p=T[f]|T[f+1]<<8|T[f+2]<<16|T[f+3]<<24:p=T[f+3]|T[f+2]<<8|T[f+1]<<16|T[f]<<24,T.length=0,y=t(m,y,p,C))}for(;f<d.length-3;f+=4)E?p=d[f]|d[f+1]<<8|d[f+2]<<16|d[f+3]<<24:p=d[f+3]|d[f+2]<<8|d[f+1]<<16|d[f]<<24,y=t(m,y,p,C);for(;f<d.length;f++)T.push(d[f]);return m.slice(0,y).toString("ucs2")};function t(d,f,p,m){if((p<0||p>1114111)&&(p=m),p>=65536){p-=65536;var y=55296|p>>10;d[f++]=y&255,d[f++]=y>>8;var p=56320|p&1023}return d[f++]=p&255,d[f++]=p>>8,f}r.prototype.end=function(){this.overflow.length=0},wo.utf32=o,wo.ucs4="utf32";function o(d,f){this.iconv=f}o.prototype.encoder=a,o.prototype.decoder=l;function a(d,f){d=d||{},d.addBOM===void 0&&(d.addBOM=!0),this.encoder=f.iconv.getEncoder(d.defaultEncoding||"utf-32le",d)}a.prototype.write=function(d){return this.encoder.write(d)},a.prototype.end=function(){return this.encoder.end()};function l(d,f){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=d||{},this.iconv=f.iconv}l.prototype.write=function(d){if(!this.decoder){if(this.initialBufs.push(d),this.initialBufsLen+=d.length,this.initialBufsLen<32)return"";var f=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(f,this.options);for(var p="",m=0;m<this.initialBufs.length;m++)p+=this.decoder.write(this.initialBufs[m]);return this.initialBufs.length=this.initialBufsLen=0,p}return this.decoder.write(d)},l.prototype.end=function(){if(!this.decoder){var d=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(d,this.options);for(var f="",p=0;p<this.initialBufs.length;p++)f+=this.decoder.write(this.initialBufs[p]);var m=this.decoder.end();return m&&(f+=m),this.initialBufs.length=this.initialBufsLen=0,f}return this.decoder.end()};function c(d,f){var p=[],m=0,y=0,E=0,T=0,C=0;e:for(var S=0;S<d.length;S++)for(var b=d[S],I=0;I<b.length;I++)if(p.push(b[I]),p.length===4){if(m===0){if(p[0]===255&&p[1]===254&&p[2]===0&&p[3]===0)return"utf-32le";if(p[0]===0&&p[1]===0&&p[2]===254&&p[3]===255)return"utf-32be"}if((p[0]!==0||p[1]>16)&&E++,(p[3]!==0||p[2]>16)&&y++,p[0]===0&&p[1]===0&&(p[2]!==0||p[3]!==0)&&C++,(p[0]!==0||p[1]!==0)&&p[2]===0&&p[3]===0&&T++,p.length=0,m++,m>=100)break e}return C-E>T-y?"utf-32be":C-E<T-y?"utf-32le":f||"utf-32le"}return wo}var Hh={},gx;function UJ(){if(gx)return Hh;gx=1;var i=Cs().Buffer;Hh.utf16be=e;function e(){}e.prototype.encoder=n,e.prototype.decoder=r,e.prototype.bomAware=!0;function n(){}n.prototype.write=function(c){for(var d=i.from(c,"ucs2"),f=0;f<d.length;f+=2){var p=d[f];d[f]=d[f+1],d[f+1]=p}return d},n.prototype.end=function(){};function r(){this.overflowByte=-1}r.prototype.write=function(c){if(c.length==0)return"";var d=i.alloc(c.length+1),f=0,p=0;for(this.overflowByte!==-1&&(d[0]=c[0],d[1]=this.overflowByte,f=1,p=2);f<c.length-1;f+=2,p+=2)d[p]=c[f+1],d[p+1]=c[f];return this.overflowByte=f==c.length-1?c[c.length-1]:-1,d.slice(0,p).toString("ucs2")},r.prototype.end=function(){this.overflowByte=-1},Hh.utf16=t;function t(c,d){this.iconv=d}t.prototype.encoder=o,t.prototype.decoder=a;function o(c,d){c=c||{},c.addBOM===void 0&&(c.addBOM=!0),this.encoder=d.iconv.getEncoder("utf-16le",c)}o.prototype.write=function(c){return this.encoder.write(c)},o.prototype.end=function(){return this.encoder.end()};function a(c,d){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=c||{},this.iconv=d.iconv}a.prototype.write=function(c){if(!this.decoder){if(this.initialBufs.push(c),this.initialBufsLen+=c.length,this.initialBufsLen<16)return"";var d=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(d,this.options);for(var f="",p=0;p<this.initialBufs.length;p++)f+=this.decoder.write(this.initialBufs[p]);return this.initialBufs.length=this.initialBufsLen=0,f}return this.decoder.write(c)},a.prototype.end=function(){if(!this.decoder){var c=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(c,this.options);for(var d="",f=0;f<this.initialBufs.length;f++)d+=this.decoder.write(this.initialBufs[f]);var p=this.decoder.end();return p&&(d+=p),this.initialBufs.length=this.initialBufsLen=0,d}return this.decoder.end()};function l(c,d){var f=[],p=0,m=0,y=0;e:for(var E=0;E<c.length;E++)for(var T=c[E],C=0;C<T.length;C++)if(f.push(T[C]),f.length===2){if(p===0){if(f[0]===255&&f[1]===254)return"utf-16le";if(f[0]===254&&f[1]===255)return"utf-16be"}if(f[0]===0&&f[1]!==0&&y++,f[0]!==0&&f[1]===0&&m++,f.length=0,p++,p>=100)break e}return y>m?"utf-16be":y<m?"utf-16le":d||"utf-16le"}return Hh}var Zu={},yx;function FJ(){if(yx)return Zu;yx=1;var i=Cs().Buffer;Zu.utf7=e,Zu.unicode11utf7="utf7";function e(T,C){this.iconv=C}e.prototype.encoder=r,e.prototype.decoder=t,e.prototype.bomAware=!0;var n=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function r(T,C){this.iconv=C.iconv}r.prototype.write=function(T){return i.from(T.replace(n,(function(C){return"+"+(C==="+"?"":this.iconv.encode(C,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},r.prototype.end=function(){};function t(T,C){this.iconv=C.iconv,this.inBase64=!1,this.base64Accum=""}for(var o=/[A-Za-z0-9\/+]/,a=[],l=0;l<256;l++)a[l]=o.test(String.fromCharCode(l));var c=43,d=45,f=38;t.prototype.write=function(T){for(var C="",S=0,b=this.inBase64,I=this.base64Accum,N=0;N<T.length;N++)if(!b)T[N]==c&&(C+=this.iconv.decode(T.slice(S,N),"ascii"),S=N+1,b=!0);else if(!a[T[N]]){if(N==S&&T[N]==d)C+="+";else{var x=I+this.iconv.decode(T.slice(S,N),"ascii");C+=this.iconv.decode(i.from(x,"base64"),"utf16-be")}T[N]!=d&&N--,S=N+1,b=!1,I=""}if(!b)C+=this.iconv.decode(T.slice(S),"ascii");else{var x=I+this.iconv.decode(T.slice(S),"ascii"),L=x.length-x.length%8;I=x.slice(L),x=x.slice(0,L),C+=this.iconv.decode(i.from(x,"base64"),"utf16-be")}return this.inBase64=b,this.base64Accum=I,C},t.prototype.end=function(){var T="";return this.inBase64&&this.base64Accum.length>0&&(T=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",T},Zu.utf7imap=p;function p(T,C){this.iconv=C}p.prototype.encoder=m,p.prototype.decoder=y,p.prototype.bomAware=!0;function m(T,C){this.iconv=C.iconv,this.inBase64=!1,this.base64Accum=i.alloc(6),this.base64AccumIdx=0}m.prototype.write=function(T){for(var C=this.inBase64,S=this.base64Accum,b=this.base64AccumIdx,I=i.alloc(T.length*5+10),N=0,x=0;x<T.length;x++){var L=T.charCodeAt(x);L>=32&&L<=126?(C&&(b>0&&(N+=I.write(S.slice(0,b).toString("base64").replace(/\//g,",").replace(/=+$/,""),N),b=0),I[N++]=d,C=!1),C||(I[N++]=L,L===f&&(I[N++]=d))):(C||(I[N++]=f,C=!0),C&&(S[b++]=L>>8,S[b++]=L&255,b==S.length&&(N+=I.write(S.toString("base64").replace(/\//g,","),N),b=0)))}return this.inBase64=C,this.base64AccumIdx=b,I.slice(0,N)},m.prototype.end=function(){var T=i.alloc(10),C=0;return this.inBase64&&(this.base64AccumIdx>0&&(C+=T.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),C),this.base64AccumIdx=0),T[C++]=d,this.inBase64=!1),T.slice(0,C)};function y(T,C){this.iconv=C.iconv,this.inBase64=!1,this.base64Accum=""}var E=a.slice();return E[44]=!0,y.prototype.write=function(T){for(var C="",S=0,b=this.inBase64,I=this.base64Accum,N=0;N<T.length;N++)if(!b)T[N]==f&&(C+=this.iconv.decode(T.slice(S,N),"ascii"),S=N+1,b=!0);else if(!E[T[N]]){if(N==S&&T[N]==d)C+="&";else{var x=I+this.iconv.decode(T.slice(S,N),"ascii").replace(/,/g,"/");C+=this.iconv.decode(i.from(x,"base64"),"utf16-be")}T[N]!=d&&N--,S=N+1,b=!1,I=""}if(!b)C+=this.iconv.decode(T.slice(S),"ascii");else{var x=I+this.iconv.decode(T.slice(S),"ascii").replace(/,/g,"/"),L=x.length-x.length%8;I=x.slice(L),x=x.slice(0,L),C+=this.iconv.decode(i.from(x,"base64"),"utf16-be")}return this.inBase64=b,this.base64Accum=I,C},y.prototype.end=function(){var T="";return this.inBase64&&this.base64Accum.length>0&&(T=this.iconv.decode(i.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",T},Zu}var M_={},_x;function BJ(){if(_x)return M_;_x=1;var i=Cs().Buffer;M_._sbcs=e;function e(t,o){if(!t)throw new Error("SBCS codec is called without the data.");if(!t.chars||t.chars.length!==128&&t.chars.length!==256)throw new Error("Encoding '"+t.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(t.chars.length===128){for(var a="",l=0;l<128;l++)a+=String.fromCharCode(l);t.chars=a+t.chars}this.decodeBuf=i.from(t.chars,"ucs2");for(var c=i.alloc(65536,o.defaultCharSingleByte.charCodeAt(0)),l=0;l<t.chars.length;l++)c[t.chars.charCodeAt(l)]=l;this.encodeBuf=c}e.prototype.encoder=n,e.prototype.decoder=r;function n(t,o){this.encodeBuf=o.encodeBuf}n.prototype.write=function(t){for(var o=i.alloc(t.length),a=0;a<t.length;a++)o[a]=this.encodeBuf[t.charCodeAt(a)];return o},n.prototype.end=function(){};function r(t,o){this.decodeBuf=o.decodeBuf}return r.prototype.write=function(t){for(var o=this.decodeBuf,a=i.alloc(t.length*2),l=0,c=0,d=0;d<t.length;d++)l=t[d]*2,c=d*2,a[c]=o[l],a[c+1]=o[l+1];return a.toString("ucs2")},r.prototype.end=function(){},M_}var k_,vx;function HJ(){return vx||(vx=1,k_={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),k_}var P_,Ex;function qJ(){return Ex||(Ex=1,P_={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),P_}var L_={},Tx;function VJ(){if(Tx)return L_;Tx=1;var i=Cs().Buffer;L_._dbcs=c;for(var e=-1,n=-2,r=-10,t=-1e3,o=new Array(256),a=-1,l=0;l<256;l++)o[l]=e;function c(m,y){if(this.encodingName=m.encodingName,!m)throw new Error("DBCS codec is called without the data.");if(!m.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var E=m.table();this.decodeTables=[],this.decodeTables[0]=o.slice(0),this.decodeTableSeq=[];for(var T=0;T<E.length;T++)this._addDecodeChunk(E[T]);if(typeof m.gb18030=="function"){this.gb18030=m.gb18030();var C=this.decodeTables.length;this.decodeTables.push(o.slice(0));var S=this.decodeTables.length;this.decodeTables.push(o.slice(0));for(var b=this.decodeTables[0],T=129;T<=254;T++)for(var I=this.decodeTables[t-b[T]],N=48;N<=57;N++){if(I[N]===e)I[N]=t-C;else if(I[N]>t)throw new Error("gb18030 decode tables conflict at byte 2");for(var x=this.decodeTables[t-I[N]],L=129;L<=254;L++){if(x[L]===e)x[L]=t-S;else{if(x[L]===t-S)continue;if(x[L]>t)throw new Error("gb18030 decode tables conflict at byte 3")}for(var F=this.decodeTables[t-x[L]],G=48;G<=57;G++)F[G]===e&&(F[G]=n)}}}this.defaultCharUnicode=y.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var Q={};if(m.encodeSkipVals)for(var T=0;T<m.encodeSkipVals.length;T++){var j=m.encodeSkipVals[T];if(typeof j=="number")Q[j]=!0;else for(var N=j.from;N<=j.to;N++)Q[N]=!0}if(this._fillEncodeTable(0,0,Q),m.encodeAdd)for(var Z in m.encodeAdd)Object.prototype.hasOwnProperty.call(m.encodeAdd,Z)&&this._setEncodeChar(Z.charCodeAt(0),m.encodeAdd[Z]);this.defCharSB=this.encodeTable[0][y.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===e&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===e&&(this.defCharSB=63)}c.prototype.encoder=d,c.prototype.decoder=f,c.prototype._getDecodeTrieNode=function(m){for(var y=[];m>0;m>>>=8)y.push(m&255);y.length==0&&y.push(0);for(var E=this.decodeTables[0],T=y.length-1;T>0;T--){var C=E[y[T]];if(C==e)E[y[T]]=t-this.decodeTables.length,this.decodeTables.push(E=o.slice(0));else if(C<=t)E=this.decodeTables[t-C];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+m.toString(16))}return E},c.prototype._addDecodeChunk=function(m){var y=parseInt(m[0],16),E=this._getDecodeTrieNode(y);y=y&255;for(var T=1;T<m.length;T++){var C=m[T];if(typeof C=="string")for(var S=0;S<C.length;){var b=C.charCodeAt(S++);if(b>=55296&&b<56320){var I=C.charCodeAt(S++);if(I>=56320&&I<57344)E[y++]=65536+(b-55296)*1024+(I-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+m[0])}else if(b>4080&&b<=4095){for(var N=4095-b+2,x=[],L=0;L<N;L++)x.push(C.charCodeAt(S++));E[y++]=r-this.decodeTableSeq.length,this.decodeTableSeq.push(x)}else E[y++]=b}else if(typeof C=="number")for(var F=E[y-1]+1,S=0;S<C;S++)E[y++]=F++;else throw new Error("Incorrect type '"+typeof C+"' given in "+this.encodingName+" at chunk "+m[0])}if(y>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+m[0]+": too long"+y)},c.prototype._getEncodeBucket=function(m){var y=m>>8;return this.encodeTable[y]===void 0&&(this.encodeTable[y]=o.slice(0)),this.encodeTable[y]},c.prototype._setEncodeChar=function(m,y){var E=this._getEncodeBucket(m),T=m&255;E[T]<=r?this.encodeTableSeq[r-E[T]][a]=y:E[T]==e&&(E[T]=y)},c.prototype._setEncodeSequence=function(m,y){var E=m[0],T=this._getEncodeBucket(E),C=E&255,S;T[C]<=r?S=this.encodeTableSeq[r-T[C]]:(S={},T[C]!==e&&(S[a]=T[C]),T[C]=r-this.encodeTableSeq.length,this.encodeTableSeq.push(S));for(var b=1;b<m.length-1;b++){var I=S[E];typeof I=="object"?S=I:(S=S[E]={},I!==void 0&&(S[a]=I))}E=m[m.length-1],S[E]=y},c.prototype._fillEncodeTable=function(m,y,E){for(var T=this.decodeTables[m],C=!1,S={},b=0;b<256;b++){var I=T[b],N=y+b;if(!E[N])if(I>=0)this._setEncodeChar(I,N),C=!0;else if(I<=t){var x=t-I;if(!S[x]){var L=N<<8>>>0;this._fillEncodeTable(x,L,E)?C=!0:S[x]=!0}}else I<=r&&(this._setEncodeSequence(this.decodeTableSeq[r-I],N),C=!0)}return C};function d(m,y){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=y.encodeTable,this.encodeTableSeq=y.encodeTableSeq,this.defaultCharSingleByte=y.defCharSB,this.gb18030=y.gb18030}d.prototype.write=function(m){for(var y=i.alloc(m.length*(this.gb18030?4:3)),E=this.leadSurrogate,T=this.seqObj,C=-1,S=0,b=0;;){if(C===-1){if(S==m.length)break;var I=m.charCodeAt(S++)}else{var I=C;C=-1}if(I>=55296&&I<57344)if(I<56320)if(E===-1){E=I;continue}else E=I,I=e;else E!==-1?(I=65536+(E-55296)*1024+(I-56320),E=-1):I=e;else E!==-1&&(C=I,I=e,E=-1);var N=e;if(T!==void 0&&I!=e){var x=T[I];if(typeof x=="object"){T=x;continue}else typeof x=="number"?N=x:x==null&&(x=T[a],x!==void 0&&(N=x,C=I));T=void 0}else if(I>=0){var L=this.encodeTable[I>>8];if(L!==void 0&&(N=L[I&255]),N<=r){T=this.encodeTableSeq[r-N];continue}if(N==e&&this.gb18030){var F=p(this.gb18030.uChars,I);if(F!=-1){var N=this.gb18030.gbChars[F]+(I-this.gb18030.uChars[F]);y[b++]=129+Math.floor(N/12600),N=N%12600,y[b++]=48+Math.floor(N/1260),N=N%1260,y[b++]=129+Math.floor(N/10),N=N%10,y[b++]=48+N;continue}}}N===e&&(N=this.defaultCharSingleByte),N<256?y[b++]=N:N<65536?(y[b++]=N>>8,y[b++]=N&255):N<16777216?(y[b++]=N>>16,y[b++]=N>>8&255,y[b++]=N&255):(y[b++]=N>>>24,y[b++]=N>>>16&255,y[b++]=N>>>8&255,y[b++]=N&255)}return this.seqObj=T,this.leadSurrogate=E,y.slice(0,b)},d.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var m=i.alloc(10),y=0;if(this.seqObj){var E=this.seqObj[a];E!==void 0&&(E<256?m[y++]=E:(m[y++]=E>>8,m[y++]=E&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(m[y++]=this.defaultCharSingleByte,this.leadSurrogate=-1),m.slice(0,y)}},d.prototype.findIdx=p;function f(m,y){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=y.decodeTables,this.decodeTableSeq=y.decodeTableSeq,this.defaultCharUnicode=y.defaultCharUnicode,this.gb18030=y.gb18030}f.prototype.write=function(m){for(var y=i.alloc(m.length*2),E=this.nodeIdx,T=this.prevBytes,C=this.prevBytes.length,S=-this.prevBytes.length,b,I=0,N=0;I<m.length;I++){var x=I>=0?m[I]:T[I+C],b=this.decodeTables[E][x];if(!(b>=0))if(b===e)b=this.defaultCharUnicode.charCodeAt(0),I=S;else if(b===n){if(I>=3)var L=(m[I-3]-129)*12600+(m[I-2]-48)*1260+(m[I-1]-129)*10+(x-48);else var L=(T[I-3+C]-129)*12600+((I-2>=0?m[I-2]:T[I-2+C])-48)*1260+((I-1>=0?m[I-1]:T[I-1+C])-129)*10+(x-48);var F=p(this.gb18030.gbChars,L);b=this.gb18030.uChars[F]+L-this.gb18030.gbChars[F]}else if(b<=t){E=t-b;continue}else if(b<=r){for(var G=this.decodeTableSeq[r-b],Q=0;Q<G.length-1;Q++)b=G[Q],y[N++]=b&255,y[N++]=b>>8;b=G[G.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+b+" at "+E+"/"+x);if(b>=65536){b-=65536;var j=55296|b>>10;y[N++]=j&255,y[N++]=j>>8,b=56320|b&1023}y[N++]=b&255,y[N++]=b>>8,E=0,S=I+1}return this.nodeIdx=E,this.prevBytes=S>=0?Array.prototype.slice.call(m,S):T.slice(S+C).concat(Array.prototype.slice.call(m)),y.slice(0,N).toString("ucs2")},f.prototype.end=function(){for(var m="";this.prevBytes.length>0;){m+=this.defaultCharUnicode;var y=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,y.length>0&&(m+=this.write(y))}return this.prevBytes=[],this.nodeIdx=0,m};function p(m,y){if(m[0]>y)return-1;for(var E=0,T=m.length;E<T-1;){var C=E+(T-E+1>>1);m[C]<=y?E=C:T=C}return E}return L_}const YJ=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],GJ=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]'),U_=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]'),wx=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],zJ=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],KJ=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],WJ={uChars:zJ,gbChars:KJ},$J=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]'),Sx=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]'),jJ=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var F_,Cx;function JJ(){return Cx||(Cx=1,F_={shiftjis:{type:"_dbcs",table:function(){return YJ},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return GJ},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return U_}},gbk:{type:"_dbcs",table:function(){return U_.concat(wx)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return U_.concat(wx)},gb18030:function(){return WJ},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return $J}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return Sx}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return Sx.concat(jJ)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),F_}var Ax;function QJ(){return Ax||(Ax=1,(function(i){for(var e=NL(),n=[PJ(),LJ(),UJ(),FJ(),BJ(),HJ(),qJ(),VJ(),JJ()],r=0;r<n.length;r++){var t=n[r];e(i,t)}})(O_)),O_}var B_,bx;function XJ(){if(bx)return B_;bx=1;var i=Cs().Buffer;return B_=function(e){var n=e.Transform;function r(o,a){this.conv=o,a=a||{},a.decodeStrings=!1,n.call(this,a)}r.prototype=Object.create(n.prototype,{constructor:{value:r}}),r.prototype._transform=function(o,a,l){if(typeof o!="string")return l(new Error("Iconv encoding stream needs strings as its input."));try{var c=this.conv.write(o);c&&c.length&&this.push(c),l()}catch(d){l(d)}},r.prototype._flush=function(o){try{var a=this.conv.end();a&&a.length&&this.push(a),o()}catch(l){o(l)}},r.prototype.collect=function(o){var a=[];return this.on("error",o),this.on("data",function(l){a.push(l)}),this.on("end",function(){o(null,i.concat(a))}),this};function t(o,a){this.conv=o,a=a||{},a.encoding=this.encoding="utf8",n.call(this,a)}return t.prototype=Object.create(n.prototype,{constructor:{value:t}}),t.prototype._transform=function(o,a,l){if(!i.isBuffer(o)&&!(o instanceof Uint8Array))return l(new Error("Iconv decoding stream needs buffers as its input."));try{var c=this.conv.write(o);c&&c.length&&this.push(c,this.encoding),l()}catch(d){l(d)}},t.prototype._flush=function(o){try{var a=this.conv.end();a&&a.length&&this.push(a,this.encoding),o()}catch(l){o(l)}},t.prototype.collect=function(o){var a="";return this.on("error",o),this.on("data",function(l){a+=l}),this.on("end",function(){o(null,a)}),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:t}},B_}var Ix;function da(){return Ix||(Ix=1,(function(i){var e=Cs().Buffer,n=kJ(),r=NL(),t=i.exports;t.encodings=null,t.defaultCharUnicode="",t.defaultCharSingleByte="?",t.encode=function(l,c,d){l=""+(l||"");var f=t.getEncoder(c,d),p=f.write(l),m=f.end();return m&&m.length>0?e.concat([p,m]):p},t.decode=function(l,c,d){typeof l=="string"&&(t.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),t.skipDecodeWarning=!0),l=e.from(""+(l||""),"binary"));var f=t.getDecoder(c,d),p=f.write(l),m=f.end();return m?p+m:p},t.encodingExists=function(l){try{return t.getCodec(l),!0}catch{return!1}},t.toEncoding=t.encode,t.fromEncoding=t.decode,t._codecDataCache={__proto__:null},t.getCodec=function(l){if(!t.encodings){var c=QJ();t.encodings={__proto__:null},r(t.encodings,c)}for(var d=t._canonicalizeEncoding(l),f={};;){var p=t._codecDataCache[d];if(p)return p;var m=t.encodings[d];switch(typeof m){case"string":d=m;break;case"object":for(var y in m)f[y]=m[y];f.encodingName||(f.encodingName=d),d=m.type;break;case"function":return f.encodingName||(f.encodingName=d),p=new m(f,t),t._codecDataCache[f.encodingName]=p,p;default:throw new Error("Encoding not recognized: '"+l+"' (searched as: '"+d+"')")}}},t._canonicalizeEncoding=function(a){return(""+a).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},t.getEncoder=function(l,c){var d=t.getCodec(l),f=new d.encoder(c,d);return d.bomAware&&c&&c.addBOM&&(f=new n.PrependBOM(f,c)),f},t.getDecoder=function(l,c){var d=t.getCodec(l),f=new d.decoder(c,d);return d.bomAware&&!(c&&c.stripBOM===!1)&&(f=new n.StripBOM(f,c)),f},t.enableStreamingAPI=function(l){if(!t.supportsStreams){var c=XJ()(l);t.IconvLiteEncoderStream=c.IconvLiteEncoderStream,t.IconvLiteDecoderStream=c.IconvLiteDecoderStream,t.encodeStream=function(f,p){return new t.IconvLiteEncoderStream(t.getEncoder(f,p),p)},t.decodeStream=function(f,p){return new t.IconvLiteDecoderStream(t.getDecoder(f,p),p)},t.supportsStreams=!0}};var o;try{o=Kt}catch{}o&&o.Transform?t.enableStreamingAPI(o):t.encodeStream=t.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}})(N_)),N_.exports}var Nx;function ZJ(){return Nx||(Nx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(da());function r(a){return a&&a.__esModule?a:{default:a}}const t=Buffer.from([255,255,255,255]),o={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(a){const l=a.value;return l!=null?l.length:-1},generateTypeInfo(a,l){const c=Buffer.alloc(10);return c.writeUInt8(this.id,0),c.writeInt32LE(a.length,1),a.collation&&a.collation.toBuffer().copy(c,5,0,5),c},generateParameterLength(a,l){const c=a.value;if(c==null)return t;const d=Buffer.alloc(4);return d.writeInt32LE(c.length,0),d},generateParameterData:function*(a,l){const c=a.value;c!=null&&(yield c)},validate:function(a,l){if(a==null)return null;if(typeof a!="string")throw new TypeError("Invalid string.");if(!l)throw new Error("No collation was set by the server for the current connection.");if(!l.codepage)throw new Error("The collation set by the server has no associated encoding.");return n.default.encode(a,l.codepage)}};e.default=o,i.exports=o})(Fh,Fh.exports)),Fh.exports}var qh={exports:{}},tl={},Rx;function RL(){if(Rx)return tl;Rx=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.bufferToLowerCaseGuid=r,tl.bufferToUpperCaseGuid=n,tl.guidToArray=a;const i=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function n(l){return i[l[3]]+i[l[2]]+i[l[1]]+i[l[0]]+"-"+i[l[5]]+i[l[4]]+"-"+i[l[7]]+i[l[6]]+"-"+i[l[8]]+i[l[9]]+"-"+i[l[10]]+i[l[11]]+i[l[12]]+i[l[13]]+i[l[14]]+i[l[15]]}function r(l){return e[l[3]]+e[l[2]]+e[l[1]]+e[l[0]]+"-"+e[l[5]]+e[l[4]]+"-"+e[l[7]]+e[l[6]]+"-"+e[l[8]]+e[l[9]]+"-"+e[l[10]]+e[l[11]]+e[l[12]]+e[l[13]]+e[l[14]]+e[l[15]]}const t={},o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(l=>l.charCodeAt(0));for(let l=0;l<o.length;l++){const c=t[o[l]]={};for(let d=0;d<o.length;d++){const f=String.fromCharCode(o[l],o[d]),p=parseInt(f,16);c[o[d]]=p}}function a(l){return[t[l.charCodeAt(6)][l.charCodeAt(7)],t[l.charCodeAt(4)][l.charCodeAt(5)],t[l.charCodeAt(2)][l.charCodeAt(3)],t[l.charCodeAt(0)][l.charCodeAt(1)],t[l.charCodeAt(11)][l.charCodeAt(12)],t[l.charCodeAt(9)][l.charCodeAt(10)],t[l.charCodeAt(16)][l.charCodeAt(17)],t[l.charCodeAt(14)][l.charCodeAt(15)],t[l.charCodeAt(19)][l.charCodeAt(20)],t[l.charCodeAt(21)][l.charCodeAt(22)],t[l.charCodeAt(24)][l.charCodeAt(25)],t[l.charCodeAt(26)][l.charCodeAt(27)],t[l.charCodeAt(28)][l.charCodeAt(29)],t[l.charCodeAt(30)][l.charCodeAt(31)],t[l.charCodeAt(32)][l.charCodeAt(33)],t[l.charCodeAt(34)][l.charCodeAt(35)]]}return tl}var xx;function eQ(){return xx||(xx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=RL();const r=Buffer.from([0]),t=Buffer.from([16]),o={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength(a,l){return a.value==null?r:t},generateParameterData:function*(a,l){a.value!=null&&(yield Buffer.from((0,n.guidToArray)(a.value)))},validate:function(a){if(a==null)return null;if(typeof a!="string")throw new TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a))throw new TypeError("Invalid GUID.");return a}};e.default=o,i.exports=o})(qh,qh.exports)),qh.exports}var Vh={exports:{}},Ox;function tQ(){return Ox||(Ox=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=Buffer.from([255,255,255,255]),r={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(t){const o=t.value;return o!=null?o.length:-1},generateTypeInfo(t,o){const a=Buffer.alloc(10);return a.writeUInt8(this.id,0),a.writeInt32LE(t.length,1),t.collation&&t.collation.toBuffer().copy(a,5,0,5),a},generateParameterLength(t,o){if(t.value==null)return n;const a=Buffer.alloc(4);return a.writeInt32LE(Buffer.byteLength(t.value,"ucs2"),0),a},generateParameterData:function*(t,o){t.value!=null&&(yield Buffer.from(t.value.toString(),"ucs2"))},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");return t}};e.default=r,i.exports=r})(Vh,Vh.exports)),Vh.exports}var Yh={exports:{}},Dx;function nQ(){return Dx||(Dx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=65535,r=Buffer.from([254,255,255,255,255,255,255,255]),t=Buffer.from([0,0,0,0]),o=Buffer.from([255,255]),a=Buffer.from([255,255,255,255,255,255,255,255]),l={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(c){const d=c.value;let f;return c.length?f=c.length:d!=null?f=d.length||1:d===null&&!c.output?f=1:f=this.maximumLength,f<=this.maximumLength?"varbinary("+f+")":"varbinary(max)"},resolveLength:function(c){const d=c.value;return c.length!=null?c.length:d!=null?d.length:this.maximumLength},generateTypeInfo:function(c){const d=Buffer.alloc(3);return d.writeUInt8(this.id,0),c.length<=this.maximumLength?d.writeUInt16LE(c.length,1):d.writeUInt16LE(n,1),d},generateParameterLength(c,d){if(c.value==null)return c.length<=this.maximumLength?o:a;let f=c.value;Buffer.isBuffer(f)||(f=f.toString());const p=Buffer.byteLength(f,"ucs2");if(c.length<=this.maximumLength){const m=Buffer.alloc(2);return m.writeUInt16LE(p,0),m}else return r},*generateParameterData(c,d){if(c.value==null)return;let f=c.value;if(c.length<=this.maximumLength)Buffer.isBuffer(f)?yield f:yield Buffer.from(f.toString(),"ucs2");else{Buffer.isBuffer(f)||(f=f.toString());const p=Buffer.byteLength(f,"ucs2");if(p>0){const m=Buffer.alloc(4);m.writeUInt32LE(p,0),yield m,Buffer.isBuffer(f)?yield f:yield Buffer.from(f,"ucs2")}yield t}},validate:function(c){if(c==null)return null;if(!Buffer.isBuffer(c))throw new TypeError("Invalid buffer.");return c}};e.default=l,i.exports=l})(Yh,Yh.exports)),Yh.exports}var Gh={exports:{}},Mx;function rQ(){return Mx||(Mx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(da());function r(f){return f&&f.__esModule?f:{default:f}}const t=65535,o=Buffer.from([254,255,255,255,255,255,255,255]),a=Buffer.from([0,0,0,0]),l=Buffer.from([255,255]),c=Buffer.from([255,255,255,255,255,255,255,255]),d={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(f){const p=f.value;let m;return f.length?m=f.length:p!=null?m=p.length||1:p===null&&!f.output?m=1:m=this.maximumLength,m<=this.maximumLength?"varchar("+m+")":"varchar(max)"},resolveLength:function(f){const p=f.value;return f.length!=null?f.length:p!=null?p.length||1:this.maximumLength},generateTypeInfo(f){const p=Buffer.alloc(8);return p.writeUInt8(this.id,0),f.length<=this.maximumLength?p.writeUInt16LE(f.length,1):p.writeUInt16LE(t,1),f.collation&&f.collation.toBuffer().copy(p,3,0,5),p},generateParameterLength(f,p){const m=f.value;if(m==null)return f.length<=this.maximumLength?l:c;if(f.length<=this.maximumLength){const y=Buffer.alloc(2);return y.writeUInt16LE(m.length,0),y}else return o},*generateParameterData(f,p){const m=f.value;if(m!=null)if(f.length<=this.maximumLength)yield m;else{if(m.length>0){const y=Buffer.alloc(4);y.writeUInt32LE(m.length,0),yield y,yield m}yield a}},validate:function(f,p){if(f==null)return null;if(typeof f!="string")throw new TypeError("Invalid string.");if(!p)throw new Error("No collation was set by the server for the current connection.");if(!p.codepage)throw new Error("The collation set by the server has no associated encoding.");return n.default.encode(f,p.codepage)}};e.default=d,i.exports=d})(Gh,Gh.exports)),Gh.exports}var zh={exports:{}},kx;function iQ(){return kx||(kx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=Buffer.from([255,255]),r={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(t){const o=t.value;let a;return t.length?a=t.length:o!=null?a=o.length||1:o===null&&!t.output?a=1:a=this.maximumLength,"binary("+a+")"},resolveLength:function(t){const o=t.value;return o!=null?o.length:this.maximumLength},generateTypeInfo(t){const o=Buffer.alloc(3);return o.writeUInt8(this.id,0),o.writeUInt16LE(t.length,1),o},generateParameterLength(t,o){if(t.value==null)return n;const a=Buffer.alloc(2);return a.writeUInt16LE(t.length,0),a},*generateParameterData(t,o){t.value!=null&&(yield t.value.slice(0,t.length!==void 0?Math.min(t.length,this.maximumLength):this.maximumLength))},validate:function(t){if(t==null)return null;if(!Buffer.isBuffer(t))throw new TypeError("Invalid buffer.");return t}};e.default=r,i.exports=r})(zh,zh.exports)),zh.exports}var Kh={exports:{}},Px;function oQ(){return Px||(Px=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(da());function r(a){return a&&a.__esModule?a:{default:a}}const t=Buffer.from([255,255]),o={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(a){const l=a.value;let c;return a.length?c=a.length:l!=null?c=l.length||1:l===null&&!a.output?c=1:c=this.maximumLength,c<this.maximumLength?"char("+c+")":"char("+this.maximumLength+")"},resolveLength:function(a){const l=a.value;return a.length!=null?a.length:l!=null?l.length||1:this.maximumLength},generateTypeInfo(a){const l=Buffer.alloc(8);return l.writeUInt8(this.id,0),l.writeUInt16LE(a.length,1),a.collation&&a.collation.toBuffer().copy(l,3,0,5),l},generateParameterLength(a,l){const c=a.value;if(c==null)return t;const d=Buffer.alloc(2);return d.writeUInt16LE(c.length,0),d},*generateParameterData(a,l){a.value!=null&&(yield Buffer.from(a.value,"ascii"))},validate:function(a,l){if(a==null)return null;if(typeof a!="string")throw new TypeError("Invalid string.");if(!l)throw new Error("No collation was set by the server for the current connection.");if(!l.codepage)throw new Error("The collation set by the server has no associated encoding.");return n.default.encode(a,l.codepage)}};e.default=o,i.exports=o})(Kh,Kh.exports)),Kh.exports}var Wh={exports:{}},Lx;function sQ(){return Lx||(Lx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=65535,r=Buffer.from([254,255,255,255,255,255,255,255]),t=Buffer.from([0,0,0,0]),o=Buffer.from([255,255]),a=Buffer.from([255,255,255,255,255,255,255,255]),l={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(c){const d=c.value;let f;return c.length?f=c.length:d!=null?f=d.toString().length||1:d===null&&!c.output?f=1:f=this.maximumLength,f<=this.maximumLength?"nvarchar("+f+")":"nvarchar(max)"},resolveLength:function(c){const d=c.value;return c.length!=null?c.length:d!=null?Buffer.isBuffer(d)?d.length/2||1:d.toString().length||1:this.maximumLength},generateTypeInfo(c){const d=Buffer.alloc(8);return d.writeUInt8(this.id,0),c.length<=this.maximumLength?d.writeUInt16LE(c.length*2,1):d.writeUInt16LE(n,1),c.collation&&c.collation.toBuffer().copy(d,3,0,5),d},generateParameterLength(c,d){if(c.value==null)return c.length<=this.maximumLength?o:a;let f=c.value;if(c.length<=this.maximumLength){let p;f instanceof Buffer?p=f.length:(f=f.toString(),p=Buffer.byteLength(f,"ucs2"));const m=Buffer.alloc(2);return m.writeUInt16LE(p,0),m}else return r},*generateParameterData(c,d){if(c.value==null)return;let f=c.value;if(c.length<=this.maximumLength)f instanceof Buffer?yield f:(f=f.toString(),yield Buffer.from(f,"ucs2"));else{if(f instanceof Buffer){const p=f.length;if(p>0){const m=Buffer.alloc(4);m.writeUInt32LE(p,0),yield m,yield f}}else{f=f.toString();const p=Buffer.byteLength(f,"ucs2");if(p>0){const m=Buffer.alloc(4);m.writeUInt32LE(p,0),yield m,yield Buffer.from(f,"ucs2")}}yield t}},validate:function(c){if(c==null)return null;if(typeof c!="string")throw new TypeError("Invalid string.");return c}};e.default=l,i.exports=l})(Wh,Wh.exports)),Wh.exports}var $h={exports:{}},Ux;function aQ(){return Ux||(Ux=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=Buffer.from([255,255]),r={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(t){const o=t.value;let a;return t.length?a=t.length:t.value!=null?a=o.toString().length||1:t.value===null&&!t.output?a=1:a=this.maximumLength,a<this.maximumLength?"nchar("+a+")":"nchar("+this.maximumLength+")"},resolveLength:function(t){const o=t.value;return t.length!=null?t.length:t.value!=null?Buffer.isBuffer(t.value)?t.value.length/2||1:o.toString().length||1:this.maximumLength},generateTypeInfo:function(t){const o=Buffer.alloc(8);return o.writeUInt8(this.id,0),o.writeUInt16LE(t.length*2,1),t.collation&&t.collation.toBuffer().copy(o,3,0,5),o},generateParameterLength(t,o){if(t.value==null)return n;const{value:a}=t;if(a instanceof Buffer){const l=a.length,c=Buffer.alloc(2);return c.writeUInt16LE(l,0),c}else{const l=Buffer.byteLength(a.toString(),"ucs2"),c=Buffer.alloc(2);return c.writeUInt16LE(l,0),c}},*generateParameterData(t,o){if(t.value==null)return;const a=t.value;a instanceof Buffer?yield a:yield Buffer.from(a,"ucs2")},validate:function(t){if(t==null)return null;if(typeof t!="string")throw new TypeError("Invalid string.");return t}};e.default=r,i.exports=r})($h,$h.exports)),$h.exports}var jh={exports:{}},Fx;function lQ(){return Fx||(Fx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:241,type:"XML",name:"Xml",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(jh,jh.exports)),jh.exports}var Jh={exports:{}},Bx;function uQ(){return Bx||(Bx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(Ur());function r(a){return a&&a.__esModule?a:{default:a}}const t=Buffer.from([0]),o={id:41,type:"TIMEN",name:"Time",declaration:function(a){return"time("+this.resolveScale(a)+")"},resolveScale:function(a){return a.scale!=null?a.scale:a.value===null?0:7},generateTypeInfo(a){return Buffer.from([this.id,a.scale])},generateParameterLength(a,l){if(a.value==null)return t;switch(a.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw new Error("invalid scale")}},*generateParameterData(a,l){if(a.value==null)return;const c=new n.default(16),d=a.value;let f;switch(l.useUTC?f=((d.getUTCHours()*60+d.getUTCMinutes())*60+d.getUTCSeconds())*1e3+d.getUTCMilliseconds():f=((d.getHours()*60+d.getMinutes())*60+d.getSeconds())*1e3+d.getMilliseconds(),f=f*Math.pow(10,a.scale-3),f+=(a.value.nanosecondDelta!=null?a.value.nanosecondDelta:0)*Math.pow(10,a.scale),f=Math.round(f),a.scale){case 0:case 1:case 2:c.writeUInt24LE(f);break;case 3:case 4:c.writeUInt32LE(f);break;case 5:case 6:case 7:c.writeUInt40LE(f)}yield c.data},validate:function(a){if(a==null)return null;if(a instanceof Date||(a=new Date(Date.parse(a))),isNaN(a))throw new TypeError("Invalid time.");return a}};e.default=o,i.exports=o})(Jh,Jh.exports)),Jh.exports}var Qh={exports:{}},Hx;function cQ(){return Hx||(Hx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=$m;const r=NO.Date,t=n.LocalDate.ofYearDay(1,1),o=Buffer.from([0]),a=Buffer.from([3]),l={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength(c,d){return c.value==null?o:a},*generateParameterData(c,d){if(c.value==null)return;const f=c.value;let p;d.useUTC?p=n.LocalDate.of(f.getUTCFullYear(),f.getUTCMonth()+1,f.getUTCDate()):p=n.LocalDate.of(f.getFullYear(),f.getMonth()+1,f.getDate());const m=t.until(p,n.ChronoUnit.DAYS),y=Buffer.alloc(3);y.writeUIntLE(m,0,3),yield y},validate:function(c,d,f){if(c==null)return null;c instanceof r||(c=new r(r.parse(c))),c=c;let p;if(f&&f.useUTC?p=c.getUTCFullYear():p=c.getFullYear(),p<1||p>9999)throw new TypeError("Out of range.");if(isNaN(c))throw new TypeError("Invalid date.");return c}};e.default=l,i.exports=l})(Qh,Qh.exports)),Qh.exports}var Xh={exports:{}},qx;function dQ(){return qx||(qx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=$m,r=t(Ur());function t(c){return c&&c.__esModule?c:{default:c}}const o=n.LocalDate.ofYearDay(1,1),a=Buffer.from([0]),l={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(c){return"datetime2("+this.resolveScale(c)+")"},resolveScale:function(c){return c.scale!=null?c.scale:c.value===null?0:7},generateTypeInfo(c,d){return Buffer.from([this.id,c.scale])},generateParameterLength(c,d){if(c.value==null)return a;switch(c.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw new Error("invalid scale")}},*generateParameterData(c,d){if(c.value==null)return;const f=c.value;let p=c.scale;const m=new r.default(16);p=p;let y;switch(d.useUTC?y=((f.getUTCHours()*60+f.getUTCMinutes())*60+f.getUTCSeconds())*1e3+f.getUTCMilliseconds():y=((f.getHours()*60+f.getMinutes())*60+f.getSeconds())*1e3+f.getMilliseconds(),y=y*Math.pow(10,p-3),y+=(f.nanosecondDelta!=null?f.nanosecondDelta:0)*Math.pow(10,p),y=Math.round(y),p){case 0:case 1:case 2:m.writeUInt24LE(y);break;case 3:case 4:m.writeUInt32LE(y);break;case 5:case 6:case 7:m.writeUInt40LE(y)}let E;d.useUTC?E=n.LocalDate.of(f.getUTCFullYear(),f.getUTCMonth()+1,f.getUTCDate()):E=n.LocalDate.of(f.getFullYear(),f.getMonth()+1,f.getDate());const T=o.until(E,n.ChronoUnit.DAYS);m.writeUInt24LE(T),yield m.data},validate:function(c,d,f){if(c==null)return null;c instanceof Date||(c=new Date(Date.parse(c))),c=c;let p;if(f&&f.useUTC?p=c.getUTCFullYear():p=c.getFullYear(),p<1||p>9999)throw new TypeError("Out of range.");if(isNaN(c))throw new TypeError("Invalid date.");return c}};e.default=l,i.exports=l})(Xh,Xh.exports)),Xh.exports}var Zh={exports:{}},Vx;function fQ(){return Vx||(Vx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=$m,r=t(Ur());function t(c){return c&&c.__esModule?c:{default:c}}const o=n.LocalDate.ofYearDay(1,1),a=Buffer.from([0]),l={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(c){return"datetimeoffset("+this.resolveScale(c)+")"},resolveScale:function(c){return c.scale!=null?c.scale:c.value===null?0:7},generateTypeInfo(c){return Buffer.from([this.id,c.scale])},generateParameterLength(c,d){if(c.value==null)return a;switch(c.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw new Error("invalid scale")}},*generateParameterData(c,d){if(c.value==null)return;const f=c.value;let p=c.scale;const m=new r.default(16);p=p;let y;switch(y=((f.getUTCHours()*60+f.getUTCMinutes())*60+f.getUTCSeconds())*1e3+f.getMilliseconds(),y=y*Math.pow(10,p-3),y+=(f.nanosecondDelta!=null?f.nanosecondDelta:0)*Math.pow(10,p),y=Math.round(y),p){case 0:case 1:case 2:m.writeUInt24LE(y);break;case 3:case 4:m.writeUInt32LE(y);break;case 5:case 6:case 7:m.writeUInt40LE(y)}const E=n.LocalDate.of(f.getUTCFullYear(),f.getUTCMonth()+1,f.getUTCDate()),T=o.until(E,n.ChronoUnit.DAYS);m.writeUInt24LE(T);const C=-f.getTimezoneOffset();m.writeInt16LE(C),yield m.data},validate:function(c,d,f){if(c==null)return null;c instanceof Date||(c=new Date(Date.parse(c))),c=c;let p;if(f&&f.useUTC?p=c.getUTCFullYear():p=c.getFullYear(),p<1||p>9999)throw new TypeError("Out of range.");if(isNaN(c))throw new TypeError("Invalid date.");return c}};e.default=l,i.exports=l})(Zh,Zh.exports)),Zh.exports}var ep={exports:{}},Yx;function hQ(){return Yx||(Yx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(ep,ep.exports)),ep.exports}var tp={exports:{}},Gx;function pQ(){return Gx||(Gx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=la(),r=t(Ur());function t(d){return d&&d.__esModule?d:{default:d}}const o=Buffer.from([1]),a=Buffer.from([0]),l=Buffer.from([255,255]),c={id:243,type:"TVPTYPE",name:"TVP",declaration:function(d){return d.value.name+" readonly"},generateTypeInfo(d){var T,C;const p=((T=d.value)==null?void 0:T.schema)??"",m=((C=d.value)==null?void 0:C.name)??"",y=2+Buffer.byteLength("","ucs2")+1+Buffer.byteLength(p,"ucs2")+1+Buffer.byteLength(m,"ucs2"),E=new r.default(y,"ucs2");return E.writeUInt8(this.id),E.writeBVarchar(""),E.writeBVarchar(p),E.writeBVarchar(m),E.data},generateParameterLength(d,f){if(d.value==null)return l;const{columns:p}=d.value,m=Buffer.alloc(2);return m.writeUInt16LE(p.length,0),m},*generateParameterData(d,f){if(d.value==null){yield a,yield a;return}const{columns:p,rows:m}=d.value;for(let y=0,E=p.length;y<E;y++){const T=p[y],C=Buffer.alloc(6);C.writeUInt32LE(0,0),C.writeUInt16LE(0,4),yield C,yield T.type.generateTypeInfo(T),yield Buffer.from([0])}yield a;for(let y=0,E=m.length;y<E;y++){yield o;const T=m[y];for(let C=0,S=T.length;C<S;C++){const b=p[C],I=T[C];let N;try{N=b.type.validate(I,d.collation)}catch(L){throw new n.InputError(`TVP column '${b.name}' has invalid data at row index ${y}`,{cause:L})}const x={value:N,length:b.length,scale:b.scale,precision:b.precision};yield b.type.generateParameterLength(x,f),yield*b.type.generateParameterData(x,f)}}yield a},validate:function(d){if(d==null)return null;if(typeof d!="object")throw new TypeError("Invalid table.");if(!Array.isArray(d.columns))throw new TypeError("Invalid table.");if(!Array.isArray(d.rows))throw new TypeError("Invalid table.");return d}};e.default=c,i.exports=c})(tp,tp.exports)),tp.exports}var np={exports:{}},zx;function mQ(){return zx||(zx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}};e.default=n,i.exports=n})(np,np.exports)),np.exports}var Kx;function jm(){if(Kx)return Eo;Kx=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.typeByName=Eo.TYPES=Eo.TYPE=void 0;var i=P(Ij()),e=P(Nj()),n=P(Rj()),r=P(xj()),t=P(Oj()),o=P(Dj()),a=P(Mj()),l=P(kj()),c=P(IJ()),d=P(NJ()),f=P(RJ()),p=P(xJ()),m=P(OJ()),y=P(DJ()),E=P(MJ()),T=P(ZJ()),C=P(eQ()),S=P(Bc()),b=P(tQ()),I=P(cL()),N=P(bL()),x=P(IL()),L=P(MT()),F=P(kT()),G=P(DT()),Q=P(nQ()),j=P(rQ()),Z=P(iQ()),ie=P(oQ()),J=P(sQ()),Re=P(aQ()),Fe=P(lQ()),ee=P(uQ()),Ee=P(cQ()),ye=P(dQ()),Pe=P(fQ()),$=P(hQ()),V=P(pQ()),H=P(mQ());function P(_e){return _e&&_e.__esModule?_e:{default:_e}}Eo.TYPE={[i.default.id]:i.default,[e.default.id]:e.default,[n.default.id]:n.default,[r.default.id]:r.default,[t.default.id]:t.default,[o.default.id]:o.default,[a.default.id]:a.default,[l.default.id]:l.default,[c.default.id]:c.default,[d.default.id]:d.default,[f.default.id]:f.default,[p.default.id]:p.default,[m.default.id]:m.default,[y.default.id]:y.default,[E.default.id]:E.default,[T.default.id]:T.default,[C.default.id]:C.default,[S.default.id]:S.default,[b.default.id]:b.default,[I.default.id]:I.default,[N.default.id]:N.default,[x.default.id]:x.default,[L.default.id]:L.default,[F.default.id]:F.default,[G.default.id]:G.default,[Q.default.id]:Q.default,[j.default.id]:j.default,[Z.default.id]:Z.default,[ie.default.id]:ie.default,[J.default.id]:J.default,[Re.default.id]:Re.default,[Fe.default.id]:Fe.default,[ee.default.id]:ee.default,[Ee.default.id]:Ee.default,[ye.default.id]:ye.default,[Pe.default.id]:Pe.default,[$.default.id]:$.default,[V.default.id]:V.default,[H.default.id]:H.default};const ue=Eo.TYPES={TinyInt:e.default,Bit:n.default,SmallInt:r.default,Int:t.default,SmallDateTime:o.default,Real:a.default,Money:l.default,DateTime:c.default,Float:d.default,Decimal:f.default,Numeric:p.default,SmallMoney:m.default,BigInt:y.default,Image:E.default,Text:T.default,UniqueIdentifier:C.default,NText:b.default,VarBinary:Q.default,VarChar:j.default,Binary:Z.default,Char:ie.default,NVarChar:J.default,NChar:Re.default,Xml:Fe.default,Time:ee.default,Date:Ee.default,DateTime2:ye.default,DateTimeOffset:Pe.default,UDT:$.default,TVP:V.default,Variant:H.default};return Eo.typeByName=ue,Eo}var hn={},Wx;function tr(){if(Wx)return hn;Wx=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.Result=hn.NotEnoughDataError=void 0,hn.readBVarByte=T,hn.readBVarChar=E,hn.readBigInt64LE=p,hn.readBigUInt64LE=f,hn.readDoubleLE=y,hn.readFloatLE=m,hn.readInt16LE=t,hn.readInt32LE=d,hn.readUInt16LE=r,hn.readUInt24LE=o,hn.readUInt32BE=l,hn.readUInt32LE=a,hn.readUInt40LE=c,hn.readUInt8=n,hn.readUNumeric128LE=N,hn.readUNumeric64LE=b,hn.readUNumeric96LE=I,hn.readUsVarByte=S,hn.readUsVarChar=C;class i{constructor(L,F){this.value=L,this.offset=F}}hn.Result=i;class e extends Error{constructor(F){super();Qe(this,"byteCount");this.byteCount=F}}hn.NotEnoughDataError=e;function n(x,L){if(L=+L,x.length<L+1)throw new e(L+1);return new i(x.readUInt8(L),L+1)}function r(x,L){if(L=+L,x.length<L+2)throw new e(L+2);return new i(x.readUInt16LE(L),L+2)}function t(x,L){if(L=+L,x.length<L+2)throw new e(L+2);return new i(x.readInt16LE(L),L+2)}function o(x,L){if(L=+L,x.length<L+3)throw new e(L+3);return new i(x.readUIntLE(L,3),L+3)}function a(x,L){if(L=+L,x.length<L+4)throw new e(L+4);return new i(x.readUInt32LE(L),L+4)}function l(x,L){if(L=+L,x.length<L+4)throw new e(L+4);return new i(x.readUInt32BE(L),L+4)}function c(x,L){if(L=+L,x.length<L+5)throw new e(L+5);return new i(x.readUIntLE(L,5),L+5)}function d(x,L){if(L=+L,x.length<L+4)throw new e(L+4);return new i(x.readInt32LE(L),L+4)}function f(x,L){if(L=+L,x.length<L+8)throw new e(L+8);return new i(x.readBigUInt64LE(L),L+8)}function p(x,L){if(L=+L,x.length<L+8)throw new e(L+8);return new i(x.readBigInt64LE(L),L+8)}function m(x,L){if(L=+L,x.length<L+4)throw new e(L+4);return new i(x.readFloatLE(L),L+4)}function y(x,L){if(L=+L,x.length<L+8)throw new e(L+8);return new i(x.readDoubleLE(L),L+8)}function E(x,L){L=+L;let F;({offset:L,value:F}=n(x,L));const G=F*2;if(x.length<L+G)throw new e(L+G);return new i(x.toString("ucs2",L,L+G),L+G)}function T(x,L){L=+L;let F;if({offset:L,value:F}=n(x,L),x.length<L+F)throw new e(L+F);return new i(x.slice(L,L+F),L+F)}function C(x,L){L=+L;let F;({offset:L,value:F}=r(x,L));const G=F*2;if(x.length<L+G)throw new e(L+G);return new i(x.toString("ucs2",L,L+G),L+G)}function S(x,L){L=+L;let F;if({offset:L,value:F}=r(x,L),x.length<L+F)throw new e(L+F);return new i(x.slice(L,L+F),L+F)}function b(x,L){if(L=+L,x.length<L+8)throw new e(L+8);const F=x.readUInt32LE(L),G=x.readUInt32LE(L+4);return new i(4294967296*G+F,L+8)}function I(x,L){if(L=+L,x.length<L+12)throw new e(L+12);const F=x.readUInt32LE(L),G=x.readUInt32LE(L+4),Q=x.readUInt32LE(L+8);return new i(F+4294967296*G+4294967296*4294967296*Q,L+12)}function N(x,L){if(L=+L,x.length<L+16)throw new e(L+16);const F=x.readUInt32LE(L),G=x.readUInt32LE(L+4),Q=x.readUInt32LE(L+8),j=x.readUInt32LE(L+12);return new i(F+4294967296*G+4294967296*4294967296*Q+4294967296*4294967296*4294967296*j,L+16)}return hn}var $x;function BT(){return $x||($x=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.readCollation=a,e.readMetadata=d;var n=uL(),r=jm(),t=Uc(),o=tr();function a(p,m){if(m=+m,p.length<m+5)throw new o.NotEnoughDataError(m+5);const y=n.Collation.fromBuffer(p.slice(m,m+5));return new o.Result(y,m+5)}function l(p,m){m=+m;let y;if({offset:m,value:y}=(0,o.readUInt8)(p,m),y!==1)return new o.Result(void 0,m);let E;({offset:m,value:E}=(0,o.readBVarChar)(p,m));let T;({offset:m,value:T}=(0,o.readBVarChar)(p,m));let C;return{offset:m,value:C}=(0,o.readUsVarChar)(p,m),new o.Result({dbname:E,owningSchema:T,xmlSchemaCollection:C},m)}function c(p,m){let y;({offset:m,value:y}=(0,o.readUInt16LE)(p,m));let E;({offset:m,value:E}=(0,o.readBVarChar)(p,m));let T;({offset:m,value:T}=(0,o.readBVarChar)(p,m));let C;({offset:m,value:C}=(0,o.readBVarChar)(p,m));let S;return{offset:m,value:S}=(0,o.readUsVarChar)(p,m),new o.Result({maxByteSize:y,dbname:E,owningSchema:T,typeName:C,assemblyName:S},m)}function d(p,m,y){let E;({offset:m,value:E}=(y.tdsVersion<"7_2"?o.readUInt16LE:o.readUInt32LE)(p,m));let T;({offset:m,value:T}=(0,o.readUInt16LE)(p,m));let C;({offset:m,value:C}=(0,o.readUInt8)(p,m));const S=r.TYPE[C];if(!S)throw new Error((0,t.sprintf)("Unrecognised data type 0x%02X",C));switch(S.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0},m);case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":{let b;return{offset:m,value:b}=(0,o.readUInt8)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"Variant":{let b;return{offset:m,value:b}=(0,o.readUInt32LE)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"VarChar":case"Char":case"NVarChar":case"NChar":{let b;({offset:m,value:b}=(0,o.readUInt16LE)(p,m));let I;return{offset:m,value:I}=a(p,m),new o.Result({userType:E,flags:T,type:S,collation:I,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"Text":case"NText":{let b;({offset:m,value:b}=(0,o.readUInt32LE)(p,m));let I;return{offset:m,value:I}=a(p,m),new o.Result({userType:E,flags:T,type:S,collation:I,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"VarBinary":case"Binary":{let b;return{offset:m,value:b}=(0,o.readUInt16LE)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"Image":{let b;return{offset:m,value:b}=(0,o.readUInt32LE)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"Xml":{let b;return{offset:m,value:b}=l(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:b,udtInfo:void 0},m)}case"Time":case"DateTime2":case"DateTimeOffset":{let b;return{offset:m,value:b}=(0,o.readUInt8)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:b,dataLength:void 0,schema:void 0,udtInfo:void 0},m)}case"NumericN":case"DecimalN":{let b;({offset:m,value:b}=(0,o.readUInt8)(p,m));let I;({offset:m,value:I}=(0,o.readUInt8)(p,m));let N;return{offset:m,value:N}=(0,o.readUInt8)(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:I,scale:N,dataLength:b,schema:void 0,udtInfo:void 0},m)}case"UDT":{let b;return{offset:m,value:b}=c(p,m),new o.Result({userType:E,flags:T,type:S,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:b},m)}default:throw new Error((0,t.sprintf)("Unrecognised type %s",S.name))}}function f(p,m,y){(async()=>{for(;;){let E;try{E=d(p.buffer,p.position,m)}catch(T){if(T instanceof o.NotEnoughDataError){await p.waitForChunk();continue}throw T}return p.position=E.offset,y(E.value)}})()}e.default=f,i.exports=f,i.exports.readCollation=a,i.exports.readMetadata=d})(hh,hh.exports)),hh.exports}var jx;function gQ(){return jx||(jx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=BT(),r=fr(),t=tr();function o(d,f,p,m){if(!p.type.hasTableName)return new t.Result(void 0,f);if(m.tdsVersion<"7_2")return(0,t.readUsVarChar)(d,f);let y;({offset:f,value:y}=(0,t.readUInt8)(d,f));const E=[];for(let T=0;T<y;T++){let C;({offset:f,value:C}=(0,t.readUsVarChar)(d,f)),E.push(C)}return new t.Result(E,f)}function a(d,f,p,m,y){let E;return{offset:f,value:E}=(0,t.readBVarChar)(d,f),y.columnNameReplacer?new t.Result(y.columnNameReplacer(E,p,m),f):y.camelCaseColumns?new t.Result(E.replace(/^[A-Z]/,function(T){return T.toLowerCase()}),f):new t.Result(E,f)}function l(d,f,p,m){let y;({offset:f,value:y}=(0,n.readMetadata)(d,f,p));let E;({offset:f,value:E}=o(d,f,y,p));let T;return{offset:f,value:T}=a(d,f,m,y,p),new t.Result({userType:y.userType,flags:y.flags,type:y.type,collation:y.collation,precision:y.precision,scale:y.scale,udtInfo:y.udtInfo,dataLength:y.dataLength,schema:y.schema,colName:T,tableName:E},f)}async function c(d){let f;for(;;){let m;try{({offset:m,value:f}=(0,t.readUInt16LE)(d.buffer,d.position))}catch(y){if(y instanceof t.NotEnoughDataError){await d.waitForChunk();continue}throw y}d.position=m;break}const p=[];for(let m=0;m<f;m++)for(;;){let y,E;try{({offset:E,value:y}=l(d.buffer,d.position,d.options,m))}catch(T){if(T instanceof t.NotEnoughDataError){await d.waitForChunk();continue}throw T}d.position=E,p.push(y);break}return new r.ColMetadataToken(p)}e.default=c,i.exports=c})(fh,fh.exports)),fh.exports}var nl={},Jx;function yQ(){if(Jx)return nl;Jx=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.doneInProcParser=o,nl.doneParser=t,nl.doneProcParser=a;var i=fr(),e=tr();const n={MORE:1,ERROR:2,COUNT:16,ATTN:32,SRVERROR:256};function r(l,c,d){let f;({offset:c,value:f}=(0,e.readUInt16LE)(l,c));const p=!!(f&n.MORE),m=!!(f&n.ERROR),y=!!(f&n.COUNT),E=!!(f&n.ATTN),T=!!(f&n.SRVERROR);let C;({offset:c,value:C}=(0,e.readUInt16LE)(l,c));let S;return{offset:c,value:S}=(d.tdsVersion<"7_2"?e.readUInt32LE:e.readBigUInt64LE)(l,c),new e.Result({more:p,sqlError:m,attention:E,serverError:T,rowCount:y?Number(S):void 0,curCmd:C},c)}function t(l,c,d){let f;return{offset:c,value:f}=r(l,c,d),new e.Result(new i.DoneToken(f),c)}function o(l,c,d){let f;return{offset:c,value:f}=r(l,c,d),new e.Result(new i.DoneInProcToken(f),c)}function a(l,c,d){let f;return{offset:c,value:f}=r(l,c,d),new e.Result(new i.DoneProcToken(f),c)}return nl}var rp={exports:{}},Qx;function _Q(){return Qx||(Qx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=uL(),r=fr(),t=tr();const o={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function a(c,d,f,p){switch(p.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":{let m;({offset:d,value:m}=(0,t.readBVarChar)(c,d));let y;switch({offset:d,value:y}=(0,t.readBVarChar)(c,d),p.name){case"PACKET_SIZE":return new t.Result(new r.PacketSizeEnvChangeToken(parseInt(m),parseInt(y)),d);case"DATABASE":return new t.Result(new r.DatabaseEnvChangeToken(m,y),d);case"LANGUAGE":return new t.Result(new r.LanguageEnvChangeToken(m,y),d);case"CHARSET":return new t.Result(new r.CharsetEnvChangeToken(m,y),d);case"DATABASE_MIRRORING_PARTNER":return new t.Result(new r.DatabaseMirroringPartnerEnvChangeToken(m,y),d)}throw new Error("unreachable")}case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":{let m;({offset:d,value:m}=(0,t.readBVarByte)(c,d));let y;switch({offset:d,value:y}=(0,t.readBVarByte)(c,d),p.name){case"SQL_COLLATION":{const E=m.length?n.Collation.fromBuffer(m):void 0,T=y.length?n.Collation.fromBuffer(y):void 0;return new t.Result(new r.CollationChangeToken(E,T),d)}case"BEGIN_TXN":return new t.Result(new r.BeginTransactionEnvChangeToken(m,y),d);case"COMMIT_TXN":return new t.Result(new r.CommitTransactionEnvChangeToken(m,y),d);case"ROLLBACK_TXN":return new t.Result(new r.RollbackTransactionEnvChangeToken(m,y),d);case"RESET_CONNECTION":return new t.Result(new r.ResetConnectionEnvChangeToken(m,y),d)}throw new Error("unreachable")}case"ROUTING_CHANGE":{let m;({offset:d,value:m}=(0,t.readUsVarByte)(c,d));let y;({offset:d,value:y}=(0,t.readUsVarByte)(c,d));const E=m.readUInt8(0);if(E!==0)throw new Error("Unknown protocol byte in routing change event");const T=m.readUInt16LE(1),C=m.readUInt16LE(3),S=m.toString("ucs2",5,5+C*2),b={protocol:E,port:T,server:S};return new t.Result(new r.RoutingEnvChangeToken(b,y),d)}default:return console.error("Tedious > Unsupported ENVCHANGE type "+p.name),new t.Result(void 0,d+f-1)}}function l(c,d,f){let p;if({offset:d,value:p}=(0,t.readUInt16LE)(c,d),c.length<d+p)throw new t.NotEnoughDataError(d+p);let m;({offset:d,value:m}=(0,t.readUInt8)(c,d));const y=o[m];return y?a(c,d,p,y):(console.error("Tedious > Unsupported ENVCHANGE type "+m),new t.Result(void 0,d+p-1))}e.default=l,i.exports=l})(rp,rp.exports)),rp.exports}var ec={},Xx;function vQ(){if(Xx)return ec;Xx=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.errorParser=t,ec.infoParser=r;var i=tr(),e=fr();function n(o,a,l){let c;if({offset:a,value:c}=(0,i.readUInt16LE)(o,a),o.length<c+a)throw new i.NotEnoughDataError(c+a);let d;({offset:a,value:d}=(0,i.readUInt32LE)(o,a));let f;({offset:a,value:f}=(0,i.readUInt8)(o,a));let p;({offset:a,value:p}=(0,i.readUInt8)(o,a));let m;({offset:a,value:m}=(0,i.readUsVarChar)(o,a));let y;({offset:a,value:y}=(0,i.readBVarChar)(o,a));let E;({offset:a,value:E}=(0,i.readBVarChar)(o,a));let T;return{offset:a,value:T}=l.tdsVersion<"7_2"?(0,i.readUInt16LE)(o,a):(0,i.readUInt32LE)(o,a),new i.Result({number:d,state:f,class:p,message:m,serverName:y,procName:E,lineNumber:T},a)}function r(o,a,l){let c;return{offset:a,value:c}=n(o,a,l),new i.Result(new e.InfoMessageToken(c),a)}function t(o,a,l){let c;return{offset:a,value:c}=n(o,a,l),new i.Result(new e.ErrorMessageToken(c),a)}return ec}var ip={exports:{}},Zx;function EQ(){return Zx||(Zx=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=tr(),r=fr();const t={STSURL:1,SPN:2};function o(l){let c=0,d,f;const p=l.readUInt32LE(c);c+=4;for(let m=0;m<p;m++){const y=l.readUInt8(c);c+=1;const E=l.readUInt32LE(c);c+=4;const T=l.readUInt32LE(c);switch(c+=4,y){case t.SPN:d=l.toString("ucs2",T,T+E);break;case t.STSURL:f=l.toString("ucs2",T,T+E);break}}return{spn:d,stsurl:f}}function a(l,c,d){let f;if({offset:c,value:f}=(0,n.readUInt32LE)(l,c),l.length<c+f)throw new n.NotEnoughDataError(c+f);const p=l.slice(c,c+f);c+=f;const{spn:m,stsurl:y}=o(p);return new n.Result(new r.FedAuthInfoToken(m,y),c)}e.default=a,i.exports=a})(ip,ip.exports)),ip.exports}var op={exports:{}},eO;function TQ(){return eO||(eO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=tr(),r=fr();const t={FEDAUTH:2,UTF8_SUPPORT:10,TERMINATOR:255};function o(a,l,c){let d,f;for(;;){let p;if({value:p,offset:l}=(0,n.readUInt8)(a,l),p===t.TERMINATOR)return new n.Result(new r.FeatureExtAckToken(d,f),l);let m;if({value:m,offset:l}=(0,n.readUInt32LE)(a,l),a.length<l+m)throw new n.NotEnoughDataError(l+m);const y=a.slice(l,l+m);switch(l+=m,p){case t.FEDAUTH:d=y;break;case t.UTF8_SUPPORT:f=!!y[0];break}}}e.default=o,i.exports=o})(op,op.exports)),op.exports}var sp={exports:{}},tO;function wQ(){return tO||(tO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=Gm(),t=tr();const o={0:"SQL_DFLT",1:"SQL_TSQL"};function a(l,c,d){let f;if({offset:c,value:f}=(0,t.readUInt16LE)(l,c),l.length<f+c)throw new t.NotEnoughDataError(f+c);let p;({offset:c,value:p}=(0,t.readUInt8)(l,c));const m=o[p];let y;({offset:c,value:y}=(0,t.readUInt32BE)(l,c));const E=r.versionsByValue[y];let T;({offset:c,value:T}=(0,t.readBVarChar)(l,c));let C;({offset:c,value:C}=(0,t.readUInt8)(l,c));let S;({offset:c,value:S}=(0,t.readUInt8)(l,c));let b;({offset:c,value:b}=(0,t.readUInt8)(l,c));let I;return{offset:c,value:I}=(0,t.readUInt8)(l,c),new t.Result(new n.LoginAckToken({interface:m,tdsVersion:E,progName:T,progVersion:{major:C,minor:S,buildNumHi:b,buildNumLow:I}}),c)}e.default=a,i.exports=a})(sp,sp.exports)),sp.exports}var ap={exports:{}},nO;function SQ(){return nO||(nO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=tr();function t(o,a,l){let c;if({offset:a,value:c}=(0,r.readUInt16LE)(o,a),o.length<a+c)throw new r.NotEnoughDataError(a+c);const d=[];for(let f=0;f<c;f+=2){let p;({offset:a,value:p}=(0,r.readUInt16LE)(o,a)),d.push(p)}return new r.Result(new n.OrderToken(d),a)}e.default=t,i.exports=t})(ap,ap.exports)),ap.exports}var lp={exports:{}},rO;function CQ(){return rO||(rO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=tr(),r=fr();function t(o,a,l){let c;return{value:c,offset:a}=(0,n.readInt32LE)(o,a),new n.Result(new r.ReturnStatusToken(c),a)}e.default=t,i.exports=t})(lp,lp.exports)),lp.exports}var up={exports:{}},So={},iO;function HT(){if(iO)return So;iO=1,Object.defineProperty(So,"__esModule",{value:!0}),So.isPLPStream=G,So.readPLPStream=Fe,So.readValue=F;var i=BT(),e=jm(),n=a(da()),r=Uc(),t=RL(),o=tr();function a(H){return H&&H.__esModule?H:{default:H}}const l=65535,c=65535,d=3+1/3,f=1e4,p=0xFFFFFFFFFFFFFFFFn,m=0xFFFFFFFFFFFFFFFEn,y="utf8";function E(H,P){return(0,o.readUInt8)(H,P)}function T(H,P){return(0,o.readInt16LE)(H,P)}function C(H,P){return(0,o.readInt32LE)(H,P)}function S(H,P){let ue;return{offset:P,value:ue}=(0,o.readBigInt64LE)(H,P),new o.Result(ue.toString(),P)}function b(H,P){return(0,o.readFloatLE)(H,P)}function I(H,P){return(0,o.readDoubleLE)(H,P)}function N(H,P){let ue;return{offset:P,value:ue}=(0,o.readInt32LE)(H,P),new o.Result(ue/f,P)}function x(H,P){let ue;({offset:P,value:ue}=(0,o.readInt32LE)(H,P));let _e;return{offset:P,value:_e}=(0,o.readUInt32LE)(H,P),new o.Result((_e+4294967296*ue)/f,P)}function L(H,P){let ue;return{offset:P,value:ue}=(0,o.readUInt8)(H,P),new o.Result(!!ue,P)}function F(H,P,ue,_e){switch(ue.type.name){case"Null":return new o.Result(null,P);case"TinyInt":return E(H,P);case"SmallInt":return T(H,P);case"Int":return C(H,P);case"BigInt":return S(H,P);case"IntN":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 1:return E(H,P);case 2:return T(H,P);case 4:return C(H,P);case 8:return S(H,P);default:throw new Error("Unsupported dataLength "+ce+" for IntN")}}case"Real":return b(H,P);case"Float":return I(H,P);case"FloatN":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 4:return b(H,P);case 8:return I(H,P);default:throw new Error("Unsupported dataLength "+ce+" for FloatN")}}case"SmallMoney":return N(H,P);case"Money":return x(H,P);case"MoneyN":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 4:return N(H,P);case 8:return x(H,P);default:throw new Error("Unsupported dataLength "+ce+" for MoneyN")}}case"Bit":return L(H,P);case"BitN":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 1:return L(H,P);default:throw new Error("Unsupported dataLength "+ce+" for BitN")}}case"VarChar":case"Char":{const ce=ue.collation.codepage;let le;return{offset:P,value:le}=(0,o.readUInt16LE)(H,P),le===l?new o.Result(null,P):J(H,P,le,ce)}case"NVarChar":case"NChar":{let ce;return{offset:P,value:ce}=(0,o.readUInt16LE)(H,P),ce===l?new o.Result(null,P):Re(H,P,ce)}case"VarBinary":case"Binary":{let ce;return{offset:P,value:ce}=(0,o.readUInt16LE)(H,P),ce===l?new o.Result(null,P):ie(H,P,ce)}case"Text":{let ce;if({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0)return new o.Result(null,P);({offset:P}=ie(H,P,ce)),{offset:P}=ie(H,P,8);let le;return{offset:P,value:le}=(0,o.readUInt32LE)(H,P),J(H,P,le,ue.collation.codepage)}case"NText":{let ce;if({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0)return new o.Result(null,P);({offset:P}=ie(H,P,ce)),{offset:P}=ie(H,P,8);let le;return{offset:P,value:le}=(0,o.readUInt32LE)(H,P),Re(H,P,le)}case"Image":{let ce;if({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0)return new o.Result(null,P);({offset:P}=ie(H,P,ce)),{offset:P}=ie(H,P,8);let le;return{offset:P,value:le}=(0,o.readUInt32LE)(H,P),ie(H,P,le)}case"SmallDateTime":return ee(H,P,_e.useUTC);case"DateTime":return Ee(H,P,_e.useUTC);case"DateTimeN":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 4:return ee(H,P,_e.useUTC);case 8:return Ee(H,P,_e.useUTC);default:throw new Error("Unsupported dataLength "+ce+" for DateTimeN")}}case"Time":{let ce;return{offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0?new o.Result(null,P):ye(H,P,ce,ue.scale,_e.useUTC)}case"Date":{let ce;return{offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0?new o.Result(null,P):Pe(H,P,_e.useUTC)}case"DateTime2":{let ce;return{offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0?new o.Result(null,P):$(H,P,ce,ue.scale,_e.useUTC)}case"DateTimeOffset":{let ce;return{offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0?new o.Result(null,P):V(H,P,ce,ue.scale)}case"NumericN":case"DecimalN":{let ce;return{offset:P,value:ce}=(0,o.readUInt8)(H,P),ce===0?new o.Result(null,P):j(H,P,ce,ue.precision,ue.scale)}case"UniqueIdentifier":{let ce;switch({offset:P,value:ce}=(0,o.readUInt8)(H,P),ce){case 0:return new o.Result(null,P);case 16:return Q(H,P,_e);default:throw new Error((0,r.sprintf)("Unsupported guid size %d",ce-1))}}case"Variant":{let ce;return{offset:P,value:ce}=(0,o.readUInt32LE)(H,P),ce===0?new o.Result(null,P):Z(H,P,_e,ce)}default:throw new Error("Invalid type!")}}function G(H){switch(H.type.name){case"VarChar":case"NVarChar":case"VarBinary":return H.dataLength===c;case"Xml":return!0;case"UDT":return!0}}function Q(H,P,ue){let _e;return{value:_e,offset:P}=ie(H,P,16),new o.Result(ue.lowerCaseGuids?(0,t.bufferToLowerCaseGuid)(_e):(0,t.bufferToUpperCaseGuid)(_e),P)}function j(H,P,ue,_e,Oe){let ce;({offset:P,value:ce}=(0,o.readUInt8)(H,P)),ce=ce===1?1:-1;let le;if(ue===5)({offset:P,value:le}=(0,o.readUInt32LE)(H,P));else if(ue===9)({offset:P,value:le}=(0,o.readUNumeric64LE)(H,P));else if(ue===13)({offset:P,value:le}=(0,o.readUNumeric96LE)(H,P));else if(ue===17)({offset:P,value:le}=(0,o.readUNumeric128LE)(H,P));else throw new Error((0,r.sprintf)("Unsupported numeric dataLength %d",ue));return new o.Result(le*ce/Math.pow(10,Oe),P)}function Z(H,P,ue,_e){let Oe;({value:Oe,offset:P}=(0,o.readUInt8)(H,P));const ce=e.TYPE[Oe];let le;switch({value:le,offset:P}=(0,o.readUInt8)(H,P),_e=_e-le-2,ce.name){case"UniqueIdentifier":return Q(H,P,ue);case"Bit":return L(H,P);case"TinyInt":return E(H,P);case"SmallInt":return T(H,P);case"Int":return C(H,P);case"BigInt":return S(H,P);case"SmallDateTime":return ee(H,P,ue.useUTC);case"DateTime":return Ee(H,P,ue.useUTC);case"Real":return b(H,P);case"Float":return I(H,P);case"SmallMoney":return N(H,P);case"Money":return x(H,P);case"Date":return Pe(H,P,ue.useUTC);case"Time":{let he;return{value:he,offset:P}=(0,o.readUInt8)(H,P),ye(H,P,_e,he,ue.useUTC)}case"DateTime2":{let he;return{value:he,offset:P}=(0,o.readUInt8)(H,P),$(H,P,_e,he,ue.useUTC)}case"DateTimeOffset":{let he;return{value:he,offset:P}=(0,o.readUInt8)(H,P),V(H,P,_e,he)}case"VarBinary":case"Binary":return{offset:P}=(0,o.readUInt16LE)(H,P),ie(H,P,_e);case"NumericN":case"DecimalN":{let he;({value:he,offset:P}=(0,o.readUInt8)(H,P));let xe;return{value:xe,offset:P}=(0,o.readUInt8)(H,P),j(H,P,_e,he,xe)}case"VarChar":case"Char":{({offset:P}=(0,o.readUInt16LE)(H,P));let he;return{value:he,offset:P}=(0,i.readCollation)(H,P),J(H,P,_e,he.codepage)}case"NVarChar":case"NChar":return{offset:P}=(0,o.readUInt16LE)(H,P),{offset:P}=(0,i.readCollation)(H,P),Re(H,P,_e);default:throw new Error("Invalid type!")}}function ie(H,P,ue){if(H.length<P+ue)throw new o.NotEnoughDataError(P+ue);return new o.Result(H.slice(P,P+ue),P+ue)}function J(H,P,ue,_e){if(H.length<P+ue)throw new o.NotEnoughDataError(P+ue);return new o.Result(n.default.decode(H.slice(P,P+ue),_e??y),P+ue)}function Re(H,P,ue){if(H.length<P+ue)throw new o.NotEnoughDataError(P+ue);return new o.Result(H.toString("ucs2",P,P+ue),P+ue)}async function Fe(H){for(;H.buffer.length<H.position+8;)await H.waitForChunk();const P=H.buffer.readBigUInt64LE(H.position);if(H.position+=8,P===p)return null;const ue=[];let _e=0;for(;;){for(;H.buffer.length<H.position+4;)await H.waitForChunk();const Oe=H.buffer.readUInt32LE(H.position);if(H.position+=4,!Oe)break;for(;H.buffer.length<H.position+Oe;)await H.waitForChunk();ue.push(H.buffer.slice(H.position,H.position+Oe)),H.position+=Oe,_e+=Oe}if(P!==m&&_e!==Number(P))throw new Error("Partially Length-prefixed Bytes unmatched lengths : expected "+P+", but got "+_e+" bytes");return ue}function ee(H,P,ue){let _e;({offset:P,value:_e}=(0,o.readUInt16LE)(H,P));let Oe;({offset:P,value:Oe}=(0,o.readUInt16LE)(H,P));let ce;return ue?ce=new Date(Date.UTC(1900,0,1+_e,0,Oe)):ce=new Date(1900,0,1+_e,0,Oe),new o.Result(ce,P)}function Ee(H,P,ue){let _e;({offset:P,value:_e}=(0,o.readInt32LE)(H,P));let Oe;({offset:P,value:Oe}=(0,o.readInt32LE)(H,P));const ce=Math.round(Oe*d);let le;return ue?le=new Date(Date.UTC(1900,0,1+_e,0,0,0,ce)):le=new Date(1900,0,1+_e,0,0,0,ce),new o.Result(le,P)}function ye(H,P,ue,_e,Oe){let ce;switch(ue){case 3:{({value:ce,offset:P}=(0,o.readUInt24LE)(H,P));break}case 4:{({value:ce,offset:P}=(0,o.readUInt32LE)(H,P));break}case 5:{({value:ce,offset:P}=(0,o.readUInt40LE)(H,P));break}default:throw new Error("unreachable")}if(_e<7)for(let he=_e;he<7;he++)ce*=10;let le;return Oe?le=new Date(Date.UTC(1970,0,1,0,0,0,ce/1e4)):le=new Date(1970,0,1,0,0,0,ce/1e4),Object.defineProperty(le,"nanosecondsDelta",{enumerable:!1,value:ce%1e4/Math.pow(10,7)}),new o.Result(le,P)}function Pe(H,P,ue){let _e;return{offset:P,value:_e}=(0,o.readUInt24LE)(H,P),ue?new o.Result(new Date(Date.UTC(2e3,0,_e-730118)),P):new o.Result(new Date(2e3,0,_e-730118),P)}function $(H,P,ue,_e,Oe){let ce;({offset:P,value:ce}=ye(H,P,ue-3,_e,Oe));let le;({offset:P,value:le}=(0,o.readUInt24LE)(H,P));let he;return Oe?he=new Date(Date.UTC(2e3,0,le-730118,0,0,0,+ce)):he=new Date(2e3,0,le-730118,ce.getHours(),ce.getMinutes(),ce.getSeconds(),ce.getMilliseconds()),Object.defineProperty(he,"nanosecondsDelta",{enumerable:!1,value:ce.nanosecondsDelta}),new o.Result(he,P)}function V(H,P,ue,_e){let Oe;({offset:P,value:Oe}=ye(H,P,ue-5,_e,!0));let ce;({offset:P,value:ce}=(0,o.readUInt24LE)(H,P)),{offset:P}=(0,o.readUInt16LE)(H,P);const le=new Date(Date.UTC(2e3,0,ce-730118,0,0,0,+Oe));return Object.defineProperty(le,"nanosecondsDelta",{enumerable:!1,value:Oe.nanosecondsDelta}),new o.Result(le,P)}return So.readValue=F,So.isPLPStream=G,So.readPLPStream=Fe,So}var oO;function AQ(){return oO||(oO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=BT(),t=HT(),o=tr(),a=l(da());function l(d,f){if(typeof WeakMap=="function")var p=new WeakMap,m=new WeakMap;return(l=function(y,E){if(!E&&y&&y.__esModule)return y;var T,C,S={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return S;if(T=E?m:p){if(T.has(y))return T.get(y);T.set(y,S)}for(const b in y)b!=="default"&&{}.hasOwnProperty.call(y,b)&&((C=(T=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,b))&&(C.get||C.set)?T(S,b,C):S[b]=y[b]);return S})(d,f)}async function c(d){var E;let f,p,m;for(;;){const T=d.buffer;let C=d.position;try{({offset:C,value:p}=(0,o.readUInt16LE)(T,C)),{offset:C,value:f}=(0,o.readBVarChar)(T,C),{offset:C}=(0,o.readUInt8)(T,C),{offset:C,value:m}=(0,r.readMetadata)(T,C,d.options),f.charAt(0)==="@"&&(f=f.slice(1))}catch(S){if(S instanceof o.NotEnoughDataError){await d.waitForChunk();continue}throw S}d.position=C;break}let y;for(;;){const T=d.buffer;let C=d.position;if((0,t.isPLPStream)(m)){const S=await(0,t.readPLPStream)(d);S===null?y=S:m.type.name==="NVarChar"||m.type.name==="Xml"?y=Buffer.concat(S).toString("ucs2"):m.type.name==="VarChar"?y=a.decode(Buffer.concat(S),((E=m.collation)==null?void 0:E.codepage)??"utf8"):(m.type.name==="VarBinary"||m.type.name==="UDT")&&(y=Buffer.concat(S))}else{try{({value:y,offset:C}=(0,t.readValue)(T,C,m,d.options))}catch(S){if(S instanceof o.NotEnoughDataError){await d.waitForChunk();continue}throw S}d.position=C}break}return new n.ReturnValueToken({paramOrdinal:p,paramName:f,metadata:m,value:y})}e.default=c,i.exports=c})(up,up.exports)),up.exports}var cp={exports:{}},sO;function bQ(){return sO||(sO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=a(da()),t=HT(),o=tr();function a(c,d){if(typeof WeakMap=="function")var f=new WeakMap,p=new WeakMap;return(a=function(m,y){if(!y&&m&&m.__esModule)return m;var E,T,C={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return C;if(E=y?p:f){if(E.has(m))return E.get(m);E.set(m,C)}for(const S in m)S!=="default"&&{}.hasOwnProperty.call(m,S)&&((T=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,S))&&(T.get||T.set)?E(C,S,T):C[S]=m[S]);return C})(c,d)}async function l(c){var f;const d=[];for(const p of c.colMetadata)for(;;){if((0,t.isPLPStream)(p)){const m=await(0,t.readPLPStream)(c);m===null?d.push({value:m,metadata:p}):p.type.name==="NVarChar"||p.type.name==="Xml"?d.push({value:Buffer.concat(m).toString("ucs2"),metadata:p}):p.type.name==="VarChar"?d.push({value:r.decode(Buffer.concat(m),((f=p.collation)==null?void 0:f.codepage)??"utf8"),metadata:p}):(p.type.name==="VarBinary"||p.type.name==="UDT")&&d.push({value:Buffer.concat(m),metadata:p})}else{let m;try{m=(0,t.readValue)(c.buffer,c.position,p,c.options)}catch(y){if(y instanceof o.NotEnoughDataError){await c.waitForChunk();continue}throw y}c.position=m.offset,d.push({value:m.value,metadata:p})}break}if(c.options.useColumnNames){const p=Object.create(null);return d.forEach(m=>{const y=m.metadata.colName;p[y]==null&&(p[y]=m)}),new n.RowToken(p)}else return new n.RowToken(d)}e.default=l,i.exports=l})(cp,cp.exports)),cp.exports}var dp={exports:{}},aO;function IQ(){return aO||(aO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=a(da()),t=HT(),o=tr();function a(c,d){if(typeof WeakMap=="function")var f=new WeakMap,p=new WeakMap;return(a=function(m,y){if(!y&&m&&m.__esModule)return m;var E,T,C={__proto__:null,default:m};if(m===null||typeof m!="object"&&typeof m!="function")return C;if(E=y?p:f){if(E.has(m))return E.get(m);E.set(m,C)}for(const S in m)S!=="default"&&{}.hasOwnProperty.call(m,S)&&((T=(E=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,S))&&(T.get||T.set)?E(C,S,T):C[S]=m[S]);return C})(c,d)}async function l(c){var E;const d=c.colMetadata,f=[],p=[],m=Math.ceil(d.length/8);for(;c.buffer.length-c.position<m;)await c.waitForChunk();const y=c.buffer.slice(c.position,c.position+m);c.position+=m;for(let T=0,C=y.length;T<C;T++){const S=y[T];p.push(!!(S&1)),p.push(!!(S&2)),p.push(!!(S&4)),p.push(!!(S&8)),p.push(!!(S&16)),p.push(!!(S&32)),p.push(!!(S&64)),p.push(!!(S&128))}for(let T=0;T<d.length;T++){const C=d[T];if(p[T]){f.push({value:null,metadata:C});continue}for(;;){if((0,t.isPLPStream)(C)){const S=await(0,t.readPLPStream)(c);S===null?f.push({value:S,metadata:C}):C.type.name==="NVarChar"||C.type.name==="Xml"?f.push({value:Buffer.concat(S).toString("ucs2"),metadata:C}):C.type.name==="VarChar"?f.push({value:r.decode(Buffer.concat(S),((E=C.collation)==null?void 0:E.codepage)??"utf8"),metadata:C}):(C.type.name==="VarBinary"||C.type.name==="UDT")&&f.push({value:Buffer.concat(S),metadata:C})}else{let S;try{S=(0,t.readValue)(c.buffer,c.position,C,c.options)}catch(b){if(b instanceof o.NotEnoughDataError){await c.waitForChunk();continue}throw b}c.position=S.offset,f.push({value:S.value,metadata:C})}break}}if(c.options.useColumnNames){const T=Object.create(null);return f.forEach(C=>{const S=C.metadata.colName;T[S]==null&&(T[S]=C)}),new n.NBCRowToken(T)}else return new n.NBCRowToken(f)}e.default=l,i.exports=l})(dp,dp.exports)),dp.exports}var fp={exports:{}},lO;function NQ(){return lO||(lO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=tr(),r=fr();function t(a){const l={};return l.magic=a.slice(0,8).toString("utf8"),l.type=a.readInt32LE(8),l.domainLen=a.readInt16LE(12),l.domainMax=a.readInt16LE(14),l.domainOffset=a.readInt32LE(16),l.flags=a.readInt32LE(20),l.nonce=a.slice(24,32),l.zeroes=a.slice(32,40),l.targetLen=a.readInt16LE(40),l.targetMax=a.readInt16LE(42),l.targetOffset=a.readInt32LE(44),l.oddData=a.slice(48,56),l.domain=a.slice(56,56+l.domainLen).toString("ucs2"),l.target=a.slice(56+l.domainLen,56+l.domainLen+l.targetLen),l}function o(a,l,c){let d;if({offset:l,value:d}=(0,n.readUInt16LE)(a,l),a.length<l+d)throw new n.NotEnoughDataError(l+d);const f=a.slice(l,l+d);return l+=d,new n.Result(new r.SSPIToken(t(f),f),l)}e.default=o,i.exports=o})(fp,fp.exports)),fp.exports}var uO;function RQ(){return uO||(uO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=fr(),r=S(gQ()),t=yQ(),o=S(_Q()),a=vQ(),l=S(EQ()),c=S(TQ()),d=S(wQ()),f=S(SQ()),p=S(CQ()),m=S(AQ()),y=S(bQ()),E=S(IQ()),T=S(NQ()),C=tr();function S(I){return I&&I.__esModule?I:{default:I}}class b{constructor(N,x,L){Qe(this,"debug");Qe(this,"colMetadata");Qe(this,"options");Qe(this,"iterator");Qe(this,"buffer");Qe(this,"position");this.debug=x,this.colMetadata=[],this.options=L,this.iterator=(N[Symbol.asyncIterator]||N[Symbol.iterator]).call(N),this.buffer=Buffer.alloc(0),this.position=0}static async*parseTokens(N,x,L,F=[]){const G=new b(N,x,L);for(G.colMetadata=F;;){try{await G.waitForChunk()}catch(Q){if(G.position===G.buffer.length)return;throw Q}for(;G.buffer.length>=G.position+1;){const Q=G.buffer.readUInt8(G.position);G.position+=1;const j=G.readToken(Q);j!==void 0&&(yield j)}}}readToken(N){switch(N){case n.TYPE.DONE:return this.readDoneToken();case n.TYPE.DONEPROC:return this.readDoneProcToken();case n.TYPE.DONEINPROC:return this.readDoneInProcToken();case n.TYPE.ERROR:return this.readErrorToken();case n.TYPE.INFO:return this.readInfoToken();case n.TYPE.ENVCHANGE:return this.readEnvChangeToken();case n.TYPE.LOGINACK:return this.readLoginAckToken();case n.TYPE.RETURNSTATUS:return this.readReturnStatusToken();case n.TYPE.ORDER:return this.readOrderToken();case n.TYPE.FEDAUTHINFO:return this.readFedAuthInfoToken();case n.TYPE.SSPI:return this.readSSPIToken();case n.TYPE.COLMETADATA:return this.readColMetadataToken();case n.TYPE.RETURNVALUE:return this.readReturnValueToken();case n.TYPE.ROW:return this.readRowToken();case n.TYPE.NBCROW:return this.readNbcRowToken();case n.TYPE.FEATUREEXTACK:return this.readFeatureExtAckToken();default:throw new Error("Unknown type: "+N)}}readFeatureExtAckToken(){let N;try{N=(0,c.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFeatureExtAckToken());throw x}return this.position=N.offset,N.value}async readNbcRowToken(){return await(0,E.default)(this)}async readReturnValueToken(){return await(0,m.default)(this)}async readColMetadataToken(){const N=await(0,r.default)(this);return this.colMetadata=N.columns,N}readSSPIToken(){let N;try{N=(0,T.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readSSPIToken());throw x}return this.position=N.offset,N.value}readFedAuthInfoToken(){let N;try{N=(0,l.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFedAuthInfoToken());throw x}return this.position=N.offset,N.value}readOrderToken(){let N;try{N=(0,f.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readOrderToken());throw x}return this.position=N.offset,N.value}readReturnStatusToken(){let N;try{N=(0,p.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readReturnStatusToken());throw x}return this.position=N.offset,N.value}readLoginAckToken(){let N;try{N=(0,d.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readLoginAckToken());throw x}return this.position=N.offset,N.value}readEnvChangeToken(){let N;try{N=(0,o.default)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readEnvChangeToken());throw x}return this.position=N.offset,N.value}readRowToken(){return(0,y.default)(this)}readInfoToken(){let N;try{N=(0,a.infoParser)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readInfoToken());throw x}return this.position=N.offset,N.value}readErrorToken(){let N;try{N=(0,a.errorParser)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readErrorToken());throw x}return this.position=N.offset,N.value}readDoneInProcToken(){let N;try{N=(0,t.doneInProcParser)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneInProcToken());throw x}return this.position=N.offset,N.value}readDoneProcToken(){let N;try{N=(0,t.doneProcParser)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneProcToken());throw x}return this.position=N.offset,N.value}readDoneToken(){let N;try{N=(0,t.doneParser)(this.buffer,this.position,this.options)}catch(x){if(x instanceof C.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneToken());throw x}return this.position=N.offset,N.value}async waitForChunk(){const N=await this.iterator.next();if(N.done)throw new Error("unexpected end of data");this.position===this.buffer.length?this.buffer=N.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),N.value]),this.position=0}}e.default=b,i.exports=b})(dh,dh.exports)),dh.exports}var cO;function xQ(){if(cO)return Qu;cO=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.Parser=void 0;var i=Ri(),e=r(RQ()),n=Kt;function r(o){return o&&o.__esModule?o:{default:o}}class t extends i.EventEmitter{constructor(a,l,c,d){super(),this.debug=l,this.options=d,this.parser=n.Readable.from(e.default.parseTokens(a,this.debug,this.options)),this.parser.on("data",f=>{l.token(f),c[f.handlerName](f)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}}return Qu.Parser=t,Qu}var jr={},dO;function xL(){if(dO)return jr;dO=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Transaction=jr.OPERATION_TYPE=jr.ISOLATION_LEVEL=void 0,jr.assertValidIsolationLevel=a,jr.isolationLevelByValue=void 0;var i=n(Ur()),e=IT();function n(c){return c&&c.__esModule?c:{default:c}}const r=jr.OPERATION_TYPE={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9},t=jr.ISOLATION_LEVEL={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5},o=jr.isolationLevelByValue={};for(const c in t){const d=t[c];o[d]=c}function a(c,d){if(typeof c!="number")throw new TypeError(`The "${d}" ${d.includes(".")?"property":"argument"} must be of type number. Received type ${typeof c} (${c})`);if(!Number.isInteger(c))throw new RangeError(`The value of "${d}" is out of range. It must be an integer. Received: ${c}`);if(!(c>=0&&c<=5))throw new RangeError(`The value of "${d}" is out of range. It must be >= 0 && <= 5. Received: ${c}`)}class l{constructor(d,f=t.NO_CHANGE){this.name=d,this.isolationLevel=f,this.outstandingRequestCount=1}beginPayload(d){const f=new i.default(100,"ucs2");return(0,e.writeToTrackingBuffer)(f,d,this.outstandingRequestCount),f.writeUShort(r.TM_BEGIN_XACT),f.writeUInt8(this.isolationLevel),f.writeUInt8(this.name.length*2),f.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield f.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+o[this.isolationLevel]}}commitPayload(d){const f=new i.default(100,"ascii");return(0,e.writeToTrackingBuffer)(f,d,this.outstandingRequestCount),f.writeUShort(r.TM_COMMIT_XACT),f.writeUInt8(this.name.length*2),f.writeString(this.name,"ucs2"),f.writeUInt8(0),{*[Symbol.iterator](){yield f.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(d){const f=new i.default(100,"ascii");return(0,e.writeToTrackingBuffer)(f,d,this.outstandingRequestCount),f.writeUShort(r.TM_ROLLBACK_XACT),f.writeUInt8(this.name.length*2),f.writeString(this.name,"ucs2"),f.writeUInt8(0),{*[Symbol.iterator](){yield f.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(d){const f=new i.default(100,"ascii");return(0,e.writeToTrackingBuffer)(f,d,this.outstandingRequestCount),f.writeUShort(r.TM_SAVE_XACT),f.writeUInt8(this.name.length*2),f.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield f.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case t.READ_UNCOMMITTED:return"READ UNCOMMITTED";case t.READ_COMMITTED:return"READ COMMITTED";case t.REPEATABLE_READ:return"REPEATABLE READ";case t.SERIALIZABLE:return"SERIALIZABLE";case t.SNAPSHOT:return"SNAPSHOT"}return""}}return jr.Transaction=l,jr}var rl={},fO;function OQ(){if(fO)return rl;fO=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.connectInParallel=r,rl.connectInSequence=t,rl.lookupAllAddresses=o;var i=n(Kt),e=n(Kt);function n(a){return a&&a.__esModule?a:{default:a}}async function r(a,l,c){c.throwIfAborted();const d=await o(a.host,l,c);return await new Promise((f,p)=>{const m=new Array(d.length),y=[];function E(S){y.push(S),this.removeListener("error",E),this.removeListener("connect",T),this.destroy(),y.length===d.length&&(c.removeEventListener("abort",C),p(new AggregateError(y,"Could not connect (parallel)")))}function T(){c.removeEventListener("abort",C);for(let S=0;S<m.length;S++){const b=m[S];this!==b&&(b.removeListener("error",E),b.removeListener("connect",T),b.destroy())}f(this)}const C=()=>{for(let S=0;S<m.length;S++){const b=m[S];b.removeListener("error",E),b.removeListener("connect",T),b.destroy()}p(c.reason)};for(let S=0,b=d.length;S<b;S++){const I=m[S]=i.default.connect({...a,host:d[S].address,family:d[S].family});I.on("error",E),I.on("connect",T)}c.addEventListener("abort",C,{once:!0})})}async function t(a,l,c){c.throwIfAborted();const d=[],f=await o(a.host,l,c);for(const p of f)try{return await new Promise((m,y)=>{const E=i.default.connect({...a,host:p.address,family:p.family}),T=()=>{E.removeListener("error",C),E.removeListener("connect",S),E.destroy(),y(c.reason)},C=b=>{c.removeEventListener("abort",T),E.removeListener("error",C),E.removeListener("connect",S),E.destroy(),y(b)},S=()=>{c.removeEventListener("abort",T),E.removeListener("error",C),E.removeListener("connect",S),m(E)};c.addEventListener("abort",T,{once:!0}),E.on("error",C),E.on("connect",S)})}catch(m){c.throwIfAborted(),d.push(m);continue}throw new AggregateError(d,"Could not connect (sequence)")}async function o(a,l,c){return c.throwIfAborted(),i.default.isIPv6(a)?[{address:a,family:6}]:i.default.isIPv4(a)?[{address:a,family:4}]:await new Promise((d,f)=>{const p=()=>{f(c.reason)};c.addEventListener("abort",p);const m=e.default.domainToASCII(a);l(m===""?a:m,{all:!0},(y,E)=>{c.removeEventListener("abort",p),y?f(y):d(E)})})}return rl}var tc={},hO;function OL(){return hO||(hO=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.name=void 0,tc.name="Tedious"),tc}var hp={},pO;function DQ(){if(pO)return hp;pO=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.createNTLMRequest=e;const i={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_NegotiateNTLM:512,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_NegotiateAlwaysSign:32768,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateVersion:33554432,NTLM_Negotiate128:536870912,NTLM_Negotiate56:2147483648};function e(n){const r=escape(n.domain.toUpperCase()),t=n.workstation?escape(n.workstation.toUpperCase()):"";let o=i.NTLM_NegotiateUnicode+i.NTLM_NegotiateOEM+i.NTLM_RequestTarget+i.NTLM_NegotiateNTLM+i.NTLM_NegotiateOemDomainSupplied+i.NTLM_NegotiateOemWorkstationSupplied+i.NTLM_NegotiateAlwaysSign+i.NTLM_NegotiateVersion+i.NTLM_NegotiateExtendedSecurity+i.NTLM_Negotiate128+i.NTLM_Negotiate56;t===""&&(o-=i.NTLM_NegotiateOemWorkstationSupplied);const a=Buffer.alloc(40),l=[a];let c=0;return c+=a.write("NTLMSSP",c,7,"ascii"),c=a.writeUInt8(0,c),c=a.writeUInt32LE(1,c),c=a.writeUInt32LE(o,c),c=a.writeUInt16LE(r.length,c),c=a.writeUInt16LE(r.length,c),c=a.writeUInt32LE(a.length+t.length,c),c=a.writeUInt16LE(t.length,c),c=a.writeUInt16LE(t.length,c),c=a.writeUInt32LE(a.length,c),c=a.writeUInt8(5,c),c=a.writeUInt8(0,c),c=a.writeUInt16LE(2195,c),c=a.writeUInt8(0,c),c=a.writeUInt8(0,c),c=a.writeUInt8(0,c),a.writeUInt8(15,c),l.push(Buffer.from(t,"ascii")),l.push(Buffer.from(r,"ascii")),Buffer.concat(l)}return hp}var nc={},mO;function MQ(){if(mO)return nc;mO=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.BulkLoadPayload=void 0;class i{constructor(n){this.bulkLoad=n,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterator}toString(n=""){return n+"BulkLoad"}}return nc.BulkLoadPayload=i,nc}var pp={exports:{}},gO;function kQ(){return gO||(gO=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={Sp_Cursor:1,Sp_CursorOpen:2,Sp_CursorPrepare:3,Sp_CursorExecute:4,Sp_CursorPrepExec:5,Sp_CursorUnprepare:6,Sp_CursorFetch:7,Sp_CursorOption:8,Sp_CursorClose:9,Sp_ExecuteSql:10,Sp_Prepare:11,Sp_Execute:12,Sp_PrepExec:13,Sp_PrepExecRpc:14,Sp_Unprepare:15};e.default=n,i.exports=n})(pp,pp.exports)),pp.exports}const PQ="19.1.3",LQ={version:PQ};var ir={},yO;function UQ(){if(yO)return ir;yO=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.UnexpectedTokenError=ir.TokenHandler=ir.RequestTokenHandler=ir.Login7TokenHandler=ir.InitialSqlTokenHandler=ir.AttentionTokenHandler=void 0;var i=n(bT()),e=la();function n(d){return d&&d.__esModule?d:{default:d}}class r extends Error{constructor(f,p){super("Unexpected token `"+p.name+"` in `"+f.constructor.name+"`")}}ir.UnexpectedTokenError=r;class t{onInfoMessage(f){throw new r(this,f)}onErrorMessage(f){throw new r(this,f)}onSSPI(f){throw new r(this,f)}onDatabaseChange(f){throw new r(this,f)}onLanguageChange(f){throw new r(this,f)}onCharsetChange(f){throw new r(this,f)}onSqlCollationChange(f){throw new r(this,f)}onRoutingChange(f){throw new r(this,f)}onPacketSizeChange(f){throw new r(this,f)}onResetConnection(f){throw new r(this,f)}onBeginTransaction(f){throw new r(this,f)}onCommitTransaction(f){throw new r(this,f)}onRollbackTransaction(f){throw new r(this,f)}onFedAuthInfo(f){throw new r(this,f)}onFeatureExtAck(f){throw new r(this,f)}onLoginAck(f){throw new r(this,f)}onColMetadata(f){throw new r(this,f)}onOrder(f){throw new r(this,f)}onRow(f){throw new r(this,f)}onReturnStatus(f){throw new r(this,f)}onReturnValue(f){throw new r(this,f)}onDoneProc(f){throw new r(this,f)}onDoneInProc(f){throw new r(this,f)}onDone(f){throw new r(this,f)}onDatabaseMirroringPartner(f){throw new r(this,f)}}ir.TokenHandler=t;class o extends t{constructor(f){super(),this.connection=f}onInfoMessage(f){this.connection.emit("infoMessage",f)}onErrorMessage(f){this.connection.emit("errorMessage",f)}onDatabaseChange(f){this.connection.emit("databaseChange",f.newValue)}onLanguageChange(f){this.connection.emit("languageChange",f.newValue)}onCharsetChange(f){this.connection.emit("charsetChange",f.newValue)}onSqlCollationChange(f){this.connection.databaseCollation=f.newValue}onPacketSizeChange(f){this.connection.messageIo.packetSize(f.newValue)}onBeginTransaction(f){this.connection.transactionDescriptors.push(f.newValue),this.connection.inTransaction=!0}onCommitTransaction(f){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(f){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(f){this.connection.emit("error",new Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(f){this.connection.emit("error",new Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(f){this.connection.emit("error",new Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(f){}onReturnValue(f){}onDoneProc(f){}onDoneInProc(f){}onDone(f){}onResetConnection(f){this.connection.emit("resetConnection")}}ir.InitialSqlTokenHandler=o;class a extends t{constructor(f){super(),this.loginAckReceived=!1,this.connection=f}onInfoMessage(f){this.connection.emit("infoMessage",f)}onErrorMessage(f){this.connection.emit("errorMessage",f);const p=new e.ConnectionError(f.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(f.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(p.isTransient=!0),this.connection.loginError=p}onSSPI(f){f.ntlmpacket&&(this.connection.ntlmpacket=f.ntlmpacket,this.connection.ntlmpacketBuffer=f.ntlmpacketBuffer)}onDatabaseChange(f){this.connection.emit("databaseChange",f.newValue)}onLanguageChange(f){this.connection.emit("languageChange",f.newValue)}onCharsetChange(f){this.connection.emit("charsetChange",f.newValue)}onSqlCollationChange(f){this.connection.databaseCollation=f.newValue}onFedAuthInfo(f){this.fedAuthInfoToken=f}onFeatureExtAck(f){const{authentication:p}=this.connection.config;p.type==="azure-active-directory-password"||p.type==="azure-active-directory-access-token"||p.type==="azure-active-directory-msi-vm"||p.type==="azure-active-directory-msi-app-service"||p.type==="azure-active-directory-service-principal-secret"||p.type==="azure-active-directory-default"?f.fedAuth===void 0?this.connection.loginError=new e.ConnectionError("Did not receive Active Directory authentication acknowledgement"):f.fedAuth.length!==0&&(this.connection.loginError=new e.ConnectionError(`Active Directory authentication acknowledgment for ${p.type} authentication method includes extra data`)):f.fedAuth===void 0&&f.utf8Support===void 0?this.connection.loginError=new e.ConnectionError("Received acknowledgement for unknown feature"):f.fedAuth&&(this.connection.loginError=new e.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(f){if(!f.tdsVersion){this.connection.loginError=new e.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!f.interface){this.connection.loginError=new e.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=f.tdsVersion,this.loginAckReceived=!0}onRoutingChange(f){const[p,m]=f.newValue.server.split("\\");this.routingData={server:p,port:f.newValue.port,instance:m}}onDoneInProc(f){}onDone(f){}onPacketSizeChange(f){this.connection.messageIo.packetSize(f.newValue)}onDatabaseMirroringPartner(f){}}ir.Login7TokenHandler=a;class l extends t{constructor(f,p){super(),this.connection=f,this.request=p,this.errors=[]}onInfoMessage(f){this.connection.emit("infoMessage",f)}onErrorMessage(f){if(this.connection.emit("errorMessage",f),!this.request.canceled){const p=new e.RequestError(f.message,"EREQUEST");p.number=f.number,p.state=f.state,p.class=f.class,p.serverName=f.serverName,p.procName=f.procName,p.lineNumber=f.lineNumber,this.errors.push(p),this.request.error=p,this.request instanceof i.default&&this.errors.length>1&&(this.request.error=new AggregateError(this.errors))}}onDatabaseChange(f){this.connection.emit("databaseChange",f.newValue)}onLanguageChange(f){this.connection.emit("languageChange",f.newValue)}onCharsetChange(f){this.connection.emit("charsetChange",f.newValue)}onSqlCollationChange(f){this.connection.databaseCollation=f.newValue}onPacketSizeChange(f){this.connection.messageIo.packetSize(f.newValue)}onBeginTransaction(f){this.connection.transactionDescriptors.push(f.newValue),this.connection.inTransaction=!0}onCommitTransaction(f){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(f){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(f){if(!this.request.canceled)if(this.connection.config.options.useColumnNames){const p=Object.create(null);for(let m=0,y=f.columns.length;m<y;m++){const E=f.columns[m];p[E.colName]==null&&(p[E.colName]=E)}this.request.emit("columnMetadata",p)}else this.request.emit("columnMetadata",f.columns)}onOrder(f){this.request.canceled||this.request.emit("order",f.orderColumns)}onRow(f){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(f.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(f.columns),this.request.emit("row",f.columns))}onReturnStatus(f){this.request.canceled||(this.connection.procReturnStatusValue=f.value)}onReturnValue(f){this.request.canceled||this.request.emit("returnValue",f.paramName,f.value,f.metadata)}onDoneProc(f){this.request.canceled||(f.sqlError&&!this.request.error&&(this.request.error=new e.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",f.rowCount,f.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,f.rowCount!==void 0&&(this.request.rowCount+=f.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(f){this.request.canceled||(this.request.emit("doneInProc",f.rowCount,f.more,this.request.rst),f.rowCount!==void 0&&(this.request.rowCount+=f.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(f){this.request.canceled||(f.sqlError&&!this.request.error&&(this.request.error=new e.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",f.rowCount,f.more,this.request.rst),f.rowCount!==void 0&&(this.request.rowCount+=f.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(f){this.connection.emit("resetConnection")}}ir.RequestTokenHandler=l;class c extends t{constructor(f,p){super(),this.connection=f,this.request=p,this.attentionReceived=!1}onDone(f){f.attention&&(this.attentionReceived=!0)}}return ir.AttentionTokenHandler=c,ir}var _O;function FQ(){return _O||(_O=1,(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=P(Kt),r=P(Kt),t=H(Kt),o=H(Kt),a=P(Kt),l=P(Kt),c=Kt,d=W$,f=nj,p=P(tM()),m=P(rj()),y=Ri(),E=oj(),T=sj(),C=Ym(),S=P(aj()),b=P(lj()),I=P(fj()),N=P(bT()),x=P(pj()),L=P(mj()),F=P(bj()),G=xQ(),Q=xL(),j=la(),Z=OQ(),ie=OL(),J=Gm(),Re=P(NT()),Fe=DQ(),ee=jm(),Ee=MQ(),ye=P(kQ()),Pe=LQ,$=Kt,V=UQ();function H(se,D){if(typeof WeakMap=="function")var ae=new WeakMap,ne=new WeakMap;return(H=function(de,Ve){if(!Ve&&de&&de.__esModule)return de;var Ue,tt,q={__proto__:null,default:de};if(de===null||typeof de!="object"&&typeof de!="function")return q;if(Ue=Ve?ne:ae){if(Ue.has(de))return Ue.get(de);Ue.set(de,q)}for(const R in de)R!=="default"&&{}.hasOwnProperty.call(de,R)&&((tt=(Ue=Object.defineProperty)&&Object.getOwnPropertyDescriptor(de,R))&&(tt.get||tt.set)?Ue(q,R,tt):q[R]=de[R]);return q})(se,D)}function P(se){return se&&se.__esModule?se:{default:se}}const ue=30*1e3,_e=15*1e3,Oe=15*1e3,ce=5*1e3,le=500,he=4*1024,xe=2147483647,Ye=7,Ge=1433,re="7_4",fe="us_english",Ae="mdy";function ze(){let se,D;return{promise:new Promise((ne,de)=>{se=ne,D=de}),resolve:se,reject:D}}class Ke extends y.EventEmitter{constructor(D){if(super(),typeof D!="object"||D===null)throw new TypeError('The "config" argument is required and must be of type Object.');if(typeof D.server!="string")throw new TypeError('The "config.server" property is required and must be of type string.');this.fedAuthRequired=!1;let ae;if(D.authentication!==void 0){if(typeof D.authentication!="object"||D.authentication===null)throw new TypeError('The "config.authentication" property must be of type Object.');const ne=D.authentication.type,de=D.authentication.options===void 0?{}:D.authentication.options;if(typeof ne!="string")throw new TypeError('The "config.authentication.type" property must be of type string.');if(ne!=="default"&&ne!=="ntlm"&&ne!=="token-credential"&&ne!=="azure-active-directory-password"&&ne!=="azure-active-directory-access-token"&&ne!=="azure-active-directory-msi-vm"&&ne!=="azure-active-directory-msi-app-service"&&ne!=="azure-active-directory-service-principal-secret"&&ne!=="azure-active-directory-default")throw new TypeError('The "type" property must one of "default", "ntlm", "token-credential", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if(typeof de!="object"||de===null)throw new TypeError('The "config.authentication.options" property must be of type object.');if(ne==="ntlm"){if(typeof de.domain!="string")throw new TypeError('The "config.authentication.options.domain" property must be of type string.');if(de.userName!==void 0&&typeof de.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(de.password!==void 0&&typeof de.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');ae={type:"ntlm",options:{userName:de.userName,password:de.password,domain:de.domain&&de.domain.toUpperCase()}}}else if(ne==="token-credential"){if(!(0,f.isTokenCredential)(de.credential))throw new TypeError('The "config.authentication.options.credential" property must be an instance of the token credential class.');ae={type:"token-credential",options:{credential:de.credential}}}else if(ne==="azure-active-directory-password"){if(typeof de.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(de.userName!==void 0&&typeof de.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(de.password!==void 0&&typeof de.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');if(de.tenantId!==void 0&&typeof de.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');ae={type:"azure-active-directory-password",options:{userName:de.userName,password:de.password,tenantId:de.tenantId,clientId:de.clientId}}}else if(ne==="azure-active-directory-access-token"){if(typeof de.token!="string")throw new TypeError('The "config.authentication.options.token" property must be of type string.');ae={type:"azure-active-directory-access-token",options:{token:de.token}}}else if(ne==="azure-active-directory-msi-vm"){if(de.clientId!==void 0&&typeof de.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');ae={type:"azure-active-directory-msi-vm",options:{clientId:de.clientId}}}else if(ne==="azure-active-directory-default"){if(de.clientId!==void 0&&typeof de.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');ae={type:"azure-active-directory-default",options:{clientId:de.clientId}}}else if(ne==="azure-active-directory-msi-app-service"){if(de.clientId!==void 0&&typeof de.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');ae={type:"azure-active-directory-msi-app-service",options:{clientId:de.clientId}}}else if(ne==="azure-active-directory-service-principal-secret"){if(typeof de.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(typeof de.clientSecret!="string")throw new TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if(typeof de.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');ae={type:"azure-active-directory-service-principal-secret",options:{clientId:de.clientId,clientSecret:de.clientSecret,tenantId:de.tenantId}}}else{if(de.userName!==void 0&&typeof de.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(de.password!==void 0&&typeof de.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');ae={type:"default",options:{userName:de.userName,password:de.password}}}}else ae={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:D.server,authentication:ae,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:ce,columnEncryptionKeyCacheTTL:7200*1e3,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:le,connectTimeout:_e,connector:void 0,connectionIsolationLevel:Q.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:Ye,dateFormat:Ae,debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:Q.ISOLATION_LEVEL.READ_COMMITTED,language:fe,localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:he,port:Ge,readOnlyIntent:!1,requestTimeout:Oe,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:re,textsize:xe,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},D.options){if(D.options.port&&D.options.instanceName)throw new Error("Port and instanceName are mutually exclusive, but "+D.options.port+" and "+D.options.instanceName+" provided");if(D.options.abortTransactionOnError!==void 0){if(typeof D.options.abortTransactionOnError!="boolean"&&D.options.abortTransactionOnError!==null)throw new TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=D.options.abortTransactionOnError}if(D.options.appName!==void 0){if(typeof D.options.appName!="string")throw new TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=D.options.appName}if(D.options.camelCaseColumns!==void 0){if(typeof D.options.camelCaseColumns!="boolean")throw new TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=D.options.camelCaseColumns}if(D.options.cancelTimeout!==void 0){if(typeof D.options.cancelTimeout!="number")throw new TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=D.options.cancelTimeout}if(D.options.columnNameReplacer){if(typeof D.options.columnNameReplacer!="function")throw new TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=D.options.columnNameReplacer}if(D.options.connectionIsolationLevel!==void 0&&((0,Q.assertValidIsolationLevel)(D.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=D.options.connectionIsolationLevel),D.options.connectTimeout!==void 0){if(typeof D.options.connectTimeout!="number")throw new TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=D.options.connectTimeout}if(D.options.connector!==void 0){if(typeof D.options.connector!="function")throw new TypeError('The "config.options.connector" property must be a function.');this.config.options.connector=D.options.connector}if(D.options.cryptoCredentialsDetails!==void 0){if(typeof D.options.cryptoCredentialsDetails!="object"||D.options.cryptoCredentialsDetails===null)throw new TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=D.options.cryptoCredentialsDetails}if(D.options.database!==void 0){if(typeof D.options.database!="string")throw new TypeError('The "config.options.database" property must be of type string.');this.config.options.database=D.options.database}if(D.options.datefirst!==void 0){if(typeof D.options.datefirst!="number"&&D.options.datefirst!==null)throw new TypeError('The "config.options.datefirst" property must be of type number.');if(D.options.datefirst!==null&&(D.options.datefirst<1||D.options.datefirst>7))throw new RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=D.options.datefirst}if(D.options.dateFormat!==void 0){if(typeof D.options.dateFormat!="string"&&D.options.dateFormat!==null)throw new TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=D.options.dateFormat}if(D.options.debug){if(D.options.debug.data!==void 0){if(typeof D.options.debug.data!="boolean")throw new TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=D.options.debug.data}if(D.options.debug.packet!==void 0){if(typeof D.options.debug.packet!="boolean")throw new TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=D.options.debug.packet}if(D.options.debug.payload!==void 0){if(typeof D.options.debug.payload!="boolean")throw new TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=D.options.debug.payload}if(D.options.debug.token!==void 0){if(typeof D.options.debug.token!="boolean")throw new TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=D.options.debug.token}}if(D.options.enableAnsiNull!==void 0){if(typeof D.options.enableAnsiNull!="boolean"&&D.options.enableAnsiNull!==null)throw new TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=D.options.enableAnsiNull}if(D.options.enableAnsiNullDefault!==void 0){if(typeof D.options.enableAnsiNullDefault!="boolean"&&D.options.enableAnsiNullDefault!==null)throw new TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=D.options.enableAnsiNullDefault}if(D.options.enableAnsiPadding!==void 0){if(typeof D.options.enableAnsiPadding!="boolean"&&D.options.enableAnsiPadding!==null)throw new TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=D.options.enableAnsiPadding}if(D.options.enableAnsiWarnings!==void 0){if(typeof D.options.enableAnsiWarnings!="boolean"&&D.options.enableAnsiWarnings!==null)throw new TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=D.options.enableAnsiWarnings}if(D.options.enableArithAbort!==void 0){if(typeof D.options.enableArithAbort!="boolean"&&D.options.enableArithAbort!==null)throw new TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=D.options.enableArithAbort}if(D.options.enableConcatNullYieldsNull!==void 0){if(typeof D.options.enableConcatNullYieldsNull!="boolean"&&D.options.enableConcatNullYieldsNull!==null)throw new TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=D.options.enableConcatNullYieldsNull}if(D.options.enableCursorCloseOnCommit!==void 0){if(typeof D.options.enableCursorCloseOnCommit!="boolean"&&D.options.enableCursorCloseOnCommit!==null)throw new TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=D.options.enableCursorCloseOnCommit}if(D.options.enableImplicitTransactions!==void 0){if(typeof D.options.enableImplicitTransactions!="boolean"&&D.options.enableImplicitTransactions!==null)throw new TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=D.options.enableImplicitTransactions}if(D.options.enableNumericRoundabort!==void 0){if(typeof D.options.enableNumericRoundabort!="boolean"&&D.options.enableNumericRoundabort!==null)throw new TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=D.options.enableNumericRoundabort}if(D.options.enableQuotedIdentifier!==void 0){if(typeof D.options.enableQuotedIdentifier!="boolean"&&D.options.enableQuotedIdentifier!==null)throw new TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=D.options.enableQuotedIdentifier}if(D.options.encrypt!==void 0){if(typeof D.options.encrypt!="boolean"&&D.options.encrypt!=="strict")throw new TypeError('The "encrypt" property must be set to "strict", or of type boolean.');this.config.options.encrypt=D.options.encrypt}if(D.options.fallbackToDefaultDb!==void 0){if(typeof D.options.fallbackToDefaultDb!="boolean")throw new TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=D.options.fallbackToDefaultDb}if(D.options.instanceName!==void 0){if(typeof D.options.instanceName!="string")throw new TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=D.options.instanceName,this.config.options.port=void 0}if(D.options.isolationLevel!==void 0&&((0,Q.assertValidIsolationLevel)(D.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=D.options.isolationLevel),D.options.language!==void 0){if(typeof D.options.language!="string"&&D.options.language!==null)throw new TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=D.options.language}if(D.options.localAddress!==void 0){if(typeof D.options.localAddress!="string")throw new TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=D.options.localAddress}if(D.options.multiSubnetFailover!==void 0){if(typeof D.options.multiSubnetFailover!="boolean")throw new TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=D.options.multiSubnetFailover}if(D.options.packetSize!==void 0){if(typeof D.options.packetSize!="number")throw new TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=D.options.packetSize}if(D.options.port!==void 0){if(typeof D.options.port!="number")throw new TypeError('The "config.options.port" property must be of type number.');if(D.options.port<=0||D.options.port>=65536)throw new RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=D.options.port,this.config.options.instanceName=void 0}if(D.options.readOnlyIntent!==void 0){if(typeof D.options.readOnlyIntent!="boolean")throw new TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=D.options.readOnlyIntent}if(D.options.requestTimeout!==void 0){if(typeof D.options.requestTimeout!="number")throw new TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=D.options.requestTimeout}if(D.options.maxRetriesOnTransientErrors!==void 0){if(typeof D.options.maxRetriesOnTransientErrors!="number")throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(D.options.maxRetriesOnTransientErrors<0)throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=D.options.maxRetriesOnTransientErrors}if(D.options.connectionRetryInterval!==void 0){if(typeof D.options.connectionRetryInterval!="number")throw new TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(D.options.connectionRetryInterval<=0)throw new TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=D.options.connectionRetryInterval}if(D.options.rowCollectionOnDone!==void 0){if(typeof D.options.rowCollectionOnDone!="boolean")throw new TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=D.options.rowCollectionOnDone}if(D.options.rowCollectionOnRequestCompletion!==void 0){if(typeof D.options.rowCollectionOnRequestCompletion!="boolean")throw new TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=D.options.rowCollectionOnRequestCompletion}if(D.options.tdsVersion!==void 0){if(typeof D.options.tdsVersion!="string")throw new TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=D.options.tdsVersion}if(D.options.textsize!==void 0){if(typeof D.options.textsize!="number"&&D.options.textsize!==null)throw new TypeError('The "config.options.textsize" property must be of type number or null.');if(D.options.textsize>2147483647)throw new TypeError(`The "config.options.textsize" can't be greater than 2147483647.`);if(D.options.textsize<-1)throw new TypeError(`The "config.options.textsize" can't be smaller than -1.`);this.config.options.textsize=D.options.textsize|0}if(D.options.trustServerCertificate!==void 0){if(typeof D.options.trustServerCertificate!="boolean")throw new TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=D.options.trustServerCertificate}if(D.options.serverName!==void 0){if(typeof D.options.serverName!="string")throw new TypeError('The "config.options.serverName" property must be of type string.');this.config.options.serverName=D.options.serverName}if(D.options.useColumnNames!==void 0){if(typeof D.options.useColumnNames!="boolean")throw new TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=D.options.useColumnNames}if(D.options.useUTC!==void 0){if(typeof D.options.useUTC!="boolean")throw new TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=D.options.useUTC}if(D.options.workstationId!==void 0){if(typeof D.options.workstationId!="string")throw new TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=D.options.workstationId}if(D.options.lowerCaseGuids!==void 0){if(typeof D.options.lowerCaseGuids!="boolean")throw new TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=D.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,this.secureContextOptions.secureOptions===void 0&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:l.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new T.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(C.TYPE.ATTENTION),this.createCancelTimer()},this._onSocketClose=()=>{this.socketClose()},this._onSocketEnd=()=>{this.socketEnd()},this._onSocketError=ne=>{this.dispatchEvent("socketError",ne),process.nextTick(()=>{this.emit("error",this.wrapSocketError(ne))})}}connect(D){if(this.state!==this.STATE.INITIALIZED)throw new j.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(D){const ae=de=>{this.removeListener("error",ne),D(de)},ne=de=>{this.removeListener("connect",ae),D(de)};this.once("connect",ae),this.once("error",ne)}this.transitionTo(this.STATE.CONNECTING),this.initialiseConnection().then(()=>{process.nextTick(()=>{this.emit("connect")})},ae=>{this.transitionTo(this.STATE.FINAL),this.closed=!0,process.nextTick(()=>{this.emit("connect",ae)}),process.nextTick(()=>{this.emit("end")})})}on(D,ae){return super.on(D,ae)}emit(D,...ae){return super.emit(D,...ae)}close(){this.transitionTo(this.STATE.FINAL),this.cleanupConnection()}async initialiseConnection(){const D=new AbortController,ae=setTimeout(()=>{const ne=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,de=this.routingData?this.routingData.server:this.config.server,Ve=this.routingData?`:${this.routingData.port}`:ne,Ue=this.routingData?` (redirected from ${this.config.server}${ne})`:"",tt=`Failed to connect to ${de}${Ve}${Ue} in ${this.config.options.connectTimeout}ms`;this.debug.log(tt),D.abort(new j.ConnectionError(tt,"ETIMEOUT"))},this.config.options.connectTimeout);try{let ne=D.signal,de=this.config.options.port;if(!de)try{de=await(0,E.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:ne})}catch(Ue){throw ne.throwIfAborted(),new j.ConnectionError(Ue.message,"EINSTLOOKUP",{cause:Ue})}let Ve;try{Ve=await this.connectOnPort(de,this.config.options.multiSubnetFailover,ne,this.config.options.connector)}catch(Ue){throw ne.throwIfAborted(),this.wrapSocketError(Ue)}try{const Ue=new AbortController,tt=M=>{Ue.abort(this.wrapSocketError(M))},q=()=>{this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed")},R=()=>{this.debug.log("socket ended");const M=new Error("socket hang up");M.code="ECONNRESET",Ue.abort(this.wrapSocketError(M))};Ve.once("error",tt),Ve.once("close",q),Ve.once("end",R);try{ne=AbortSignal.any([ne,Ue.signal]),Ve.setKeepAlive(!0,ue),this.messageIo=new F.default(Ve,this.config.options.packetSize,this.debug),this.messageIo.on("secure",z=>{this.emit("secure",z)}),this.socket=Ve,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN);const M=await this.readPreloginResponse(ne);await this.performTlsNegotiation(M,ne),this.sendLogin7Packet();try{const{authentication:z}=this.config;switch(z.type){case"token-credential":case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH),this.routingData=await this.performSentLogin7WithFedAuth(ne);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM),this.routingData=await this.performSentLogin7WithNTLMLogin(ne);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN),this.routingData=await this.performSentLogin7WithStandardLogin(ne);break}}catch(z){if($e(z))return this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY),await this.performTransientFailureRetry();throw z}if(this.routingData)return this.transitionTo(this.STATE.REROUTING),await this.performReRouting();this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL),await this.performLoggedInSendingInitialSql(ne)}finally{Ve.removeListener("error",tt),Ve.removeListener("close",q),Ve.removeListener("end",R)}}catch(Ue){throw Ve.destroy(),Ue}Ve.on("error",this._onSocketError),Ve.on("close",this._onSocketClose),Ve.on("end",this._onSocketEnd),this.transitionTo(this.STATE.LOGGED_IN)}finally{clearTimeout(ae)}}cleanupConnection(){if(!this.closed){this.clearRequestTimer(),this.closeConnection(),process.nextTick(()=>{this.emit("end")});const D=this.request;if(D){const ae=new j.RequestError("Connection closed before request completed.","ECLOSE");D.callback(ae),this.request=void 0}this.closed=!0}}createDebug(){const D=new m.default(this.config.options.debug);return D.on("debug",ae=>{this.emit("debug",ae)}),D}createTokenStreamParser(D,ae){return new G.Parser(D,this.debug,ae,this.config.options)}async wrapWithTls(D,ae){ae.throwIfAborted();const ne=t.createSecureContext(this.secureContextOptions),de=o.isIP(this.config.server)?"":this.config.server,Ve={host:this.config.server,socket:D,ALPNProtocols:["tds/8.0"],secureContext:ne,servername:this.config.options.serverName?this.config.options.serverName:de},{promise:Ue,resolve:tt,reject:q}=ze(),R=t.connect(Ve);try{const M=()=>{q(ae.reason)};ae.addEventListener("abort",M,{once:!0});try{const z=q,pe=()=>{tt(R)};R.once("error",z),R.once("secureConnect",pe);try{return await Ue}finally{R.removeListener("error",z),R.removeListener("connect",pe)}}finally{ae.removeEventListener("abort",M)}}catch(M){throw R.destroy(),M}}async connectOnPort(D,ae,ne,de){const Ve={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:D,localAddress:this.config.options.localAddress};let tt=await(de||(ae?Z.connectInParallel:Z.connectInSequence))(Ve,a.default.lookup,ne);if(this.config.options.encrypt==="strict")try{tt=await this.wrapWithTls(tt,ne)}catch(q){throw tt.end(),q}return tt}closeConnection(){this.socket&&this.socket.destroy()}createCancelTimer(){this.clearCancelTimer();const D=this.config.options.cancelTimeout;D>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},D))}createRequestTimer(){this.clearRequestTimer();const D=this.request,ae=D.timeout!==void 0?D.timeout:this.config.options.requestTimeout;ae&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},ae))}cancelTimeout(){const D=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(D),this.dispatchEvent("socketError",new j.ConnectionError(D,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;const D=this.request;D.cancel();const ne="Timeout: Request failed to complete in "+(D.timeout!==void 0?D.timeout:this.config.options.requestTimeout)+"ms";D.error=new j.RequestError(ne,"ETIMEOUT")}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}transitionTo(D){if(this.state===D){this.debug.log("State is already "+D.name);return}this.state&&this.state.exit&&this.state.exit.call(this,D),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+D.name),this.state=D,this.state.enter&&this.state.enter.apply(this)}getEventHandler(D){const ae=this.state.events[D];if(!ae)throw new Error(`No event '${D}' in state '${this.state.name}'`);return ae}dispatchEvent(D,...ae){const ne=this.state.events[D];ne?ne.apply(this,ae):(this.emit("error",new Error(`No event '${D}' in state '${this.state.name}'`)),this.close())}wrapSocketError(D){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){const ae=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,ne=this.routingData?this.routingData.server:this.config.server,de=this.routingData?`:${this.routingData.port}`:ae,Ve=this.routingData?` (redirected from ${this.config.server}${ae})`:"",Ue=`Failed to connect to ${ne}${de}${Ve} - ${D.message}`;return new j.ConnectionError(Ue,"ESOCKET",{cause:D})}else{const ae=`Connection lost - ${D.message}`;return new j.ConnectionError(ae,"ESOCKET",{cause:D})}}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){const D=new Error("socket hang up");D.code="ECONNRESET",this.dispatchEvent("socketError",D),process.nextTick(()=>{this.emit("error",this.wrapSocketError(D))})}}socketClose(){this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.transitionTo(this.STATE.FINAL),this.cleanupConnection()}sendPreLogin(){const[,D,ae,ne]=/^(\d+)\.(\d+)\.(\d+)/.exec(Pe.version)??["0.0.0","0","0","0"],de=new S.default({encrypt:typeof this.config.options.encrypt=="boolean"&&this.config.options.encrypt,version:{major:Number(D),minor:Number(ae),build:Number(ne),subbuild:0}});this.messageIo.sendMessage(C.TYPE.PRELOGIN,de.data),this.debug.payload(function(){return de.toString("  ")})}sendLogin7Packet(){const D=new b.default({tdsVersion:J.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:ae}=this.config;switch(ae.type){case"azure-active-directory-password":D.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":D.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:ae.options.token};break;case"token-credential":case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":D.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":D.sspi=(0,Fe.createNTLMRequest)({domain:ae.options.domain});break;default:D.userName=ae.options.userName,D.password=ae.options.password}D.hostname=this.config.options.workstationId||r.default.hostname(),D.serverName=this.routingData?`${this.routingData.server}${this.routingData.instance?"\\"+this.routingData.instance:""}`:this.config.server,D.appName=this.config.options.appName||"Tedious",D.libraryName=ie.name,D.language=this.config.options.language,D.database=this.config.options.database,D.clientId=Buffer.from([1,2,3,4,5,6]),D.readOnlyIntent=this.config.options.readOnlyIntent,D.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(C.TYPE.LOGIN7,D.toBuffer()),this.debug.payload(function(){return D.toString("  ")})}sendFedAuthTokenMessage(D){const ae=Buffer.byteLength(D,"ucs2"),ne=Buffer.alloc(8+ae);let de=0;de=ne.writeUInt32LE(ae+4,de),de=ne.writeUInt32LE(ae,de),ne.write(D,de,"ucs2"),this.messageIo.sendMessage(C.TYPE.FEDAUTH_TOKEN,ne)}sendInitialSql(){const D=new L.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),ae=new Re.default({type:C.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(ae),c.Readable.from(D).pipe(ae)}getInitialSql(){const D=[];return this.config.options.enableAnsiNull===!0?D.push("set ansi_nulls on"):this.config.options.enableAnsiNull===!1&&D.push("set ansi_nulls off"),this.config.options.enableAnsiNullDefault===!0?D.push("set ansi_null_dflt_on on"):this.config.options.enableAnsiNullDefault===!1&&D.push("set ansi_null_dflt_on off"),this.config.options.enableAnsiPadding===!0?D.push("set ansi_padding on"):this.config.options.enableAnsiPadding===!1&&D.push("set ansi_padding off"),this.config.options.enableAnsiWarnings===!0?D.push("set ansi_warnings on"):this.config.options.enableAnsiWarnings===!1&&D.push("set ansi_warnings off"),this.config.options.enableArithAbort===!0?D.push("set arithabort on"):this.config.options.enableArithAbort===!1&&D.push("set arithabort off"),this.config.options.enableConcatNullYieldsNull===!0?D.push("set concat_null_yields_null on"):this.config.options.enableConcatNullYieldsNull===!1&&D.push("set concat_null_yields_null off"),this.config.options.enableCursorCloseOnCommit===!0?D.push("set cursor_close_on_commit on"):this.config.options.enableCursorCloseOnCommit===!1&&D.push("set cursor_close_on_commit off"),this.config.options.datefirst!==null&&D.push(`set datefirst ${this.config.options.datefirst}`),this.config.options.dateFormat!==null&&D.push(`set dateformat ${this.config.options.dateFormat}`),this.config.options.enableImplicitTransactions===!0?D.push("set implicit_transactions on"):this.config.options.enableImplicitTransactions===!1&&D.push("set implicit_transactions off"),this.config.options.language!==null&&D.push(`set language ${this.config.options.language}`),this.config.options.enableNumericRoundabort===!0?D.push("set numeric_roundabort on"):this.config.options.enableNumericRoundabort===!1&&D.push("set numeric_roundabort off"),this.config.options.enableQuotedIdentifier===!0?D.push("set quoted_identifier on"):this.config.options.enableQuotedIdentifier===!1&&D.push("set quoted_identifier off"),this.config.options.textsize!==null&&D.push(`set textsize ${this.config.options.textsize}`),this.config.options.connectionIsolationLevel!==null&&D.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),this.config.options.abortTransactionOnError===!0?D.push("set xact_abort on"):this.config.options.abortTransactionOnError===!1&&D.push("set xact_abort off"),D.join(`
`)}execSqlBatch(D){this.makeRequest(D,C.TYPE.SQL_BATCH,new L.default(D.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(D){try{D.validateParameters(this.databaseCollation)}catch(ne){D.error=ne,process.nextTick(()=>{this.debug.log(ne.message),D.callback(ne)});return}const ae=[];ae.push({type:ee.TYPES.NVarChar,name:"statement",value:D.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),D.parameters.length&&(ae.push({type:ee.TYPES.NVarChar,name:"params",value:D.makeParamsParameter(D.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),ae.push(...D.parameters)),this.makeRequest(D,C.TYPE.RPC_REQUEST,new x.default(ye.default.Sp_ExecuteSql,ae,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(D,ae,ne){let de;if(ne===void 0?(ne=ae,de={}):de=ae,typeof de!="object")throw new TypeError('"options" argument must be an object');return new p.default(D,this.databaseCollation,this.config.options,de,ne)}execBulkLoad(D,ae){if(D.executionStarted=!0,ae){if(D.streamingMode)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(D.firstRowWritten)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");const Ue=c.Readable.from(ae);Ue.on("error",tt=>{D.rowToPacketTransform.destroy(tt)}),D.rowToPacketTransform.on("error",tt=>{Ue.destroy(tt)}),Ue.pipe(D.rowToPacketTransform)}else D.streamingMode||D.rowToPacketTransform.end();const ne=()=>{Ve.cancel()},de=new Ee.BulkLoadPayload(D),Ve=new N.default(D.getBulkInsertSql(),Ue=>{if(D.removeListener("cancel",ne),Ue){Ue.code==="UNKNOWN"&&(Ue.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),D.error=Ue,D.callback(Ue);return}this.makeRequest(D,C.TYPE.BULK_LOAD,de)});D.once("cancel",ne),this.execSqlBatch(Ve)}prepare(D){const ae=[];ae.push({type:ee.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),ae.push({type:ee.TYPES.NVarChar,name:"params",value:D.parameters.length?D.makeParamsParameter(D.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),ae.push({type:ee.TYPES.NVarChar,name:"stmt",value:D.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),D.preparing=!0,D.on("returnValue",(ne,de)=>{ne==="handle"?D.handle=de:D.error=new j.RequestError(`Tedious > Unexpected output parameter ${ne} from sp_prepare`)}),this.makeRequest(D,C.TYPE.RPC_REQUEST,new x.default(ye.default.Sp_Prepare,ae,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(D){const ae=[];ae.push({type:ee.TYPES.Int,name:"handle",value:D.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(D,C.TYPE.RPC_REQUEST,new x.default(ye.default.Sp_Unprepare,ae,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(D,ae){const ne=[];ne.push({type:ee.TYPES.Int,name:"",value:D.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let de=0,Ve=D.parameters.length;de<Ve;de++){const Ue=D.parameters[de];ne.push({...Ue,value:Ue.type.validate(ae?ae[Ue.name]:null,this.databaseCollation)})}}catch(de){D.error=de,process.nextTick(()=>{this.debug.log(de.message),D.callback(de)});return}this.makeRequest(D,C.TYPE.RPC_REQUEST,new x.default(ye.default.Sp_Execute,ne,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(D){try{D.validateParameters(this.databaseCollation)}catch(ae){D.error=ae,process.nextTick(()=>{this.debug.log(ae.message),D.callback(ae)});return}this.makeRequest(D,C.TYPE.RPC_REQUEST,new x.default(D.sqlTextOrProcedure,D.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(D,ae="",ne=this.config.options.isolationLevel){(0,Q.assertValidIsolationLevel)(ne,"isolationLevel");const de=new Q.Transaction(ae,ne);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new N.default("SET TRANSACTION ISOLATION LEVEL "+de.isolationLevelToTSQL()+";BEGIN TRAN "+de.name,Ue=>{this.transactionDepth++,this.transactionDepth===1&&(this.inTransaction=!0),D(Ue)}));const Ve=new N.default(void 0,Ue=>D(Ue,this.currentTransactionDescriptor()));return this.makeRequest(Ve,C.TYPE.TRANSACTION_MANAGER,de.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(D,ae=""){const ne=new Q.Transaction(ae);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new N.default("COMMIT TRAN "+ne.name,Ve=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),D(Ve)}));const de=new N.default(void 0,D);return this.makeRequest(de,C.TYPE.TRANSACTION_MANAGER,ne.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(D,ae=""){const ne=new Q.Transaction(ae);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new N.default("ROLLBACK TRAN "+ne.name,Ve=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),D(Ve)}));const de=new N.default(void 0,D);return this.makeRequest(de,C.TYPE.TRANSACTION_MANAGER,ne.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(D,ae){const ne=new Q.Transaction(ae);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new N.default("SAVE TRAN "+ne.name,Ve=>{this.transactionDepth++,D(Ve)}));const de=new N.default(void 0,D);return this.makeRequest(de,C.TYPE.TRANSACTION_MANAGER,ne.savePayload(this.currentTransactionDescriptor()))}transaction(D,ae){if(typeof D!="function")throw new TypeError("`cb` must be a function");const ne=this.inTransaction,de="_tedious_"+n.default.randomBytes(10).toString("hex"),Ve=(Ue,tt,...q)=>{Ue?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(R=>{tt(R||Ue,...q)},de):tt(Ue,...q):ne?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,tt(null,...q)):this.commitTransaction(R=>{tt(R,...q)},de)};return ne?this.saveTransaction(Ue=>Ue?D(Ue):ae?this.execSqlBatch(new N.default("SET transaction isolation level "+this.getIsolationLevelText(ae),tt=>D(tt,Ve))):D(null,Ve),de):this.beginTransaction(Ue=>Ue?D(Ue):D(null,Ve),de,ae)}makeRequest(D,ae,ne){if(this.state!==this.STATE.LOGGED_IN){const de="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(de),D.callback(new j.RequestError(de,"EINVALIDSTATE"))}else if(D.canceled)process.nextTick(()=>{D.callback(new j.RequestError("Canceled.","ECANCEL"))});else{ae===C.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=D,D.connection=this,D.rowCount=0,D.rows=[],D.rst=[];const de=()=>{Ue.unpipe(Ve),Ue.destroy(new j.RequestError("Canceled.","ECANCEL")),Ve.ignore=!0,Ve.end(),D instanceof N.default&&D.paused&&D.resume()};D.once("cancel",de),this.createRequestTimer();const Ve=new Re.default({type:ae,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(Ve),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),Ve.once("finish",()=>{D.removeListener("cancel",de),D.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return ne.toString("  ")})});const Ue=c.Readable.from(ne);Ue.once("error",tt=>{Ue.unpipe(Ve),D.error??(D.error=tt),Ve.ignore=!0,Ve.end()}),Ue.pipe(Ve)}}cancel(){return!this.request||this.request.canceled?!1:(this.request.cancel(),!0)}reset(D){const ae=new N.default(this.getInitialSql(),ne=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),D(ne)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(ae)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(D){switch(D){case Q.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case Q.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case Q.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case Q.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}async performTlsNegotiation(D,ae){var Ue;ae.throwIfAborted();const{promise:ne,reject:de}=ze(),Ve=()=>{de(ae.reason)};ae.addEventListener("abort",Ve,{once:!0});try{if(D.fedAuthRequired===1&&(this.fedAuthRequired=!0),this.config.options.encrypt!=="strict"&&(D.encryptionString==="ON"||D.encryptionString==="REQ")){if(!this.config.options.encrypt)throw new j.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT");this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await Promise.race([this.messageIo.startTls(this.secureContextOptions,this.config.options.serverName?this.config.options.serverName:((Ue=this.routingData)==null?void 0:Ue.server)??this.config.server,this.config.options.trustServerCertificate).catch(tt=>{throw this.wrapSocketError(tt)}),ne])}}finally{ae.removeEventListener("abort",Ve)}}async readPreloginResponse(D){D.throwIfAborted();let ae=Buffer.alloc(0);const{promise:ne,reject:de}=ze(),Ve=()=>{de(D.reason)};D.addEventListener("abort",Ve,{once:!0});try{const q=(await Promise.race([this.messageIo.readMessage().catch(R=>{throw this.wrapSocketError(R)}),ne]))[Symbol.asyncIterator]();try{for(;;){const{done:R,value:M}=await Promise.race([q.next(),ne]);if(R)break;ae=Buffer.concat([ae,M])}}finally{q.return&&await q.return()}}finally{D.removeEventListener("abort",Ve)}const Ue=new S.default(ae);return this.debug.payload(function(){return Ue.toString("  ")}),Ue}async performReRouting(){this.socket.removeListener("error",this._onSocketError),this.socket.removeListener("close",this._onSocketClose),this.socket.removeListener("end",this._onSocketEnd),this.socket.destroy(),this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.emit("rerouting"),this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.transitionTo(this.STATE.CONNECTING),await this.initialiseConnection()}async performTransientFailureRetry(){this.curTransientRetryCount++,this.socket.removeListener("error",this._onSocketError),this.socket.removeListener("close",this._onSocketClose),this.socket.removeListener("end",this._onSocketEnd),this.socket.destroy(),this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed");const D=this.routingData?this.routingData.server:this.config.server,ae=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+D+":"+ae);const{promise:ne,resolve:de}=ze();setTimeout(de,this.config.options.connectionRetryInterval),await ne,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING),await this.initialiseConnection()}async performSentLogin7WithStandardLogin(D){D.throwIfAborted();const{promise:ae,reject:ne}=ze(),de=()=>{ne(D.reason)};D.addEventListener("abort",de,{once:!0});try{const Ve=await Promise.race([this.messageIo.readMessage().catch(q=>{throw this.wrapSocketError(q)}),ae]),Ue=new V.Login7TokenHandler(this),tt=this.createTokenStreamParser(Ve,Ue);if(await(0,y.once)(tt,"end"),Ue.loginAckReceived)return Ue.routingData;throw this.loginError?this.loginError:new j.ConnectionError("Login failed.","ELOGIN")}finally{this.loginError=void 0,D.removeEventListener("abort",de)}}async performSentLogin7WithNTLMLogin(D){D.throwIfAborted();const{promise:ae,reject:ne}=ze(),de=()=>{ne(D.reason)};D.addEventListener("abort",de,{once:!0});try{for(;;){const Ve=await Promise.race([this.messageIo.readMessage().catch(q=>{throw this.wrapSocketError(q)}),ae]),Ue=new V.Login7TokenHandler(this),tt=this.createTokenStreamParser(Ve,Ue);if(await Promise.race([(0,y.once)(tt,"end"),ae]),Ue.loginAckReceived)return Ue.routingData;if(this.ntlmpacket){const q=this.config.authentication,R=new I.default({domain:q.options.domain,userName:q.options.userName,password:q.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(C.TYPE.NTLMAUTH_PKT,R.data),this.debug.payload(function(){return R.toString("  ")}),this.ntlmpacket=void 0}else throw this.loginError?this.loginError:new j.ConnectionError("Login failed.","ELOGIN")}}finally{this.loginError=void 0,D.removeEventListener("abort",de)}}async performSentLogin7WithFedAuth(D){D.throwIfAborted();const{promise:ae,reject:ne}=ze(),de=()=>{ne(D.reason)};D.addEventListener("abort",de,{once:!0});try{const Ve=await Promise.race([this.messageIo.readMessage().catch(R=>{throw this.wrapSocketError(R)}),ae]),Ue=new V.Login7TokenHandler(this),tt=this.createTokenStreamParser(Ve,Ue);if(await Promise.race([(0,y.once)(tt,"end"),ae]),Ue.loginAckReceived)return Ue.routingData;const q=Ue.fedAuthInfoToken;if(q&&q.stsurl&&q.spn){const R=this.config.authentication,M=new $.URL("/.default",q.spn).toString();let z;switch(R.type){case"token-credential":z=R.options.credential;break;case"azure-active-directory-password":z=new d.UsernamePasswordCredential(R.options.tenantId??"common",R.options.clientId,R.options.userName,R.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":const we=R.options.clientId?[R.options.clientId,{}]:[{}];z=new d.ManagedIdentityCredential(...we);break;case"azure-active-directory-default":const ke=R.options.clientId?{managedIdentityClientId:R.options.clientId}:{};z=new d.DefaultAzureCredential(ke);break;case"azure-active-directory-service-principal-secret":z=new d.ClientSecretCredential(R.options.tenantId,R.options.clientId,R.options.clientSecret);break}let pe;try{pe=await Promise.race([z.getToken(M),ae])}catch(we){throw D.throwIfAborted(),new AggregateError([new j.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),we])}if(pe===null)throw new AggregateError([new j.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH")]);return this.sendFedAuthTokenMessage(pe.token),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN),await this.performSentLogin7WithStandardLogin(D)}else throw this.loginError?this.loginError:new j.ConnectionError("Login failed.","ELOGIN")}finally{this.loginError=void 0,D.removeEventListener("abort",de)}}async performLoggedInSendingInitialSql(D){D.throwIfAborted();const{promise:ae,reject:ne}=ze(),de=()=>{ne(D.reason)};D.addEventListener("abort",de,{once:!0});try{this.sendInitialSql();const Ve=await Promise.race([this.messageIo.readMessage().catch(tt=>{throw this.wrapSocketError(tt)}),ae]),Ue=this.createTokenStreamParser(Ve,new V.InitialSqlTokenHandler(this));await Promise.race([(0,y.once)(Ue,"end"),ae])}finally{D.removeEventListener("abort",de)}}}function $e(se){return se instanceof AggregateError&&(se=se.errors[0]),se instanceof j.ConnectionError&&!!se.isTransient}e.default=Ke,i.exports=Ke,Ke.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",events:{}},SENT_PRELOGIN:{name:"SentPrelogin",events:{}},REROUTING:{name:"ReRouting",events:{}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",events:{}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",events:{}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",events:{}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7WithFedauth",events:{}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",events:{}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL),this.cleanupConnection()}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async()=>{var Ue,tt,q;let se;try{se=await this.messageIo.readMessage()}catch(R){this.dispatchEvent("socketError",R),process.nextTick(()=>{this.emit("error",this.wrapSocketError(R))});return}this.clearRequestTimer();const D=this.createTokenStreamParser(se,new V.RequestTokenHandler(this,this.request));if((Ue=this.request)!=null&&Ue.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);const ae=()=>{D.resume()},ne=()=>{var R;D.pause(),(R=this.request)==null||R.once("resume",ae)};(tt=this.request)==null||tt.on("pause",ne),this.request instanceof N.default&&this.request.paused&&ne();const de=()=>{var R,M;D.removeListener("end",Ve),this.request instanceof N.default&&this.request.paused&&this.request.resume(),(R=this.request)==null||R.removeListener("pause",ne),(M=this.request)==null||M.removeListener("resume",ae),this.transitionTo(this.STATE.SENT_ATTENTION)},Ve=()=>{var M,z,pe,we;(M=this.request)==null||M.removeListener("cancel",this._cancelAfterRequestSent),(z=this.request)==null||z.removeListener("cancel",de),(pe=this.request)==null||pe.removeListener("pause",ne),(we=this.request)==null||we.removeListener("resume",ae),this.transitionTo(this.STATE.LOGGED_IN);const R=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&R.error&&this.isSqlBatch&&(this.inTransaction=!1),R.callback(R.error,R.rowCount,R.rows)};D.once("end",Ve),(q=this.request)==null||q.once("cancel",de)})()},exit:function(se){this.clearRequestTimer()},events:{socketError:function(se){const D=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),this.cleanupConnection(),D.callback(se)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let se;try{se=await this.messageIo.readMessage()}catch(ne){this.dispatchEvent("socketError",ne),process.nextTick(()=>{this.emit("error",this.wrapSocketError(ne))});return}const D=new V.AttentionTokenHandler(this,this.request),ae=this.createTokenStreamParser(se,D);if(await(0,y.once)(ae,"end"),D.attentionReceived){this.clearCancelTimer();const ne=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),ne.error&&ne.error instanceof j.RequestError&&ne.error.code==="ETIMEOUT"?ne.callback(ne.error):ne.callback(new j.RequestError("Canceled.","ECANCEL"))}})().catch(se=>{process.nextTick(()=>{throw se})})},events:{socketError:function(se){const D=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),this.cleanupConnection(),D.callback(se)}}},FINAL:{name:"Final",events:{}}}})(Sf,Sf.exports)),Sf.exports}var vO;function DL(){return vO||(vO=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BulkLoad",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(i,"Connection",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(i,"ConnectionError",{enumerable:!0,get:function(){return o.ConnectionError}}),Object.defineProperty(i,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return l.ISOLATION_LEVEL}}),Object.defineProperty(i,"Request",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(i,"RequestError",{enumerable:!0,get:function(){return o.RequestError}}),Object.defineProperty(i,"TDS_VERSION",{enumerable:!0,get:function(){return c.versions}}),Object.defineProperty(i,"TYPES",{enumerable:!0,get:function(){return a.TYPES}}),i.connect=f,i.library=void 0;var e=d(tM()),n=d(FQ()),r=d(bT()),t=OL(),o=la(),a=jm(),l=xL(),c=Gm();function d(p){return p&&p.__esModule?p:{default:p}}i.library={name:t.name};function f(p,m){const y=new n.default(p);return y.connect(m),y}})(P0)),P0}var H_,EO;function BQ(){if(EO)return H_;EO=1;const i=DL(),e=sa()("mssql:tedi"),n=QD(),{IDS:r}=ko(),t=ws(),o=oE();class a extends n{_config(){const c={server:this.config.server,options:Object.assign({encrypt:typeof this.config.encrypt=="boolean"?this.config.encrypt:!0,trustServerCertificate:typeof this.config.trustServerCertificate=="boolean"?this.config.trustServerCertificate:!1},this.config.options),authentication:Object.assign({type:this.config.domain!==void 0?"ntlm":this.config.authentication_type!==void 0?this.config.authentication_type:"default",options:Object.entries({userName:this.config.user,password:this.config.password,domain:this.config.domain,clientId:this.config.clientId,clientSecret:this.config.clientSecret,tenantId:this.config.tenantId,token:this.config.token,msiEndpoint:this.config.msiEndpoint,msiSecret:this.config.msiSecret}).reduce((d,[f,p])=>typeof p<"u"?{...d,[f]:p}:d,{})},this.config.authentication)};return c.options.database=c.options.database||this.config.database,c.options.port=c.options.port||this.config.port,c.options.connectTimeout=c.options.connectTimeout??this.config.connectionTimeout??this.config.timeout??15e3,c.options.requestTimeout=c.options.requestTimeout??this.config.requestTimeout??this.config.timeout??15e3,c.options.tdsVersion=c.options.tdsVersion||"7_4",c.options.rowCollectionOnDone=c.options.rowCollectionOnDone||!1,c.options.rowCollectionOnRequestCompletion=c.options.rowCollectionOnRequestCompletion||!1,c.options.useColumnNames=c.options.useColumnNames||!1,c.options.appName=c.options.appName||"node-mssql",c.options.instanceName&&delete c.options.port,isNaN(c.options.requestTimeout)&&(c.options.requestTimeout=15e3),(c.options.requestTimeout===1/0||c.options.requestTimeout<0)&&(c.options.requestTimeout=0),!c.options.debug&&this.config.debug&&(c.options.debug={packet:!0,token:!0,data:!0,payload:!0}),c}_poolCreate(){return new t.Promise((c,d)=>{const f=y=>{c(y),c=d=()=>{}},p=y=>{d(y),c=d=()=>{}};let m;try{m=new i.Connection(this._config())}catch(y){p(y);return}m.connect(y=>{if(y)return y=new o(y),p(y);e("connection(%d): established",r.get(m)),this.collation=m.databaseCollation,f(m)}),r.add(m,"Connection"),e("pool(%d): connection #%d created",r.get(this),r.get(m)),e("connection(%d): establishing",r.get(m)),m.on("end",()=>{const y=new o("The connection ended without ever completing the connection");p(y)}),m.on("error",y=>{y.code==="ESOCKET"?m.hasError=!0:this.emit("error",y),p(y)}),this.config.debug&&m.on("debug",this.emit.bind(this,"debug",m)),typeof this.config.beforeConnect=="function"&&this.config.beforeConnect(m)})}_poolValidate(c){return c&&!c.closed&&!c.hasError?!this.config.validateConnection||new t.Promise(d=>{const f=new i.Request("SELECT 1;",p=>{d(!p)});c.execSql(f)}):!1}_poolDestroy(c){return new t.Promise((d,f)=>{if(!c){d();return}e("connection(%d): destroying",r.get(c)),c.closed?(e("connection(%d): already closed",r.get(c)),d()):(c.once("end",()=>{e("connection(%d): destroyed",r.get(c)),d()}),c.close())})}}return H_=a,H_}var q_,TO;function HQ(){if(TO)return q_;TO=1;const i=sa()("mssql:tedi"),e=eM(),{IDS:n}=ko(),r=JD();class t extends e{constructor(a){super(a),this._abort=()=>{if(!this._rollbackRequested){const l=this._acquiredConnection;setImmediate(this.parent.release.bind(this.parent),l),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this._acquiredConnection=null,this._acquiredConfig=null,this._aborted=!0,this.emit("rollback",!0)}}}_begin(a,l){super._begin(a,c=>{if(c)return l(c);i("transaction(%d): begin",n.get(this)),this.parent.acquire(this,(d,f,p)=>{if(d)return l(d);this._acquiredConnection=f,this._acquiredConnection.on("rollbackTransaction",this._abort),this._acquiredConfig=p,f.beginTransaction(m=>{m&&(m=new r(m)),i("transaction(%d): begun",n.get(this)),l(m)},this.name,this.isolationLevel)})})}_commit(a){super._commit(l=>{if(l)return a(l);i("transaction(%d): commit",n.get(this)),this._acquiredConnection.commitTransaction(c=>{c&&(c=new r(c)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,c||i("transaction(%d): commited",n.get(this)),a(c)})})}_rollback(a){super._rollback(l=>{if(l)return a(l);i("transaction(%d): rollback",n.get(this)),this._acquiredConnection.rollbackTransaction(c=>{c&&(c=new r(c)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,c||i("transaction(%d): rolled back",n.get(this)),a(c)})})}}return q_=t,q_}var V_={},wO;function qQ(){if(wO)return V_;wO=1;class i{constructor(){this.x=0,this.y=0,this.z=null,this.m=null}}const e=(c,d,f)=>{const p=[];if(d<1)return p;if(f)for(let m=1;m<=d;m++){const y=new i;p.push(y),y.x=c.readDoubleLE(c.position),y.y=c.readDoubleLE(c.position+8),c.position+=16}else for(let m=1;m<=d;m++){const y=new i;p.push(y),y.lat=c.readDoubleLE(c.position),y.lng=c.readDoubleLE(c.position+8),y.x=y.lat,y.y=y.lng,c.position+=16}return p},n=(c,d)=>{d<1||d.forEach(f=>{f.z=c.readDoubleLE(c.position),c.position+=8})},r=(c,d)=>{d<1||d.forEach(f=>{f.m=c.readDoubleLE(c.position),c.position+=8})},t=(c,d,f)=>{const p=[];if(d<1)return p;if(f.P)p.push({attribute:1,pointOffset:0});else if(f.L)p.push({attribute:1,pointOffset:0});else for(let m=1;m<=d;m++)p.push({attribute:c.readUInt8(c.position),pointOffset:c.readInt32LE(c.position+1)}),c.position+=5;return p},o=(c,d,f)=>{const p=[];if(d<1)return p;if(f.P)p.push({parentOffset:-1,figureOffset:0,type:1});else if(f.L)p.push({parentOffset:-1,figureOffset:0,type:2});else for(let m=1;m<=d;m++)p.push({parentOffset:c.readInt32LE(c.position),figureOffset:c.readInt32LE(c.position+4),type:c.readUInt8(c.position+8)}),c.position+=9;return p},a=(c,d)=>{const f=[];if(d<1)return f;for(let p=1;p<=d;p++)f.push({type:c.readUInt8(c.position)}),c.position++;return f},l=(c,d)=>{const f=c.readInt32LE(0);if(f===-1)return null;const p={srid:f,version:c.readUInt8(4)},m=c.readUInt8(5);c.position=6;const y={Z:(m&1)>0,M:(m&2)>0,P:(m&8)>0,L:(m&16)>0};p.version===2&&(y.H=(m&8)>0);let E;y.P?E=1:y.L?E=2:(E=c.readUInt32LE(c.position),c.position+=4),p.points=e(c,E,d),y.Z&&n(c,p.points),y.M&&r(c,p.points);let T;y.P||y.L?T=1:(T=c.readUInt32LE(c.position),c.position+=4),p.figures=t(c,T,y);let C;if(y.P||y.L?C=1:(C=c.readUInt32LE(c.position),c.position+=4),p.shapes=o(c,C,y),p.version===2&&c.position<c.length){const S=c.readUInt32LE(c.position);c.position+=4,p.segments=a(c,S)}else p.segments=[];return p};return V_.PARSERS={geography(c){return l(c,!1)},geometry(c){return l(c,!0)}},V_}var Y_,SO;function VQ(){if(SO)return Y_;SO=1;const i=DL(),e=sa()("mssql:tedi"),n=XD(),r=jD(),{IDS:t,objectHasProperty:o}=ko(),{TYPES:a,DECLARATIONS:l,declare:c,cast:d}=Xs(),f=sE(),{PARSERS:p}=qQ(),{valueHandler:m}=ws(),y="JSON_F52E2B61-18A1-11d1-B105-00805F49916B",E="XML_F52E2B61-18A1-11d1-B105-00805F49916B",T={BitN:104,DateTimeN:111,DecimalN:106,FloatN:109,IntN:38,MoneyN:110,NumericN:108},C=function(L){switch(L){case a.VarChar:return i.TYPES.VarChar;case a.NVarChar:return i.TYPES.NVarChar;case a.Text:return i.TYPES.Text;case a.Int:return i.TYPES.Int;case a.BigInt:return i.TYPES.BigInt;case a.TinyInt:return i.TYPES.TinyInt;case a.SmallInt:return i.TYPES.SmallInt;case a.Bit:return i.TYPES.Bit;case a.Float:return i.TYPES.Float;case a.Decimal:return i.TYPES.Decimal;case a.Numeric:return i.TYPES.Numeric;case a.Real:return i.TYPES.Real;case a.Money:return i.TYPES.Money;case a.SmallMoney:return i.TYPES.SmallMoney;case a.Time:return i.TYPES.Time;case a.Date:return i.TYPES.Date;case a.DateTime:return i.TYPES.DateTime;case a.DateTime2:return i.TYPES.DateTime2;case a.DateTimeOffset:return i.TYPES.DateTimeOffset;case a.SmallDateTime:return i.TYPES.SmallDateTime;case a.UniqueIdentifier:return i.TYPES.UniqueIdentifier;case a.Xml:return i.TYPES.NVarChar;case a.Char:return i.TYPES.Char;case a.NChar:return i.TYPES.NChar;case a.NText:return i.TYPES.NVarChar;case a.Image:return i.TYPES.Image;case a.Binary:return i.TYPES.Binary;case a.VarBinary:return i.TYPES.VarBinary;case a.UDT:case a.Geography:case a.Geometry:return i.TYPES.UDT;case a.TVP:return i.TYPES.TVP;case a.Variant:return i.TYPES.Variant;default:return L}},S=function(L,F){if(typeof L=="object")switch(L){case i.TYPES.Char:return a.Char;case i.TYPES.NChar:return a.NChar;case i.TYPES.VarChar:return a.VarChar;case i.TYPES.NVarChar:return a.NVarChar;case i.TYPES.Text:return a.Text;case i.TYPES.NText:return a.NText;case i.TYPES.Int:return a.Int;case i.TYPES.BigInt:return a.BigInt;case i.TYPES.TinyInt:return a.TinyInt;case i.TYPES.SmallInt:return a.SmallInt;case i.TYPES.Bit:return a.Bit;case i.TYPES.Float:return a.Float;case i.TYPES.Real:return a.Real;case i.TYPES.Money:return a.Money;case i.TYPES.SmallMoney:return a.SmallMoney;case i.TYPES.Numeric:return a.Numeric;case i.TYPES.Decimal:return a.Decimal;case i.TYPES.DateTime:return a.DateTime;case i.TYPES.Time:return a.Time;case i.TYPES.Date:return a.Date;case i.TYPES.DateTime2:return a.DateTime2;case i.TYPES.DateTimeOffset:return a.DateTimeOffset;case i.TYPES.SmallDateTime:return a.SmallDateTime;case i.TYPES.UniqueIdentifier:return a.UniqueIdentifier;case i.TYPES.Image:return a.Image;case i.TYPES.Binary:return a.Binary;case i.TYPES.VarBinary:return a.VarBinary;case i.TYPES.Xml:return a.Xml;case i.TYPES.UDT:return a.UDT;case i.TYPES.TVP:return a.TVP;case i.TYPES.Variant:return a.Variant;default:switch(L.id){case T.BitN:return a.Bit;case T.NumericN:return a.Numeric;case T.DecimalN:return a.Decimal;case T.IntN:return F===8?a.BigInt:F===4?a.Int:F===2?a.SmallInt:a.TinyInt;case T.FloatN:return F===8?a.Float:a.Real;case T.MoneyN:return F===8?a.Money:a.SmallMoney;case T.DateTimeN:return F===8?a.DateTime:a.SmallDateTime}}},b=function(L,F){let G={};F&&(G=[]);for(let Q=0,j=L.length;Q<j;Q++){const Z=L[Q],ie={index:Q,name:Z.colName,length:Z.dataLength,type:S(Z.type,Z.dataLength),scale:Z.scale,precision:Z.precision,nullable:!!(Z.flags&1),caseSensitive:!!(Z.flags&2),identity:!!(Z.flags&16),readOnly:!(Z.flags&12)};Z.udtInfo&&(ie.udt={name:Z.udtInfo.typeName,database:Z.udtInfo.dbname,schema:Z.udtInfo.owningSchema,assembly:Z.udtInfo.assemblyName},l[Z.udtInfo.typeName]&&(ie.type=l[Z.udtInfo.typeName])),F?G.push(ie):G[Z.colName]=ie}return G},I=function(L,F){const G=S(F.type);return m.has(G)?m.get(G)(L):F.type===i.TYPES.UDT&&L!=null&&p[F.udtInfo.typeName]?p[F.udtInfo.typeName](L):L},N=function(L){if(L instanceof f){const F={name:L.name,schema:L.schema,columns:[],rows:L.rows};for(const G of L.columns)F.columns.push({name:G.name,type:C(G.type),length:G.length,scale:G.scale,precision:G.precision});return F}else return L};class x extends n{_batch(F,G){this._isBatch=!0,this._query(F,G)}_bulk(F,G,Q){super._bulk(F,G,j=>{if(j)return Q(j);try{F._makeBulk()}catch(ee){return Q(new r(ee,"EREQUEST"))}if(!F.name)return Q(new r("Table name must be specified for bulk insert.","ENAME"));if(F.name.charAt(0)==="@")return Q(new r("You can't use table variables for bulk insert.","ENAME"));const Z=[],ie={};let J=!1;const Re=(ee,Ee,ye)=>{let Pe=new Error(ye.message);if(Pe.info=ye,Pe=new r(Pe,"EREQUEST"),this.stream)this.emit("error",Pe);else if(ee&&!J){if(Ee){for(const $ in ie)Ee.removeListener($,ie[$]);this.parent.release(Ee)}J=!0,Q(Pe)}Z.push(Pe)},Fe=ee=>{this.emit("info",{message:ee.message,number:ee.number,state:ee.state,class:ee.class,lineNumber:ee.lineNumber,serverName:ee.serverName,procName:ee.procName})};this.parent.acquire(this,(ee,Ee)=>{const ye=(V,...H)=>{try{this.parent.release(Ee)}catch{}Q(V,...H)};if(ee)return ye(ee);if(e("connection(%d): borrowed to request #%d",t.get(Ee),t.get(this)),this.canceled)return e("request(%d): canceled",t.get(this)),ye(new r("Canceled.","ECANCEL"));this._cancel=()=>{e("request(%d): cancel",t.get(this)),Ee.cancel()},Ee.on("infoMessage",ie.infoMessage=Fe),Ee.on("errorMessage",ie.errorMessage=Re.bind(null,!1,Ee)),Ee.on("error",ie.error=Re.bind(null,!0,Ee));const Pe=(V,H)=>{V&&(!Z.length||Z.length&&V.message!==Z[Z.length-1].message)&&(V=new r(V,"EREQUEST"),this.stream&&this.emit("error",V),Z.push(V)),delete this._cancel;let P;if(Z.length&&!this.stream&&(P=Z.pop(),P.precedingErrors=Z),!J){for(const ue in ie)Ee.removeListener(ue,ie[ue]);J=!0,this.stream?ye(null,H):ye(P,H)}},$=Ee.newBulkLoad(F.path,G,Pe);for(const V of F.columns)$.addColumn(V.name,C(V.type),{nullable:V.nullable,length:V.length,scale:V.scale,precision:V.precision});if(F.create){const V=F.temporary?`tempdb..[${F.name}]`:F.path,H=new i.Request(`if object_id('${V.replace(/'/g,"''")}') is null ${F.declare()}`,P=>{if(P)return Pe(P);Ee.execBulkLoad($,F.rows)});this._setCurrentRequest(H),Ee.execSqlBatch(H)}else Ee.execBulkLoad($,F.rows)})})}_query(F,G){super._query(F,Q=>{if(Q)return G(Q);const j=[],Z=[],ie=[],J={},Re={},Fe=[];let ee={},Ee=[],ye=null,Pe=!1,$=!1,V=null,H=!1;const P=(_e,Oe,ce)=>{let le=new Error(ce.message);if(le.info=ce,le=new r(le,"EREQUEST"),this.stream)this.emit("error",le);else if(_e&&!H){if(Oe){for(const he in J)Oe.removeListener(he,J[he]);this.parent.release(Oe)}H=!0,G(le)}ie.push(le)},ue=_e=>{this.emit("info",{message:_e.message,number:_e.number,state:_e.state,class:_e.class,lineNumber:_e.lineNumber,serverName:_e.serverName,procName:_e.procName})};this.parent.acquire(this,(_e,Oe,ce)=>{if(_e)return G(_e);e("connection(%d): borrowed to request #%d",t.get(Oe),t.get(this));let le;if(this.canceled)return e("request(%d): canceled",t.get(this)),this.parent.release(Oe),G(new r("Canceled.","ECANCEL"));this._cancel=()=>{e("request(%d): cancel",t.get(this)),Oe.cancel()},Oe.on("infoMessage",J.infoMessage=ue),Oe.on("errorMessage",J.errorMessage=P.bind(null,!1,Oe)),Oe.on("error",J.error=P.bind(null,!0,Oe)),e("request(%d): query",t.get(this),F);const he=new i.Request(F,Ye=>{if((Ye!=null&&Ye.errors?Ye.errors:[Ye]).forEach((re,fe,{length:Ae})=>{re&&(!ie.length||ie.length&&ie.length>=Ae&&re.message!==ie[ie.length-Ae+fe].message)&&(re=new r(re,"EREQUEST"),this.stream&&this.emit("error",re),ie.push(re))}),Pe){this.stream||(ye=j.pop()[0]);for(const re in ye){const fe=ye[re];re!=="___return___"&&(Re[re]=fe)}}delete this._cancel;let Ge;if(ie.length&&!this.stream&&(Ge=ie.pop(),Ge.precedingErrors=ie),!H){for(const re in J)Oe.removeListener(re,J[re]);this.parent.release(Oe),H=!0,Ge?e("request(%d): failed",t.get(this),Ge):e("request(%d): completed",t.get(this)),this.stream?G(null,null,Re,Fe,Z):G(Ge,j,Re,Fe,Z)}});this._setCurrentRequest(he),he.on("columnMetadata",Ye=>{ee=b(Ye,this.arrayRowMode),$=!1,Ye.length===1&&(Ye[0].colName===y||Ye[0].colName===E)&&($=!0,V=[]),this.stream&&(this._isBatch?ee.___return___||this.emit("recordset",ee):this.emit("recordset",ee)),this.arrayRowMode&&Z.push(ee)});const xe=(Ye,Ge)=>{if(Ye!=null&&(Fe.push(Ye),this.stream&&this.emit("rowsaffected",Ye)),Object.keys(ee).length!==0){if($){const re=V.join("");if(ee[y]&&ce.parseJSON===!0)try{re===""?le=null:le=JSON.parse(re)}catch(fe){le=null;const Ae=new r(new Error(`Failed to parse incoming JSON. ${fe.message}`),"EJSON");this.stream&&this.emit("error",Ae),ie.push(Ae)}else le={},le[Object.keys(ee)[0]]=re;V=null,this.stream?this.emit("row",le):Ee.push(le)}this.stream||(Object.defineProperty(Ee,"columns",{enumerable:!1,configurable:!0,value:ee}),Object.defineProperty(Ee,"toTable",{enumerable:!1,configurable:!0,value(re){return f.fromRecordset(this,re)}}),j.push(Ee)),Ee=[],ee={}}};if(he.on("doneInProc",xe),he.on("done",xe),he.on("returnValue",(Ye,Ge,re)=>{Re[Ye]=Ge}),he.on("row",Ye=>{if(Ee||(Ee=[]),$)return V.push(Ye[0].value);this.arrayRowMode?le=[]:le={};for(const Ge of Ye)if(Ge.value=I(Ge.value,Ge.metadata),this.arrayRowMode)le.push(Ge.value);else{const re=le[Ge.metadata.colName];re!==void 0?re instanceof Array?re.push(Ge.value):le[Ge.metadata.colName]=[re,Ge.value]:le[Ge.metadata.colName]=Ge.value}this.stream?this._isBatch?le.___return___?ye=le:this.emit("row",le):this.emit("row",le):Ee.push(le)}),this._isBatch){if(Object.keys(this.parameters).length){for(const fe in this.parameters){if(!o(this.parameters,fe))continue;const Ae=this.parameters[fe];try{Ae.value=C(Ae.type).validate(Ae.value,this.parent.collation)}catch(ze){ze.message=`Validation failed for parameter '${fe}'. ${ze.message}`;const Ke=new r(ze,"EPARAM");return this.parent.release(Oe),G(Ke)}}const Ye=[];for(const fe in this.parameters){if(!o(this.parameters,fe))continue;const Ae=this.parameters[fe];Ye.push(`@${fe} ${c(Ae.type,Ae)}`)}const Ge=[];for(const fe in this.parameters){if(!o(this.parameters,fe))continue;const Ae=this.parameters[fe];Ge.push(`@${fe} = ${d(Ae.value,Ae.type,Ae)}`)}const re=[];for(const fe in this.parameters){if(!o(this.parameters,fe))continue;this.parameters[fe].io===2&&re.push(`@${fe} as [${fe}]`)}Pe=re.length>0,he.sqlTextOrProcedure=`declare ${Ye.join(", ")};select ${Ge.join(", ")};${he.sqlTextOrProcedure};${Pe?`select 1 as [___return___], ${re.join(", ")}`:""}`}}else for(const Ye in this.parameters){if(!o(this.parameters,Ye))continue;const Ge=this.parameters[Ye];Ge.io===1?he.addParameter(Ge.name,C(Ge.type),N(Ge.value),{length:Ge.length,scale:Ge.scale,precision:Ge.precision}):he.addOutputParameter(Ge.name,C(Ge.type),N(Ge.value),{length:Ge.length,scale:Ge.scale,precision:Ge.precision})}try{Oe[this._isBatch?"execSqlBatch":"execSql"](he)}catch(Ye){P(!0,Oe,Ye)}})})}_execute(F,G){super._execute(F,Q=>{if(Q)return G(Q);const j=[],Z=[],ie=[],J={},Re={},Fe=[];let ee={},Ee=[],ye=0,Pe=!1,$=null,V=!1;const H=(ue,_e,Oe)=>{let ce=new Error(Oe.message);if(ce.info=Oe,ce=new r(ce,"EREQUEST"),this.stream)this.emit("error",ce);else if(ue&&!V){if(_e){for(const le in J)_e.removeListener(le,J[le]);this.parent.release(_e)}V=!0,G(ce)}ie.push(ce)},P=ue=>{this.emit("info",{message:ue.message,number:ue.number,state:ue.state,class:ue.class,lineNumber:ue.lineNumber,serverName:ue.serverName,procName:ue.procName})};this.parent.acquire(this,(ue,_e,Oe)=>{if(ue)return G(ue);e("connection(%d): borrowed to request #%d",t.get(_e),t.get(this));let ce;if(this.canceled)return e("request(%d): canceled",t.get(this)),this.parent.release(_e),G(new r("Canceled.","ECANCEL"));if(this._cancel=()=>{e("request(%d): cancel",t.get(this)),_e.cancel()},_e.on("infoMessage",J.infoMessage=P),_e.on("errorMessage",J.errorMessage=H.bind(null,!1,_e)),_e.on("error",J.error=H.bind(null,!0,_e)),e.enabled){const he=Object.keys(this.parameters).map(re=>this.parameters[re]),xe=re=>typeof re=="string"&&re.length>50?re.substring(0,47)+"...":re,Ye=re=>re.name+" [sql."+re.type.name+"]",Ge={};he.forEach(re=>{Ge[Ye(re)]=xe(re.value)}),e("request(%d): execute %s %O",t.get(this),F,Ge)}const le=new i.Request(F,he=>{he&&(!ie.length||ie.length&&he.message!==ie[ie.length-1].message)&&(he=new r(he,"EREQUEST"),this.stream&&this.emit("error",he),ie.push(he)),delete this._cancel;let xe;if(ie.length&&!this.stream&&(xe=ie.pop(),xe.precedingErrors=ie),!V){for(const Ye in J)_e.removeListener(Ye,J[Ye]);this.parent.release(_e),V=!0,xe?e("request(%d): failed",t.get(this),xe):e("request(%d): complete",t.get(this)),this.stream?G(null,null,Re,ye,Fe,Z):G(xe,j,Re,ye,Fe,Z)}});this._setCurrentRequest(le),le.on("columnMetadata",he=>{ee=b(he,this.arrayRowMode),Pe=!1,he.length===1&&(he[0].colName===y||he[0].colName===E)&&(Pe=!0,$=[]),this.stream&&this.emit("recordset",ee),this.arrayRowMode&&Z.push(ee)}),le.on("row",he=>{if(Ee||(Ee=[]),Pe)return $.push(he[0].value);this.arrayRowMode?ce=[]:ce={};for(const xe of he)if(xe.value=I(xe.value,xe.metadata),this.arrayRowMode)ce.push(xe.value);else{const Ye=ce[xe.metadata.colName];Ye!=null?Ye instanceof Array?Ye.push(xe.value):ce[xe.metadata.colName]=[Ye,xe.value]:ce[xe.metadata.colName]=xe.value}this.stream?this.emit("row",ce):Ee.push(ce)}),le.on("doneInProc",(he,xe)=>{if(he!=null&&(Fe.push(he),this.stream&&this.emit("rowsaffected",he)),Object.keys(ee).length!==0){if(Pe){if(ee[y]&&Oe.parseJSON===!0)try{$.length===0?ce=null:ce=JSON.parse($.join(""))}catch(Ye){ce=null;const Ge=new r(new Error(`Failed to parse incoming JSON. ${Ye.message}`),"EJSON");this.stream&&this.emit("error",Ge),ie.push(Ge)}else ce={},ce[Object.keys(ee)[0]]=$.join("");$=null,this.stream?this.emit("row",ce):Ee.push(ce)}this.stream||(Object.defineProperty(Ee,"columns",{enumerable:!1,configurable:!0,value:ee}),Object.defineProperty(Ee,"toTable",{enumerable:!1,configurable:!0,value(Ye){return f.fromRecordset(this,Ye)}}),j.push(Ee)),Ee=[],ee={}}}),le.on("doneProc",(he,xe,Ye)=>{ye=Ye}),le.on("returnValue",(he,xe,Ye)=>{Re[he]=xe});for(const he in this.parameters){if(!o(this.parameters,he))continue;const xe=this.parameters[he];xe.io===1?le.addParameter(xe.name,C(xe.type),N(xe.value),{length:xe.length,scale:xe.scale,precision:xe.precision}):le.addOutputParameter(xe.name,C(xe.type),N(xe.value),{length:xe.length,scale:xe.scale,precision:xe.precision})}_e.callProcedure(le)})})}_pause(){super._pause(),this._currentRequest&&this._currentRequest.pause()}_resume(){super._resume(),this._currentRequest&&this._currentRequest.resume()}}return Y_=x,Y_}var CO;function YQ(){return CO||(CO=1,(function(i){const e=yV(),n=BQ(),r=HQ(),t=VQ();i.exports=Object.assign({ConnectionPool:n,Transaction:r,Request:t,PreparedStatement:e.PreparedStatement},e.exports),Object.defineProperty(i.exports,"Promise",{enumerable:!0,get:()=>e.Promise,set:o=>{e.Promise=o}}),Object.defineProperty(i.exports,"valueHandler",{enumerable:!0,value:e.valueHandler,writable:!1,configurable:!1}),e.driver.name="tedious",e.driver.ConnectionPool=n,e.driver.Transaction=r,e.driver.Request=t})(m0)),m0.exports}var G_,AO;function GQ(){return AO||(AO=1,G_=YQ()),G_}var zQ=GQ();const KQ=Uv(zQ);var mp={};class hl{constructor(){this.pool=null,this.isConnected=!1,this.config={user:mp.DB_USER||"sa",password:mp.DB_PASSWORD||"password",server:mp.DB_SERVER||"localhost",database:mp.DB_NAME||"PokerWiredDB",options:{encrypt:!0,trustServerCertificate:!0}}}static getInstance(){return hl.instance||(hl.instance=new hl),hl.instance}async connect(){if(this.isConnected&&this.pool)return this.pool;try{return this.pool=await KQ.connect(this.config),this.isConnected=!0,console.log("Connected to MSSQL Database"),this.pool}catch(e){throw console.error("Database Connection Failed! Using Mock Data Fallback.",e),e}}async query(e,n){try{const t=(await this.connect()).request();return n&&Object.keys(n).forEach(a=>{t.input(a,n[a])}),(await t.query(e)).recordset}catch(r){throw console.error("Query execution failed:",r),r}}}class WQ{constructor(){this.useMock=!0,this.db=hl.getInstance(),typeof window<"u"&&(this.useMock=!0)}async getReviews(){if(this.useMock)return Promise.resolve(ic);try{return await this.db.query("SELECT * FROM PokerSites ORDER BY rating DESC")}catch{return console.warn("Falling back to mock reviews"),Promise.resolve(ic)}}async getReviewById(e){if(this.useMock)return Promise.resolve(ic.find(n=>n.id===e));try{return(await this.db.query("SELECT * FROM PokerSites WHERE id = @id",{id:e}))[0]}catch{return Promise.resolve(ic.find(r=>r.id===e))}}async getPromos(){if(this.useMock)return Promise.resolve(df);try{return await this.db.query("SELECT * FROM PromoOffers")}catch{return Promise.resolve(df)}}async getPromoById(e){if(this.useMock)return Promise.resolve(df.find(n=>n.id===e));try{return(await this.db.query("SELECT * FROM PromoOffers WHERE id = @id",{id:e}))[0]}catch{return Promise.resolve(df.find(r=>r.id===e))}}async getNews(){if(this.useMock)return Promise.resolve(oc);try{return await this.db.query("SELECT * FROM NewsArticles ORDER BY date DESC")}catch{return Promise.resolve(oc)}}async getNewsById(e){if(this.useMock)return Promise.resolve(oc.find(n=>n.id===e));try{return(await this.db.query("SELECT * FROM NewsArticles WHERE id = @id",{id:e}))[0]}catch{return Promise.resolve(oc.find(r=>r.id===e))}}async getTournaments(){if(this.useMock)return Promise.resolve(NI);try{return await this.db.query("SELECT * FROM Tournaments ORDER BY date ASC")}catch{return Promise.resolve(NI)}}}const Wi=new WQ,$Q=()=>{const[i,e]=Ie.useState([]),[n,r]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{const o=await Wi.getTournaments(),a=await Wi.getNews();e(o),r(a.slice(0,3))})()},[]),k.jsxs("div",{className:"space-y-20",children:[k.jsxs("section",{className:"relative -mt-8 py-24 md:py-32 bg-slate-950 dark:bg-black overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 z-0",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/95 to-poker-primary/20 z-10"}),k.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-poker-primary/10 to-transparent z-10 mix-blend-overlay"}),k.jsx("img",{src:"https://images.unsplash.com/photo-1511193311914-0346f16efe90?q=80&w=2073&auto=format&fit=crop",alt:"Poker Background",className:"w-full h-full object-cover opacity-40 saturate-150"})]}),k.jsx("div",{className:"container mx-auto px-4 relative z-20",children:k.jsxs("div",{className:"max-w-3xl",children:[k.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-poker-primary/10 border border-poker-primary/20 text-poker-primary text-xs font-bold uppercase tracking-wider mb-6",children:[k.jsx("span",{className:"w-2 h-2 rounded-full bg-poker-primary animate-pulse"}),"Live Action"]}),k.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight mb-6 drop-shadow-lg",children:[k.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-400",children:"PLAY SMARTER."}),k.jsx("span",{className:"block text-poker-primary",children:"WIN BIGGER."})]}),k.jsx("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 max-w-2xl leading-relaxed",children:"The ultimate guide to online poker. We provide honest reviews, exclusive no-deposit bonuses, and cutting-edge strategy for 2024."}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[k.jsxs(ln,{to:gn.REVIEWS,className:"px-8 py-4 bg-poker-primary hover:bg-poker-primaryHover text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 shadow-xl shadow-poker-primary/25 text-lg transform hover:scale-105",children:["Find Top Poker Sites ",k.jsx(_p,{className:"w-5 h-5"})]}),k.jsx(ln,{to:gn.PROMO_CODES,className:"px-8 py-4 bg-white/5 text-white font-bold rounded-lg hover:bg-white/10 border border-white/20 transition-all text-lg text-center backdrop-blur-sm",children:"View Bonuses"})]})]})})]}),k.jsx("section",{className:"container mx-auto px-4 -mt-10 relative z-30",children:k.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:nV.map(t=>k.jsxs(ln,{to:`/category/${t.slug}`,className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-poker-darkSurface border border-slate-200 dark:border-white/5 rounded-2xl hover:border-poker-primary/50 dark:hover:border-poker-primary/30 hover:shadow-xl transition-all group shadow-md",children:[k.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-slate-400 mb-3 group-hover:text-poker-primary group-hover:bg-red-50 dark:group-hover:bg-white/10 transition-colors",children:t.icon}),k.jsx("span",{className:"text-sm font-semibold text-poker-text dark:text-slate-200",children:t.name})]},t.slug))})}),k.jsxs("section",{className:"container mx-auto px-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-8",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-3xl font-bold text-poker-text dark:text-white mb-2",children:"Upcoming Major Tournaments"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400",children:"The biggest events happening live and online."})]}),k.jsxs(ln,{to:gn.CATEGORY.replace(":slug","tournaments"),className:"hidden md:flex items-center text-poker-primary font-semibold hover:text-poker-primaryHover transition-colors text-sm",children:["View All Events ",k.jsx(_p,{className:"w-4 h-4 ml-1"})]})]}),k.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 dark:border-white/10 bg-white dark:bg-poker-darkSurface shadow-md",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"w-full text-left text-sm text-poker-text dark:text-slate-300",children:[k.jsx("thead",{className:"bg-slate-50 dark:bg-black/20 text-xs uppercase font-bold text-poker-muted border-b border-slate-200 dark:border-white/5",children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-6 py-4",children:"Brand"}),k.jsx("th",{className:"px-6 py-4",children:"Event"}),k.jsx("th",{className:"px-6 py-4",children:"Dates"}),k.jsx("th",{className:"px-6 py-4",children:"Location"}),k.jsx("th",{className:"px-6 py-4",children:"Buy-In"}),k.jsx("th",{className:"px-6 py-4 text-right",children:"Prize Pool"}),k.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),k.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-white/5",children:i.map(t=>k.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-white/5 transition-colors",children:[k.jsx("td",{className:"px-6 py-4",children:k.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-white/10 p-1",children:k.jsx("img",{src:t.brandLogoUrl,alt:t.brand,className:"w-full h-full object-contain rounded-full"})})}),k.jsxs("td",{className:"px-6 py-4 font-semibold text-poker-text dark:text-white",children:[t.eventName,t.status==="Live"&&k.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 animate-pulse",children:"LIVE"})]}),k.jsx("td",{className:"px-6 py-4 text-poker-muted whitespace-nowrap",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(zv,{className:"w-4 h-4"})," ",t.date]})}),k.jsx("td",{className:"px-6 py-4 text-poker-muted whitespace-nowrap",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(pF,{className:"w-4 h-4"})," ",t.location]})}),k.jsx("td",{className:"px-6 py-4 font-medium",children:t.buyIn}),k.jsx("td",{className:"px-6 py-4 text-right font-bold text-poker-secondary",children:t.prizePool}),k.jsx("td",{className:"px-6 py-4 text-center",children:k.jsx("button",{className:"px-4 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-md text-xs font-bold hover:opacity-90 transition-opacity",children:"Details"})})]},t.id))})]})})})]}),k.jsx("section",{className:"bg-slate-50 dark:bg-white/5 py-16 border-y border-slate-200 dark:border-white/5",children:k.jsx("div",{className:"container mx-auto px-4",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[k.jsxs("div",{className:"flex flex-col items-center gap-4",children:[k.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 flex items-center justify-center text-poker-gold shadow-sm",children:k.jsx(V4,{className:"w-8 h-8"})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-bold text-poker-text dark:text-white",children:"Unbiased Reviews"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm mt-2",children:"We test every site with real money to ensure fair play."})]})]}),k.jsxs("div",{className:"flex flex-col items-center gap-4",children:[k.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 flex items-center justify-center text-poker-secondary shadow-sm",children:k.jsx(QO,{className:"w-8 h-8"})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-bold text-poker-text dark:text-white",children:"Verified Bonuses"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm mt-2",children:"Our team checks promo codes weekly for validity."})]})]}),k.jsxs("div",{className:"flex flex-col items-center gap-4",children:[k.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 flex items-center justify-center text-poker-primary shadow-sm",children:k.jsx(XO,{className:"w-8 h-8"})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-bold text-poker-text dark:text-white",children:"Community Driven"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm mt-2",children:"Join thousands of players sharing strategies and tips."})]})]})]})})}),k.jsxs("section",{className:"container mx-auto px-4 pb-12",children:[k.jsxs("div",{className:"flex items-center justify-between mb-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-poker-text dark:text-white",children:"Latest Headlines"}),k.jsxs(ln,{to:gn.NEWS,className:"flex items-center text-poker-primary font-semibold hover:text-poker-primaryHover transition-colors text-sm",children:["Read All News ",k.jsx(_p,{className:"w-4 h-4 ml-1"})]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(t=>k.jsx(rE,{article:t},t.id))})]})]})},ML=({site:i,rank:e})=>k.jsxs("div",{className:"group relative bg-white dark:bg-poker-darkSurface border border-poker-border dark:border-white/5 rounded-2xl p-6 hover:shadow-xl hover:shadow-poker-primary/5 transition-all duration-300",children:[e&&k.jsx("div",{className:"absolute -top-3 -left-3 w-8 h-8 rounded-full bg-poker-primary text-white flex items-center justify-center font-bold shadow-lg z-10",children:e}),k.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[k.jsx("div",{className:"flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden border border-poker-border dark:border-white/10 bg-white relative shadow-sm",children:k.jsx("img",{src:i.logoUrl,alt:i.name,className:"w-full h-full object-cover p-2"})}),k.jsxs("div",{className:"flex-grow text-center md:text-left",children:[k.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 mb-2",children:[k.jsx("h3",{className:"text-2xl font-bold text-poker-text dark:text-white",children:i.name}),k.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1 bg-amber-50 dark:bg-amber-900/20 px-3 py-1 rounded-full border border-amber-100 dark:border-amber-900/30",children:[k.jsx(vc,{className:"w-4 h-4 text-poker-gold fill-poker-gold"}),k.jsx("span",{className:"text-poker-text dark:text-amber-100 font-bold",children:i.rating}),k.jsx("span",{className:"text-poker-muted dark:text-slate-500 text-xs",children:"/ 5.0"})]})]}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 text-sm mb-4 line-clamp-2",children:i.reviewSummary}),k.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mb-4",children:i.features.slice(0,3).map((n,r)=>k.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-300",children:n},r))})]}),k.jsxs("div",{className:"flex-shrink-0 w-full md:w-48 flex flex-col gap-3 border-t md:border-t-0 md:border-l border-poker-border dark:border-white/5 pt-4 md:pt-0 md:pl-6",children:[k.jsxs("div",{className:"text-center",children:[k.jsxs("div",{className:"flex items-center justify-center gap-2 text-poker-gold text-sm font-bold mb-1",children:[k.jsx(W_,{className:"w-4 h-4"}),k.jsx("span",{children:"Bonus"})]}),k.jsx("div",{className:"text-poker-text dark:text-white font-semibold text-sm leading-tight mb-3",children:i.bonus})]}),k.jsxs("a",{href:i.link,className:"w-full py-3 bg-poker-primary hover:bg-blue-600 text-white font-bold text-center rounded-lg shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2",children:["Play Now ",k.jsx(Kv,{className:"w-4 h-4"})]}),k.jsxs(ln,{to:`/reviews/${i.id}`,className:"text-center text-sm font-medium text-poker-muted dark:text-slate-400 hover:text-poker-primary dark:hover:text-white transition-colors flex items-center justify-center gap-1",children:["Read Review ",k.jsx(Gv,{className:"w-3 h-3"})]})]})]})]}),jQ=()=>{const[i,e]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{const r=await Wi.getReviews();e(r)})()},[]),k.jsxs("div",{className:"max-w-5xl mx-auto",children:[k.jsxs("div",{className:"mb-10 text-center",children:[k.jsx("h1",{className:"text-4xl font-bold text-poker-text dark:text-white mb-4",children:"Poker Room Reviews"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 max-w-2xl mx-auto",children:"We've analyzed traffic, software, rakes, and bonuses to rank the best online poker sites for 2024."})]}),k.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white dark:bg-poker-darkSurface p-4 rounded-xl border border-slate-200 dark:border-white/5 shadow-sm",children:[k.jsxs("div",{className:"text-sm font-semibold text-poker-text dark:text-white",children:["Showing ",i.length," Sites"]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-sm text-poker-muted dark:text-slate-400",children:"Sort by:"}),k.jsxs("select",{className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-white/10 text-poker-text dark:text-white text-sm rounded-lg p-2 focus:outline-none focus:border-poker-primary",children:[k.jsx("option",{children:"Highest Rating"}),k.jsx("option",{children:"Biggest Bonus"}),k.jsx("option",{children:"Newest"})]})]})]}),k.jsx("div",{className:"space-y-6",children:i.map((n,r)=>k.jsx(ML,{site:n,rank:r+1},n.id))}),k.jsxs("div",{className:"mt-12 p-8 bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-white/5 text-center",children:[k.jsx("h3",{className:"text-xl font-bold text-poker-text dark:text-white mb-2",children:"Can't decide where to play?"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 mb-6",children:"Ask our AI Assistant in the bottom right corner for a personalized recommendation based on your game type!"})]})]})},JQ=()=>{var o,a;const{id:i}=lm(),[e,n]=Ie.useState(void 0),[r,t]=Ie.useState(!0);return Ie.useEffect(()=>{(async()=>{if(i){const c=await Wi.getReviewById(i);n(c)}t(!1)})()},[i]),r?k.jsx("div",{className:"text-center py-20 text-poker-muted",children:"Loading review..."}):e?k.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in duration-500",children:[k.jsx(ln,{to:gn.REVIEWS,className:"text-sm text-poker-muted hover:text-poker-primary mb-4 inline-block",children:" Back to all reviews"}),k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface rounded-2xl p-8 border border-slate-200 dark:border-white/10 shadow-lg mb-8 relative overflow-hidden",children:[k.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:k.jsx("img",{src:e.logoUrl,className:"w-64 h-64 object-cover rounded-full"})}),k.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[k.jsx("div",{className:"w-32 h-32 rounded-2xl bg-white p-2 shadow-md border border-slate-100 dark:border-white/5",children:k.jsx("img",{src:e.logoUrl,className:"w-full h-full object-cover rounded-xl",alt:e.name})}),k.jsxs("div",{className:"flex-grow text-center md:text-left",children:[k.jsxs("h1",{className:"text-4xl font-bold text-poker-text dark:text-white mb-2",children:[e.name," Review"]}),k.jsx("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm mb-4",children:k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(vc,{className:"w-5 h-5 text-poker-gold fill-poker-gold"}),k.jsx("span",{className:"font-bold text-lg text-poker-text dark:text-white",children:e.rating}),k.jsx("span",{className:"text-poker-muted",children:"/ 5.0"})]})}),k.jsxs("div",{className:"inline-block bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-lg font-medium border border-blue-100 dark:border-blue-800/30",children:[k.jsx(W_,{className:"w-4 h-4 inline mr-2"}),e.bonus]})]}),k.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-3",children:[k.jsxs("a",{href:e.link,className:"px-8 py-3 bg-poker-primary text-white font-bold rounded-lg shadow-lg hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:["Visit Site ",k.jsx(Kv,{className:"w-4 h-4"})]}),k.jsxs("div",{className:"text-center text-xs text-poker-muted",children:["Promo Code: ",k.jsx("span",{className:"font-mono text-poker-text dark:text-white font-bold bg-slate-100 dark:bg-white/10 px-2 py-1 rounded",children:e.promoCode})]})]})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[k.jsxs("div",{className:"md:col-span-2 space-y-8",children:[k.jsxs("section",{className:"bg-white dark:bg-poker-darkSurface p-6 rounded-2xl border border-slate-200 dark:border-white/5",children:[k.jsx("h2",{className:"text-xl font-bold text-poker-text dark:text-white mb-4",children:"The Verdict"}),k.jsx("p",{className:"text-poker-text dark:text-slate-300 leading-relaxed",children:e.verdict})]}),k.jsxs("section",{className:"bg-white dark:bg-poker-darkSurface p-6 rounded-2xl border border-slate-200 dark:border-white/5",children:[k.jsx("h2",{className:"text-xl font-bold text-poker-text dark:text-white mb-4",children:"Pros & Cons"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider mb-3",children:"Pros"}),k.jsx("ul",{className:"space-y-3",children:(o=e.pros)==null?void 0:o.map((l,c)=>k.jsxs("li",{className:"flex items-start gap-2 text-sm text-poker-text dark:text-slate-300",children:[k.jsx(cm,{className:"w-5 h-5 text-emerald-500 shrink-0"}),l]},c))})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-sm font-bold text-red-600 dark:text-red-400 uppercase tracking-wider mb-3",children:"Cons"}),k.jsx("ul",{className:"space-y-3",children:(a=e.cons)==null?void 0:a.map((l,c)=>k.jsxs("li",{className:"flex items-start gap-2 text-sm text-poker-text dark:text-slate-300",children:[k.jsx(j4,{className:"w-5 h-5 text-red-500 shrink-0"}),l]},c))})]})]})]})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface p-6 rounded-2xl border border-slate-200 dark:border-white/5",children:[k.jsx("h3",{className:"font-bold text-poker-text dark:text-white mb-4",children:"Ratings Breakdown"}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[k.jsxs("span",{className:"flex items-center gap-2 text-poker-muted",children:[k.jsx(EF,{className:"w-4 h-4"})," Software"]}),k.jsxs("span",{className:"font-bold text-poker-text dark:text-white",children:[e.softwareRating,"/5"]})]}),k.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${e.softwareRating/5*100}%`}})})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[k.jsxs("span",{className:"flex items-center gap-2 text-poker-muted",children:[k.jsx(XO,{className:"w-4 h-4"})," Traffic"]}),k.jsxs("span",{className:"font-bold text-poker-text dark:text-white",children:[e.trafficRating,"/5"]})]}),k.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${e.trafficRating/5*100}%`}})})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[k.jsxs("span",{className:"flex items-center gap-2 text-poker-muted",children:[k.jsx(W_,{className:"w-4 h-4"})," Bonus"]}),k.jsxs("span",{className:"font-bold text-poker-text dark:text-white",children:[e.bonusRating,"/5"]})]}),k.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${e.bonusRating/5*100}%`}})})]})]})]}),k.jsxs("div",{className:"bg-gradient-to-br from-poker-primary to-indigo-700 p-6 rounded-2xl text-white text-center",children:[k.jsx("h3",{className:"font-bold text-xl mb-2",children:"Claim Your Bonus"}),k.jsxs("p",{className:"text-blue-100 text-sm mb-4",children:["Use code ",k.jsx("span",{className:"font-bold text-white",children:e.promoCode})," when you sign up."]}),k.jsx("a",{href:e.link,className:"block w-full py-2 bg-white text-blue-600 font-bold rounded-lg hover:bg-slate-100 transition-colors",children:"Play Now"})]})]})]})]}):k.jsx("div",{className:"text-center py-20 text-poker-muted",children:"Review not found."})},QQ=()=>{const[i,e]=Ie.useState([]);Ie.useEffect(()=>{(async()=>{const t=await Wi.getPromos();e(t)})()},[]);const n=r=>{navigator.clipboard.writeText(r),alert(`Code ${r} copied to clipboard!`)};return k.jsxs("div",{className:"max-w-6xl mx-auto",children:[k.jsxs("div",{className:"mb-12",children:[k.jsx("h1",{className:"text-4xl font-bold text-poker-text dark:text-white mb-4",children:"Exclusive Poker Promo Codes"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400",children:"Boost your bankroll with these verified bonus codes. We negotiate directly with operators to get you the best deals."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(r=>k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface border border-slate-200 dark:border-white/5 rounded-xl overflow-hidden hover:shadow-lg transition-all flex flex-col group",children:[k.jsx("div",{className:`h-2 w-full ${r.type==="No Deposit"?"bg-emerald-500":"bg-poker-primary"}`}),k.jsxs("div",{className:"p-6 flex-grow",children:[k.jsxs("div",{className:"flex justify-between items-start mb-4",children:[k.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wide ${r.type==="No Deposit"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-blue-100 text-blue-700 dark:bg-blue-500/10 dark:text-blue-400"}`,children:r.type}),r.verified&&k.jsxs("div",{className:"flex items-center gap-1 text-xs text-poker-muted dark:text-slate-400",children:[k.jsx(cm,{className:"w-3 h-3 text-emerald-500"})," Verified"]})]}),k.jsx("h3",{className:"text-xl font-bold text-poker-text dark:text-white mb-1",children:r.siteName}),k.jsx("p",{className:"text-lg text-poker-muted dark:text-slate-300 font-medium mb-6",children:r.offerTitle}),k.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-3 border border-dashed border-slate-300 dark:border-white/20 flex items-center justify-between mb-4 cursor-pointer hover:border-poker-primary hover:bg-white dark:hover:bg-slate-800 transition-colors",onClick:()=>n(r.code),children:[k.jsx("code",{className:"text-poker-text dark:text-poker-gold font-mono font-bold text-lg",children:r.code}),k.jsx(JO,{className:"w-4 h-4 text-slate-400 hover:text-poker-primary transition-colors"})]}),k.jsxs("p",{className:"text-xs text-poker-muted dark:text-slate-500 text-center mb-4",children:["Expires: ",r.expiry]}),k.jsxs(ln,{to:`/promo-codes/${r.id}`,className:"flex items-center justify-center gap-1 text-sm text-poker-primary hover:underline",children:[k.jsx(sF,{className:"w-3 h-3"})," More Details"]})]}),k.jsx("div",{className:"p-4 bg-slate-50 dark:bg-white/5 border-t border-slate-200 dark:border-white/5 text-center",children:k.jsx("button",{onClick:()=>n(r.code),className:"text-sm font-bold text-poker-primary hover:text-blue-700 dark:hover:text-white transition-colors w-full",children:"Copy & Claim Bonus"})})]},r.id))})]})},XQ=()=>{var a,l;const{id:i}=lm(),[e,n]=Ie.useState(void 0),[r,t]=Ie.useState(!0);Ie.useEffect(()=>{(async()=>{if(i){const d=await Wi.getPromoById(i);n(d)}t(!1)})()},[i]);const o=c=>{navigator.clipboard.writeText(c),alert(`Code ${c} copied to clipboard!`)};return r?k.jsx("div",{className:"text-center py-20 text-poker-muted",children:"Loading offer..."}):e?k.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in duration-500",children:[k.jsx(ln,{to:gn.PROMO_CODES,className:"text-sm text-poker-muted hover:text-poker-primary mb-6 inline-block",children:" Back to all codes"}),k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface border border-slate-200 dark:border-white/10 rounded-2xl overflow-hidden shadow-lg",children:[k.jsx("div",{className:`h-32 w-full ${e.type==="No Deposit"?"bg-gradient-to-r from-emerald-600 to-teal-500":"bg-gradient-to-r from-blue-600 to-indigo-600"} flex items-center justify-center`,children:k.jsxs("h1",{className:"text-3xl font-bold text-white text-center px-4",children:[e.siteName," Promo Code"]})}),k.jsxs("div",{className:"p-8",children:[k.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-poker-text dark:text-white mb-2",children:e.offerTitle}),k.jsxs("div",{className:"flex items-center gap-2 text-sm text-poker-muted mb-6",children:[k.jsx("span",{className:"bg-slate-100 dark:bg-white/10 px-3 py-1 rounded-full",children:e.type}),e.verified&&k.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[k.jsx(cm,{className:"w-4 h-4"})," Verified working"]})]}),k.jsxs("div",{className:"w-full max-w-md bg-slate-50 dark:bg-slate-900 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-6 relative group",children:[k.jsx("p",{className:"text-xs text-poker-muted uppercase tracking-wider mb-2",children:"Tap to Copy"}),k.jsx("button",{onClick:()=>o(e.code),className:"text-4xl font-mono font-bold text-poker-primary w-full break-all hover:scale-105 transition-transform",children:e.code}),k.jsx("div",{className:"absolute top-4 right-4",children:k.jsx(JO,{className:"w-5 h-5 text-slate-400"})})]})]}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("section",{children:[k.jsx("h3",{className:"text-lg font-bold text-poker-text dark:text-white mb-3",children:"Offer Details"}),k.jsx("p",{className:"text-poker-text dark:text-slate-300 leading-relaxed",children:e.description||"Use this exclusive code to unlock special benefits when you sign up."})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-lg font-bold text-poker-text dark:text-white mb-3",children:"How to Claim"}),k.jsx("ol",{className:"space-y-4",children:((a=e.stepsToClaim)==null?void 0:a.map((c,d)=>k.jsxs("li",{className:"flex gap-4 items-start",children:[k.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-white/10 flex items-center justify-center font-bold text-poker-primary",children:d+1}),k.jsx("p",{className:"text-poker-text dark:text-slate-300 mt-1",children:c})]},d)))||k.jsx("li",{className:"text-poker-muted",children:"Standard sign-up procedure applies."})})]}),k.jsxs("section",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-xl border border-slate-100 dark:border-white/5",children:[k.jsx("h3",{className:"text-sm font-bold text-poker-muted uppercase mb-3",children:"Terms & Conditions"}),k.jsx("ul",{className:"list-disc list-inside space-y-2 text-sm text-poker-muted dark:text-slate-400",children:((l=e.terms)==null?void 0:l.map((c,d)=>k.jsx("li",{children:c},d)))||k.jsx("li",{children:"Standard T&Cs apply. 18+ only."})})]})]}),k.jsx("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-white/10 text-center",children:k.jsxs("a",{href:"#",className:"inline-flex items-center justify-center px-8 py-4 bg-poker-primary text-white font-bold rounded-full hover:bg-blue-600 transition-colors shadow-lg shadow-blue-500/20",children:["Go to ",e.siteName," ",k.jsx(Gv,{className:"w-5 h-5 ml-2"})]})})]})]})]}):k.jsx("div",{className:"text-center py-20 text-poker-muted",children:"Offer not found."})},ZQ=()=>{const[i,e]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{const r=await Wi.getNews();e(r)})()},[]),k.jsxs("div",{className:"max-w-6xl mx-auto",children:[k.jsxs("div",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-4xl font-bold text-poker-text dark:text-white mb-4",children:"Latest Poker News"}),k.jsx("p",{className:"text-poker-muted dark:text-slate-400 max-w-2xl",children:"Stay updated with tournament results, industry legislation, and strategy articles from the pros."})]}),k.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:["All","Tournaments","Strategy","Industry","Opinion"].map(n=>k.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${n==="All"?"bg-poker-primary text-white":"bg-white dark:bg-poker-darkSurface border border-slate-200 dark:border-white/10 text-poker-muted dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 hover:text-poker-text dark:hover:text-white"}`,children:n},n))})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(n=>k.jsx(rE,{article:n},n.id))})]})},eX=()=>{const{id:i}=lm(),[e,n]=Ie.useState(void 0),[r,t]=Ie.useState(!0),[o,a]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{if(i){const d=await Wi.getNewsById(i);n(d)}const c=await Wi.getReviews();a(c.slice(0,5)),t(!1)})()},[i]),r?k.jsx("div",{className:"py-20 text-center text-poker-muted",children:"Loading article..."}):e?k.jsx("div",{className:"max-w-7xl mx-auto py-8",children:k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[k.jsxs("div",{className:"lg:col-span-2",children:[k.jsxs("nav",{className:"flex items-center text-sm text-poker-muted mb-6",children:[k.jsx(ln,{to:"/news",className:"hover:text-poker-primary",children:"News"}),k.jsx(_p,{className:"w-4 h-4 mx-2"}),k.jsx("span",{className:"text-poker-text dark:text-white truncate max-w-[200px]",children:e.title})]}),k.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-poker-text dark:text-white leading-tight mb-6",children:e.title}),k.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-8 border-b border-poker-border dark:border-white/10 pb-8",children:[k.jsxs("div",{className:"flex items-center gap-2 text-poker-text dark:text-slate-300 font-medium",children:[k.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:k.jsx($_,{className:"w-5 h-5 text-poker-muted"})}),k.jsxs("span",{children:["By ",e.author]})]}),k.jsxs("div",{className:"flex items-center gap-2 text-poker-muted",children:[k.jsx(zv,{className:"w-4 h-4"}),k.jsx("span",{children:e.date})]}),k.jsx("div",{className:"ml-auto",children:k.jsxs("button",{className:"flex items-center gap-2 text-poker-primary hover:underline",children:[k.jsx(AF,{className:"w-4 h-4"})," Share"]})})]}),k.jsx("div",{className:"w-full aspect-video rounded-2xl overflow-hidden mb-8 shadow-md",children:k.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),k.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none text-poker-text dark:text-slate-300",children:e.content?k.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}}):k.jsxs(k.Fragment,{children:[k.jsx("p",{className:"lead text-xl text-poker-muted dark:text-slate-400 mb-6",children:e.excerpt}),k.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),k.jsx("h3",{children:"Why this matters for players"}),k.jsx("p",{children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),k.jsxs("ul",{children:[k.jsx("li",{children:"Key point about the news topic"}),k.jsx("li",{children:"Impact on the online poker ecosystem"}),k.jsx("li",{children:"What players should expect next"})]})]})}),k.jsxs("div",{className:"mt-12 p-6 bg-slate-50 dark:bg-white/5 rounded-xl border border-poker-border dark:border-white/10 flex items-start gap-4",children:[k.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center shrink-0",children:k.jsx($_,{className:"w-8 h-8 text-poker-muted"})}),k.jsxs("div",{children:[k.jsxs("h4",{className:"font-bold text-poker-text dark:text-white text-lg",children:["About ",e.author]}),k.jsx("p",{className:"text-poker-muted text-sm mt-1",children:"Senior poker editor and industry analyst. Covering live events and online regulation since 2015."})]})]})]}),k.jsxs("aside",{className:"lg:col-span-1 space-y-8",children:[k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface border border-poker-border dark:border-white/10 rounded-xl shadow-lg overflow-hidden sticky top-24",children:[k.jsx("div",{className:"bg-slate-900 p-4",children:k.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[k.jsx(vc,{className:"w-5 h-5 text-poker-gold fill-poker-gold"})," Top Poker Sites"]})}),k.jsx("div",{className:"p-4 space-y-4",children:o.map((l,c)=>k.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-dashed border-slate-200 dark:border-white/10 last:border-0 last:pb-0",children:[k.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center font-bold text-poker-primary text-sm shrink-0",children:c+1}),k.jsx("div",{className:"w-12 h-12 rounded-lg bg-white border border-slate-100 dark:border-white/5 p-1 shrink-0",children:k.jsx("img",{src:l.logoUrl,alt:l.name,className:"w-full h-full object-cover rounded"})}),k.jsxs("div",{className:"flex-grow min-w-0",children:[k.jsx("div",{className:"font-bold text-poker-text dark:text-white truncate",children:l.name}),k.jsxs("div",{className:"text-xs text-poker-gold flex items-center gap-1",children:[k.jsx(vc,{className:"w-3 h-3 fill-current"})," ",l.rating]})]}),k.jsx("a",{href:l.link,className:"px-3 py-1.5 bg-poker-primary text-white text-xs font-bold rounded hover:bg-blue-600 transition-colors",children:"PLAY"})]},l.id))}),k.jsx("div",{className:"p-3 bg-slate-50 dark:bg-white/5 text-center",children:k.jsx(ln,{to:"/reviews",className:"text-sm text-poker-primary font-bold hover:underline",children:"View All Reviews"})})]}),k.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-slate-900 rounded-xl p-6 text-white text-center",children:[k.jsx(fF,{className:"w-10 h-10 mx-auto mb-4 text-poker-secondary"}),k.jsx("h3",{className:"font-bold text-xl mb-2",children:"Get Poker News"}),k.jsx("p",{className:"text-indigo-200 text-sm mb-4",children:"Join 10,000+ players getting weekly strategies and bonuses."}),k.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-2 rounded-lg text-slate-900 mb-2 focus:outline-none"}),k.jsx("button",{className:"w-full py-2 bg-poker-primary rounded-lg font-bold hover:bg-blue-500 transition-colors",children:"Subscribe"})]})]})]})}):k.jsx("div",{className:"py-20 text-center text-poker-muted",children:"Article not found."})},tX=()=>{const[i,e]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{const r=await Wi.getReviews();e(r)})()},[]),k.jsxs("div",{className:"max-w-5xl mx-auto",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-poker-text dark:text-white mb-6",children:"Best Online Poker Sites 2024"}),k.jsx("p",{className:"text-xl text-poker-muted dark:text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Discover the top-rated poker rooms available in your region. We test and review every site for security, game variety, and bonus value."})]}),k.jsx("div",{className:"space-y-6",children:i.map((n,r)=>k.jsxs("div",{className:"bg-white dark:bg-poker-darkSurface rounded-2xl border border-poker-border dark:border-white/10 shadow-lg overflow-hidden flex flex-col md:flex-row",children:[k.jsxs("div",{className:"w-full md:w-48 bg-slate-50 dark:bg-black/20 flex flex-col items-center justify-center p-6 border-b md:border-b-0 md:border-r border-poker-border dark:border-white/5 relative",children:[k.jsxs("div",{className:"absolute top-0 left-0 bg-poker-primary text-white text-xs font-bold px-3 py-1 rounded-br-lg",children:["#",r+1]}),k.jsx("div",{className:"w-24 h-24 rounded-xl bg-white p-2 shadow-sm border border-slate-100 dark:border-white/5 mb-3",children:k.jsx("img",{src:n.logoUrl,alt:n.name,className:"w-full h-full object-cover rounded"})}),k.jsxs("div",{className:"flex items-center gap-1 text-poker-gold",children:[k.jsx(vc,{className:"w-4 h-4 fill-current"}),k.jsx("span",{className:"font-bold",children:n.rating}),"/5"]}),k.jsx(ln,{to:`/reviews/${n.id}`,className:"text-xs text-poker-muted underline mt-2 hover:text-poker-primary",children:"Read Review"})]}),k.jsxs("div",{className:"flex-grow p-6 flex flex-col justify-center",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.jsx("h2",{className:"text-2xl font-bold text-poker-text dark:text-white",children:n.name}),r===0&&k.jsx("span",{className:"bg-amber-100 text-amber-800 text-xs font-bold px-2 py-0.5 rounded border border-amber-200",children:"Editor's Choice"})]}),k.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[k.jsx("ul",{className:"space-y-2",children:n.features.slice(0,2).map((t,o)=>k.jsxs("li",{className:"flex items-center gap-2 text-sm text-poker-text dark:text-slate-300",children:[k.jsx(cm,{className:"w-4 h-4 text-emerald-500 shrink-0"})," ",t]},o))}),k.jsx("ul",{className:"space-y-2",children:n.pros.slice(0,2).map((t,o)=>k.jsxs("li",{className:"flex items-center gap-2 text-sm text-poker-text dark:text-slate-300",children:[k.jsx(QO,{className:"w-4 h-4 text-blue-500 shrink-0"})," ",t]},o))})]}),k.jsxs("p",{className:"text-sm text-poker-muted italic line-clamp-1",children:['"',n.reviewSummary,'"']})]}),k.jsxs("div",{className:"w-full md:w-64 bg-slate-50 dark:bg-white/5 p-6 flex flex-col justify-center border-t md:border-t-0 md:border-l border-poker-border dark:border-white/5",children:[k.jsxs("div",{className:"mb-4 text-center",children:[k.jsx("span",{className:"block text-xs uppercase tracking-wider text-poker-muted font-bold mb-1",children:"Welcome Bonus"}),k.jsx("span",{className:"block text-lg font-bold text-poker-primary leading-tight",children:n.bonus})]}),k.jsxs("a",{href:n.link,className:"w-full py-3 bg-poker-primary hover:bg-blue-600 text-white font-bold rounded-lg shadow-lg flex items-center justify-center gap-2 transition-all transform hover:scale-105 mb-3",children:["Play Now ",k.jsx(Kv,{className:"w-4 h-4"})]}),k.jsxs("div",{className:"text-center text-xs text-poker-muted",children:["Use Code: ",k.jsx("span",{className:"font-mono font-bold bg-white dark:bg-black/30 px-1 rounded border border-slate-200 dark:border-white/10",children:n.promoCode})]})]})]},n.id))}),k.jsxs("div",{className:"mt-16 prose prose-slate dark:prose-invert max-w-none",children:[k.jsx("h2",{children:"How We Rate Poker Sites"}),k.jsx("p",{children:"We use a strict review process to ensure only the safest and most reliable poker rooms make our list. Our ranking factors include:"}),k.jsxs("ul",{children:[k.jsxs("li",{children:[k.jsx("strong",{children:"Security & Licensing:"})," We only recommend sites regulated by reputable authorities."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Game Variety:"})," A mix of Hold'em, Omaha, and exotic variants is essential."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Traffic:"})," We track player volume to ensure you can find a game 24/7."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Bonuses:"})," We verify terms and conditions to ensure offers are fair and valuable."]})]})]})]})},nX=()=>{const{slug:i}=lm(),e=i?i.charAt(0).toUpperCase()+i.slice(1).replace("-"," "):"Category";return k.jsxs("div",{className:"max-w-6xl mx-auto",children:[k.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[k.jsx("div",{className:"w-16 h-16 bg-white dark:bg-poker-darkSurface rounded-2xl flex items-center justify-center border border-slate-200 dark:border-white/10 shadow-sm",children:k.jsx(tF,{className:"w-8 h-8 text-poker-primary"})}),k.jsxs("div",{children:[k.jsx("h1",{className:"text-4xl font-bold text-poker-text dark:text-white mb-2",children:e}),k.jsxs("p",{className:"text-poker-muted dark:text-slate-400",children:["Browse all content related to ",e,"."]})]})]}),k.jsxs("div",{className:"space-y-12",children:[k.jsxs("section",{children:[k.jsx("h2",{className:"text-2xl font-bold text-poker-text dark:text-white mb-6 pl-4 border-l-4 border-poker-primary",children:"Related Articles"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:oc.slice(0,2).map(n=>k.jsx(rE,{article:n},n.id))})]}),k.jsxs("section",{children:[k.jsxs("h2",{className:"text-2xl font-bold text-poker-text dark:text-white mb-6 pl-4 border-l-4 border-poker-gold",children:["Recommended Sites for ",e]}),k.jsx("div",{className:"grid grid-cols-1 gap-6",children:ic.slice(0,2).map((n,r)=>k.jsx(ML,{site:n,rank:r+1},n.id))})]})]})]})};function rX(){return k.jsx(A4,{children:k.jsx(tV,{children:k.jsxs(t4,{children:[k.jsx(Li,{path:gn.HOME,element:k.jsx($Q,{})}),k.jsx(Li,{path:gn.REVIEWS,element:k.jsx(jQ,{})}),k.jsx(Li,{path:"/reviews/:id",element:k.jsx(JQ,{})}),k.jsx(Li,{path:gn.POKER_SITES,element:k.jsx(tX,{})}),k.jsx(Li,{path:gn.PROMO_CODES,element:k.jsx(QQ,{})}),k.jsx(Li,{path:"/promo-codes/:id",element:k.jsx(XQ,{})}),k.jsx(Li,{path:gn.NEWS,element:k.jsx(ZQ,{})}),k.jsx(Li,{path:"/news/:id",element:k.jsx(eX,{})}),k.jsx(Li,{path:gn.CATEGORY,element:k.jsx(nX,{})})]})})})}const kL=document.getElementById("root");if(!kL)throw new Error("Could not find root element to mount to");const iX=r8.createRoot(kL);iX.render(k.jsx(jU.StrictMode,{children:k.jsx(rX,{})}));
